(self.webpackChunkprimer_proyectito_test=self.webpackChunkprimer_proyectito_test||[]).push([[179],{8255:Be=>{function pe(k){return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+k+"'");throw v.code="MODULE_NOT_FOUND",v})}pe.keys=()=>[],pe.resolve=pe,pe.id=8255,Be.exports=pe},3018:(Be,pe,k)=>{"use strict";k.d(pe,{deG:()=>Bh,tb:()=>Ob,AFp:()=>Rb,ip1:()=>n0,CZH:()=>Jd,hGG:()=>au,z2F:()=>th,sBO:()=>pA,Sil:()=>Zs,_Vd:()=>Po,EJc:()=>s0,SBq:()=>ns,qLn:()=>j,vpe:()=>en,gxx:()=>Vs,tBr:()=>va,XFs:()=>_e,OlP:()=>an,zs3:()=>Jt,ZZ4:()=>xm,aQg:()=>Hd,soG:()=>Xd,YKP:()=>MI,v3s:()=>US,h0i:()=>Ja,PXZ:()=>m0,R0b:()=>_i,FiY:()=>Zr,Lbi:()=>wS,g9A:()=>Mb,Qsj:()=>bm,FYo:()=>Qa,JOm:()=>Ps,Tiy:()=>Qv,q3G:()=>Ht,tp0:()=>qi,EAV:()=>dc,Rgc:()=>ko,dDg:()=>d0,DyG:()=>Lc,q4F:()=>Dm,GfV:()=>Jv,s_b:()=>Om,ifc:()=>rn,eFA:()=>y0,G48:()=>Vb,Gpc:()=>Y,X6Q:()=>ly,_c5:()=>nD,VLi:()=>MS,c2e:()=>Pb,zSh:()=>fl,wAp:()=>Pe,vHH:()=>Ee,EiD:()=>ef,mCW:()=>Ki,qzn:()=>Rs,JVY:()=>Yu,pB0:()=>Ca,eBb:()=>qc,L6k:()=>ig,LAX:()=>e_,cg1:()=>xv,Tjo:()=>WS,kL8:()=>Vd,yhl:()=>Yr,dqk:()=>L,sIi:()=>wd,CqO:()=>kf,QGY:()=>bd,F4k:()=>sm,RDi:()=>ps,AaK:()=>H,z3N:()=>Pr,qOj:()=>J_,TTD:()=>vh,_Bn:()=>Za,xp6:()=>Aw,uIk:()=>tv,ekj:()=>dm,Suo:()=>Eb,Xpm:()=>mc,lG2:()=>Ap,Yz7:()=>Wt,cJS:()=>ai,oAB:()=>du,Yjl:()=>Sp,Y36:()=>Nl,_UZ:()=>Ua,qZA:()=>Ue,TgZ:()=>im,n5z:()=>Fu,Ikx:()=>pm,LFG:()=>pn,$8M:()=>Lu,NdJ:()=>om,CRH:()=>wb,Q6J:()=>Rl,iGM:()=>_b,LSH:()=>vo,kYT:()=>Jo,YNc:()=>Dl,_uU:()=>Cn,Oqu:()=>Od});var v=k(9765),Z=k(5319),F=k(7574),le=k(6682),ue=k(2441);var oe=k(1307);function $(){return new v.xQ}function P(s){for(let o in s)if(s[o]===P)return o;throw Error("Could not find renamed property on target object.")}function q(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function H(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(H).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function W(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const se=P({__forward_ref__:P});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return H(this())},s}function K(s){return be(s)?s():s}function be(s){return"function"==typeof s&&s.hasOwnProperty(se)&&s.__forward_ref__===Y}class Ee extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}function ee(s,o){const u=o?` in ${o}`:"";throw new Ee("201",`No provider for ${it(s)} found${u}`)}function qt(s,o){null==s&&function(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ai(s){return{providers:s.providers||[],imports:s.imports||[]}}function mr(s){return Yo(s,wn)||Yo(s,cu)}function Yo(s,o){return s.hasOwnProperty(o)?s[o]:null}function ds(s){return s&&(s.hasOwnProperty(Ar)||s.hasOwnProperty(Ye))?s[Ar]:null}const wn=P({\u0275prov:P}),Ar=P({\u0275inj:P}),cu=P({ngInjectableDef:P}),Ye=P({ngInjectorDef:P});var _e=(()=>((_e=_e||{})[_e.Default=0]="Default",_e[_e.Host=1]="Host",_e[_e.Self=2]="Self",_e[_e.SkipSelf=4]="SkipSelf",_e[_e.Optional=8]="Optional",_e))();let Nt;function Kt(s){const o=Nt;return Nt=s,o}function Ct(s,o,u){const c=mr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&_e.Optional?null:void 0!==o?o:void ee(H(s),"Injector")}function $e(s){return{toString:s}.toString()}var nn=(()=>((nn=nn||{})[nn.OnPush=0]="OnPush",nn[nn.Default=1]="Default",nn))(),rn=(()=>((rn=rn||{})[rn.Emulated=0]="Emulated",rn[rn.None=2]="None",rn[rn.ShadowDom=3]="ShadowDom",rn))();const yr="undefined"!=typeof globalThis&&globalThis,eo="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,L=yr||U||eo||V,ke={},Me=[],It=P({\u0275cmp:P}),Zt=P({\u0275dir:P}),Mt=P({\u0275pipe:P}),Sr=P({\u0275mod:P}),ft=P({\u0275loc:P}),Ot=P({\u0275fac:P}),jn=P({__NG_ELEMENT_ID__:P});let gc=0;function mc(s){return $e(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Me,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||rn.Emulated,id:"c",styles:s.styles||Me,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,f=s.features,_=s.pipes;return c.id+=gc++,c.inputs=ui(s.inputs,u),c.outputs=ui(s.outputs),f&&f.forEach(w=>w(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(uh):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(yc):null,c})}function uh(s){return Rn(s)||function(s){return s[Zt]||null}(s)}function yc(s){return function(s){return s[Mt]||null}(s)}const Qo={};function du(s){return $e(()=>{const o={type:s.type,bootstrap:s.bootstrap||Me,declarations:s.declarations||Me,imports:s.imports||Me,exports:s.exports||Me,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Qo[s.id]=s.type),o})}function Jo(s,o){return $e(()=>{const u=Jn(s,!0);u.declarations=o.declarations||Me,u.imports=o.imports||Me,u.exports=o.exports||Me})}function ui(s,o){if(null==s)return ke;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const Ap=mc;function Sp(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Rn(s){return s[It]||null}function Jn(s,o){const u=s[Sr]||null;if(!u&&!0===o)throw new Error(`Type ${H(s)} does not have '\u0275mod' property.`);return u}function Rr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Tt(s){return Array.isArray(s)&&!0===s[1]}function pu(s){return 0!=(8&s.flags)}function vc(s){return 2==(2&s.flags)}function Mr(s){return 1==(1&s.flags)}function li(s){return null!==s.template}function fh(s){return 0!=(512&s[2])}function Li(s,o){return s.hasOwnProperty(Ot)?s[Ot]:null}class _h{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function vh(){return mu}function mu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ty),ci}function ci(){const s=yu(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===ke)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Ty(s,o,u,c){const d=yu(s)||function(s,o){return s[Ay]=o}(s,{previous:ke,current:null}),f=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[u],b=_[w];f[w]=new _h(b&&b.currentValue,o,_===ke),s[c]=o}vh.ngInherit=!0;const Ay="__ngSimpleChanges__";function yu(s){return s[Ay]||null}let oo;function ps(s){oo=s}function Vt(s){return!!s.listen}const Dc={createRenderer:(s,o)=>void 0!==oo?oo:"undefined"!=typeof document?document:void 0};function Ut(s){for(;Array.isArray(s);)s=s[0];return s}function Eu(s,o){return Ut(o[s])}function Or(s,o){return Ut(o[s.index])}function gs(s,o){return s.data[o]}function er(s,o){const u=o[s];return Rr(u)?u:u[0]}function Cu(s){return 4==(4&s[2])}function Iu(s){return 128==(128&s[2])}function ms(s,o){return null==o?null:s[o]}function Ac(s){s[18]=0}function Eh(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const Ze={lFrame:$p(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wh(){return Ze.bindingsEnabled}function me(){return Ze.lFrame.lView}function pt(){return Ze.lFrame.tView}function sn(){let s=Vp();for(;null!==s&&64===s.type;)s=s.parent;return s}function Vp(){return Ze.lFrame.currentTNode}function Hr(s,o){const u=Ze.lFrame;u.currentTNode=s,u.isParent=o}function Ch(){return Ze.lFrame.isParent}function sa(){return Ze.isInCheckNoChangesMode}function _s(s){Ze.isInCheckNoChangesMode=s}function vs(){return Ze.lFrame.bindingIndex++}function Dh(s,o){const u=Ze.lFrame;u.bindingIndex=u.bindingRootIndex=s,Su(o)}function Su(s){Ze.lFrame.currentDirectiveIndex=s}function lo(){return Ze.lFrame.currentQueryIndex}function Sh(s){Ze.lFrame.currentQueryIndex=s}function xy(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ny(s,o,u){if(u&_e.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&_e.Host||(d=xy(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=Ze.lFrame=jp();return c.currentTNode=o,c.lView=s,!0}function xu(s){const o=jp(),u=s[1];Ze.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function jp(){const s=Ze.lFrame,o=null===s?null:s.child;return null===o?$p(s):o}function $p(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Hp(){const s=Ze.lFrame;return Ze.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const X0=Hp;function Gp(){const s=Hp();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function vr(){return Ze.lFrame.selectedIndex}function co(s){Ze.lFrame.selectedIndex=s}function Bt(){const s=Ze.lFrame;return gs(s.tView,s.selectedIndex)}function oa(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:A}=f;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function aa(s,o,u){Mh(s,o,3,u)}function Rh(s,o,u,c){(3&s[2])===u&&Mh(s,o,u,c)}function Nu(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Mh(s,o,u,c){const f=null!=c?c:-1,_=o.length-1;let w=0;for(let b=void 0!==c?65535&s[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=c&&w>=c)break}else o[b]<0&&(s[18]+=65536),(w<f||-1==f)&&(Py(s,u,o,b),s[18]=(4294901760&s[18])+b+2),b++}function Py(s,o,u,c){const d=u[c]<0,f=u[c+1],w=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class Ru{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function jt(s,o,u){const c=Vt(s);let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const _=u[d++],w=u[d++],b=u[d++];c?s.setAttribute(o,w,b,_):o.setAttributeNS(_,w,b)}else{const _=f,w=u[++d];Nc(_)?c&&s.setProperty(o,_,w):c?s.setAttribute(o,_,w):o.setAttribute(_,w),d++}}return d}function Ph(s){return 3===s||4===s||6===s}function Nc(s){return 64===s.charCodeAt(0)}function kh(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Fh(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Fh(s,o,u,c,d){let f=0,_=s.length;if(-1===o)_=-1;else for(;f<s.length;){const w=s[f++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=f-1;break}}}for(;f<s.length;){const w=s[f];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==_&&(s.splice(_,0,o),f=_+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function qp(s){return-1!==s}function Mu(s){return 32767&s}function Ou(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Pu=!0;function Rc(s){const o=Pu;return Pu=s,o}let $t=0;function Er(s,o){const u=tr(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Pc(c.data,s),Pc(o,null),Pc(c.blueprint,null));const d=ua(s,o),f=s.injectorIndex;if(qp(d)){const _=Mu(d),w=Ou(d,o),b=w[1].data;for(let T=0;T<8;T++)o[f+T]=w[_+T]|b[_+T]}return o[f+8]=d,f}function Pc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function tr(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ua(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){const f=d[1],_=f.type;if(c=2===_?f.declTNode:1===_?d[6]:null,null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function la(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(jn)&&(c=u[jn]),null==c&&(c=u[jn]=$t++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function Fy(s,o,u){if(u&_e.Optional)return s;ee(o,"NodeInjector")}function ca(s,o,u,c){if(u&_e.Optional&&void 0===c&&(c=null),0==(u&(_e.Self|_e.Host))){const d=s[9],f=Kt(void 0);try{return d?d.get(o,c,u&_e.Optional):Ct(o,c,u&_e.Optional)}finally{Kt(f)}}return Fy(c,o,u)}function zp(s,o,u,c=_e.Default,d){if(null!==s){const f=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(jn)?s[jn]:void 0;return"number"==typeof o?o>=0?255&o:Ly:o}(u);if("function"==typeof f){if(!Ny(o,s,c))return c&_e.Host?Fy(d,u,c):ca(o,u,c,d);try{const _=f(c);if(null!=_||c&_e.Optional)return _;ee(u)}finally{X0()}}else if("number"==typeof f){let _=null,w=tr(s,o),b=-1,T=c&_e.Host?o[16][6]:null;for((-1===w||c&_e.SkipSelf)&&(b=-1===w?ua(s,o):o[w+8],-1!==b&&Vy(c,!1)?(_=o[1],w=Mu(b),o=Ou(b,o)):w=-1);-1!==w;){const A=o[1];if(Zp(f,w,A.data)){const i=Vh(w,o,u,_,c,T);if(i!==qr)return i}b=o[w+8],-1!==b&&Vy(c,o[1].data[w+8]===T)&&Zp(f,w,o)?(_=A,w=Mu(b),o=Ou(b,o)):w=-1}}}return ca(o,u,c,d)}const qr={};function Ly(){return new Wr(sn(),me())}function Vh(s,o,u,c,d,f){const _=o[1],w=_.data[s+8],A=ku(w,_,u,null==c?vc(w)&&Pu:c!=_&&0!=(3&w.type),d&_e.Host&&f===w);return null!==A?da(o,_,A,w):qr}function ku(s,o,u,c,d){const f=s.providerIndexes,_=o.data,w=1048575&f,b=s.directiveStart,A=f>>20,n=d?w+A:s.directiveEnd;for(let r=c?w:w+A;r<n;r++){const a=_[r];if(r<b&&u===a||r>=b&&a.type===u)return r}if(d){const r=_[b];if(r&&li(r)&&r.type===u)return b}return null}function da(s,o,u,c){let d=s[u];const f=o.data;if(function(s){return s instanceof Ru}(d)){const _=d;_.resolving&&function(s,o){throw new Ee("200",`Circular dependency in DI detected for ${s}`)}(it(f[u]));const w=Rc(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?Kt(_.injectImpl):null;Ny(s,c,_e.Default);try{d=s[u]=_.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const _=mu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==b&&Kt(b),Rc(w),_.resolving=!1,X0()}}return d}function Zp(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Vy(s,o){return!(s&_e.Self||s&_e.Host&&o)}class Wr{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return zp(this._tNode,this._lView,o,void 0,u)}}function Fu(s){return $e(()=>{const o=s.prototype.constructor,u=o[Ot]||Uh(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[Ot]||Uh(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Uh(s){return be(s)?()=>{const o=Uh(K(s));return o&&o()}:Li(s)}function Lu(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(Ph(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(sn(),s)}const ho="__parameters__";function on(s,o,u){return $e(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const _=new d(...f);return w.annotation=_,w;function w(b,T,A){const i=b.hasOwnProperty(ho)?b[ho]:Object.defineProperty(b,ho,{value:[]})[ho];for(;i.length<=A;)i.push(null);return(i[A]=i[A]||[]).push(_),b}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class an{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bh=new an("AnalyzeForEntryComponents"),Lc=Function;function zr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),zr(c,o)):o!==s&&o.push(c)}return o}function Kr(s,o){s.forEach(u=>Array.isArray(u)?Kr(u,o):o(u))}function Bu(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ji(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function rr(s,o,u){let c=Ds(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function $u(s,o){const u=Ds(s,o);if(u>=0)return s[1|u]}function Ds(s,o){return function(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),_=s[f<<u];if(o===_)return f<<u;_>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const As={},Gh="__NG_DI_FLAG__",Ss="ngTempTokenPath",qh=/\n/gm,ot="__source",$i=P({provide:String,useValue:P});let po;function Hi(s){const o=po;return po=s,o}function qy(s,o=_e.Default){if(void 0===po)throw new Error("inject() must be called from an injection context");return null===po?Ct(s,void 0,o):po.get(s,o&_e.Optional?null:void 0,o)}function pn(s,o=_e.Default){return(Nt||qy)(K(s),o)}function xs(s){const o=[];for(let u=0;u<s.length;u++){const c=K(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=_e.Default;for(let _=0;_<c.length;_++){const w=c[_],b=jc(w);"number"==typeof b?-1===b?d=w.token:f|=b:d=w}o.push(pn(d,f))}else o.push(pn(c))}return o}function _a(s,o){return s[Gh]=o,s.prototype[Gh]=o,s}function jc(s){return s[Gh]}function Wy(s,o,u,c){const d=s[Ss];throw o[ot]&&d.unshift(o[ot]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=H(o);if(Array.isArray(o))d=o.map(H).join(" -> ");else if("object"==typeof o){let f=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];f.push(_+":"+("string"==typeof w?JSON.stringify(w):H(w)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(qh,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[Ss]=null,s}const va=_a(on("Inject",s=>({token:s})),-1),Zr=_a(on("Optional"),8),qi=_a(on("SkipSelf"),4);let go;function Ns(s){var o;return(null===(o=function(){if(void 0===go&&(go=null,L.trustedTypes))try{go=L.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return go}())||void 0===o?void 0:o.createHTML(s))||s}class yo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Jy extends yo{getTypeName(){return"HTML"}}class aw extends yo{getTypeName(){return"Style"}}class _o extends yo{getTypeName(){return"Script"}}class Xy extends yo{getTypeName(){return"URL"}}class rg extends yo{getTypeName(){return"ResourceURL"}}function Pr(s){return s instanceof yo?s.changingThisBreaksApplicationSecurity:s}function Rs(s,o){const u=Yr(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function Yr(s){return s instanceof yo&&s.getTypeName()||null}function Yu(s){return new Jy(s)}function ig(s){return new aw(s)}function qc(s){return new _o(s)}function e_(s){return new Xy(s)}function Ca(s){return new rg(s)}class t_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Ns(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Wc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ns(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Ns(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const _=u.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Jh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ki(s){return(s=String(s)).match(Jh)||s.match(zc)?s:"unsafe:"+s}function kr(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Ms(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const Kc=kr("area,br,col,hr,img,wbr"),ag=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ug=kr("rp,rt"),Yc=Ms(Kc,Ms(ag,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ms(ug,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ms(ug,ag)),Ju=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xh=kr("srcset"),dg=Ms(Ju,Xh,kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qc=kr("script,style,template");class hg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Yc.hasOwnProperty(u))return this.sanitizedSomething=!0,!Qc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),_=f.name,w=_.toLowerCase();if(!dg.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=f.value;Ju[w]&&(b=Ki(b)),Xh[w]&&(s=b,b=(s=String(s)).split(",").map(o=>Ki(o.trim())).join(", ")),this.buf.push(" ",_,'="',Jc(b),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Yc.hasOwnProperty(u)&&!Kc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Jc(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Xu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r_=/([^\#-~ |!])/g;function Jc(s){return s.replace(/&/g,"&amp;").replace(Xu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(r_,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xc;function ef(s,o){let u=null;try{Xc=Xc||function(s){const o=new Wc(s);return function(){try{return!!(new window.DOMParser).parseFromString(Ns(""),"text/html")}catch(s){return!1}}()?new t_(o):o}(s);let c=o?String(o):"";u=Xc.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=Xc.getInertBodyElement(c)}while(c!==f);return Ns((new hg).sanitizeChildren(el(u)||u))}finally{if(u){const c=el(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function el(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ht=(()=>((Ht=Ht||{})[Ht.NONE=0]="NONE",Ht[Ht.HTML=1]="HTML",Ht[Ht.STYLE=2]="STYLE",Ht[Ht.SCRIPT=3]="SCRIPT",Ht[Ht.URL=4]="URL",Ht[Ht.RESOURCE_URL=5]="RESOURCE_URL",Ht))();function vo(s){const o=function(){const s=me();return s&&s[12]}();return o?o.sanitize(Ht.URL,s)||"":Rs(s,"URL")?Pr(s):Ki(Se(s))}const pg="__ngContext__";function Tn(s,o){s[pg]=o}function On(s){const o=function(s){return s[pg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function I(s){return s.ngOriginalError}function R(s,...o){s.error(...o)}class j{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),d=(s=o)&&s.ngErrorLogger||R;var s;d(this._console,"ERROR",o),u&&d(this._console,"ORIGINAL ERROR",u),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(I(o)):null}_findOriginalError(o){let u=o&&I(o);for(;u&&I(u);)u=I(u);return u||null}}const rd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Ci(s){return s instanceof Function?s():s}var Ps=(()=>((Ps=Ps||{})[Ps.Important=1]="Important",Ps[Ps.DashCase=2]="DashCase",Ps))();function c_(s,o){return undefined(s,o)}function Eg(s){const o=s[3];return Tt(o)?o[3]:o}function wg(s){return dw(s[13])}function Cg(s){return dw(s[4])}function dw(s){for(;null!==s&&!Tt(s);)s=s[4];return s}function id(s,o,u,c,d){if(null!=c){let f,_=!1;Tt(c)?f=c:Rr(c)&&(_=!0,c=c[0]);const w=Ut(c);0===s&&null!==u?null==d?lf(o,u,w):al(o,u,w,d||null,!0):1===s&&null!==u?al(o,u,w,d||null,!0):2===s?function(s,o,u){const c=Io(s,o);c&&function(s,o,u,c){Vt(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,w,_):3===s&&o.destroyNode(w),null!=f&&function(s,o,u,c,d){const f=u[7];f!==Ut(u)&&id(o,s,c,f,d);for(let w=10;w<u.length;w++){const b=u[w];hf(b[1],b,s,o,c,f)}}(o,s,f,u,d)}}function m_(s,o,u){return Vt(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function pw(s,o){const u=s[9],c=u.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Eh(d,-1)),u.splice(c,1)}function __(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&pw(d,c),o>0&&(s[u-1][4]=c[4]);const f=ji(s,10+o);!function(s,o){hf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function gw(s,o){if(!(256&o[2])){const u=o[11];Vt(u)&&u.destroyNode&&hf(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return v_(s[1],s);for(;o;){let u=null;if(Rr(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Rr(o)&&v_(o[1],o),o=o[3];null===o&&(o=s),Rr(o)&&v_(o[1],o),u=o&&o[4]}o=u}}(o)}}function v_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Ru)){const f=u[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const w=d[f[_]],b=f[_+1];try{b.call(w)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const _=u[f+1],w="function"==typeof _?_(o):Ut(o[_]),b=c[d=u[f+2]],T=u[f+3];"boolean"==typeof T?w.removeEventListener(u[f],b,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),f+=2}else{const _=c[d=u[f+1]];u[f].call(_)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();o[7]=null}}(s,o),1===o[1].type&&Vt(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Tt(o[3])){u!==o[3]&&pw(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function yw(s,o,u){return function(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===rn.None||d===rn.Emulated)return null}return Or(c,u)}(s,o.parent,u)}function al(s,o,u,c,d){Vt(s)?s.insertBefore(o,u,c,d):o.insertBefore(u,c,d)}function lf(s,o,u){Vt(s)?s.appendChild(o,u):o.appendChild(u)}function Ig(s,o,u,c,d){null!==c?al(s,o,u,c,d):lf(s,o,u)}function Io(s,o){return Vt(s)?s.parentNode(o):o.parentNode}let vw=function(s,o,u){return 40&s.type?Or(s,u):null};function cf(s,o,u,c){const d=yw(s,c,o),f=o[11],w=function(s,o,u){return vw(s,o,u)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let b=0;b<u.length;b++)Ig(f,d,u[b],w,!1);else Ig(f,d,u,w,!1)}function df(s,o){if(null!==o){const u=o.type;if(3&u)return Or(o,s);if(4&u)return ww(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return df(s,c);{const d=s[o.index];return Tt(d)?ww(-1,d):Ut(d)}}if(32&u)return c_(o,s)()||Ut(s[o.index]);{const c=Tg(s,o);return null!==c?Array.isArray(c)?c[0]:df(Eg(s[16]),c):df(s,o.next)}}return null}function Tg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function ww(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return df(c,d)}return o[7]}function Ag(s,o,u,c,d,f,_){for(;null!=u;){const w=c[u.index],b=u.type;if(_&&0===o&&(w&&Tn(Ut(w),c),u.flags|=4),64!=(64&u.flags))if(8&b)Ag(s,o,u.child,c,d,f,!1),id(o,s,d,w,f);else if(32&b){const T=c_(u,c);let A;for(;A=T();)id(o,s,d,A,f);id(o,s,d,w,f)}else 16&b?Cw(s,o,c,u,d,f):id(o,s,d,w,f);u=_?u.projectionNext:u.next}}function hf(s,o,u,c,d,f){Ag(u,c,s.firstChild,o,d,f,!1)}function Cw(s,o,u,c,d,f){const _=u[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)id(o,s,d,b[T],f);else Ag(s,o,b,_[3],d,f,!0)}function bw(s,o,u){Vt(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function w_(s,o,u){Vt(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function C_(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const Dw="ng-template";function jD(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==C_(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Sg(s){return 4===s.type&&s.value!==Dw}function $D(s,o,u){return o===(4!==s.type||u?s.value:Dw)}function HD(s,o,u){let c=4;const d=s.attrs||[],f=function(s){for(let o=0;o<s.length;o++)if(Ph(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!$D(s,b,u)||""===b&&1===o.length){if(Ii(c))return!1;_=!0}}else{const T=8&c?b:o[++w];if(8&c&&null!==s.attrs){if(!jD(s.attrs,T,u)){if(Ii(c))return!1;_=!0}continue}const i=GD(8&c?"class":b,d,Sg(s),u);if(-1===i){if(Ii(c))return!1;_=!0;continue}if(""!==T){let n;n=i>f?"":d[i+1].toLowerCase();const r=8&c?n:null;if(r&&-1!==C_(r,T,0)||2&c&&T!==n){if(Ii(c))return!1;_=!0}}}}else{if(!_&&!Ii(c)&&!Ii(b))return!1;if(_&&Ii(b))continue;_=!1,c=b|1&c}}return Ii(c)||_}function Ii(s){return 0==(1&s)}function GD(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function qD(s,o,u=!1){for(let c=0;c<o.length;c++)if(HD(s,o[c],u))return!0;return!1}function Tw(s,o){return s?":not("+o.trim()+")":o}function ir(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const w=s[++u];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Ii(_)&&(o+=Tw(f,d),d=""),c=_,f=f||!Ii(c);u++}return""!==d&&(o+=Tw(f,d)),o}const rt={};function Aw(s){Sw(pt(),me(),vr()+s,sa())}function Sw(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&aa(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Rh(o,f,0,u)}co(u)}function xg(s,o){return s<<17|o<<2}function Pn(s){return s>>17&32767}function de(s){return 2|s}function Qi(s){return(131068&s)>>2}function Ng(s,o){return-131069&s|o<<2}function vt(s){return 1|s}function Pw(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const _=s.data[f];Sh(d),_.contentQueries(2,o[f],f)}}}function ll(s,o,u,c,d,f,_,w,b,T){const A=o.blueprint.slice();return A[0]=d,A[2]=140|c,Ac(A),A[3]=A[15]=s,A[8]=u,A[10]=_||s&&s[10],A[11]=w||s&&s[11],A[12]=b||s&&s[12]||null,A[9]=T||s&&s[9]||null,A[6]=f,A[16]=2==o.type?s[16]:A,A}function xa(s,o,u,c,d){let f=s.data[o];if(null===f)f=function(s,o,u,c,d){const f=Vp(),_=Ch(),b=s.data[o]=function(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=b),null!==f&&(_?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(s,o,u,c,d),Ze.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const _=function(){const s=Ze.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Hr(f,!0),f}function ad(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function yf(s,o,u){xu(o);try{const c=s.viewQuery;null!==c&&qg(1,c,u);const d=s.template;null!==d&&Lw(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Pw(s,o),s.staticViewQueries&&qg(2,s.viewQuery,u);const f=s.components;null!==f&&function(s,o){for(let u=0;u<o.length;u++)Zw(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Gp()}}function Na(s,o,u,c){const d=o[2];if(256==(256&d))return;xu(o);const f=sa();try{Ac(o),function(s){Ze.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Lw(s,o,u,2,c);const _=3==(3&d);if(!f)if(_){const T=s.preOrderCheckHooks;null!==T&&aa(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Rh(o,T,0,null),Nu(o,0)}if(function(s){for(let o=wg(s);null!==o;o=Cg(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(1024&d[2])&&Eh(f,1),d[2]|=1024}}}(o),function(s){for(let o=wg(s);null!==o;o=Cg(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];Iu(c)&&Na(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&Pw(s,o),!f)if(_){const T=s.contentCheckHooks;null!==T&&aa(o,T)}else{const T=s.contentHooks;null!==T&&Rh(o,T,1),Nu(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)co(~d);else{const f=d,_=u[++c],w=u[++c];Dh(_,f),w(2,o[f])}}}finally{co(-1)}}(s,o);const w=s.components;null!==w&&function(s,o){for(let u=0;u<o.length;u++)hT(s,o[u])}(o,w);const b=s.viewQuery;if(null!==b&&qg(2,b,c),!f)if(_){const T=s.viewCheckHooks;null!==T&&aa(o,T)}else{const T=s.viewHooks;null!==T&&Rh(o,T,2),Nu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),f||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Eh(o[3],-1))}finally{Gp()}}function Fw(s,o,u,c){const d=o[10],f=!sa(),_=Cu(o);try{f&&!_&&d.begin&&d.begin(),_&&yf(s,o,c),Na(s,o,u,c)}finally{f&&!_&&d.end&&d.end()}}function Lw(s,o,u,c,d){const f=vr(),_=2&c;try{co(-1),_&&o.length>20&&Sw(s,o,20,sa()),u(c,d)}finally{co(f)}}function Gn(s,o,u){!wh()||(function(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||Er(u,o),Tn(c,o);const _=u.initialInputs;for(let w=d;w<f;w++){const b=s.data[w],T=li(b);T&&M_(o,u,b);const A=da(o,s,w,u);Tn(A,o),null!==_&&zw(0,w-d,A,b,0,_),T&&(er(u.index,o)[8]=A)}}(s,o,u,Or(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,d=u.directiveEnd,_=u.index,w=Ze.lFrame.currentDirectiveIndex;try{co(_);for(let b=c;b<d;b++){const T=s.data[b],A=o[b];Su(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&$g(T,A)}}finally{co(-1),Su(w)}}(s,o,u))}function cl(s,o,u=Or){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],w=-1===_?u(o,s):s[_];s[d++]=w}}}function Uw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ra(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ra(s,o,u,c,d,f,_,w,b,T){const A=20+c,i=A+d,n=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:rt);return u}(A,i),r="function"==typeof T?T():T;return n[1]={type:s,blueprint:n,template:u,queries:null,viewQuery:w,declTNode:o,data:n.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:i,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:r,incompleteFirstPass:!1}}function Vg(s,o,u,c){const d=ld(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&L_(s).push(c,d.length-1))}function Ug(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function Jr(s,o,u,c,d,f,_,w){const b=Or(o,u);let A,T=o.inputs;!w&&null!=T&&(A=T[c])?(cd(s,u,A,c,d),vc(o)&&function(s,o){const u=er(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=_?_(d,o.value||"",c):d,Vt(f)?f.setProperty(b,c,d):Nc(c)||(b.setProperty?b.setProperty(c,d):b[c]=d))}function vf(s,o,u,c){let d=!1;if(wh()){const f=function(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];qD(u,_.selectors,!1)&&(d||(d=[]),la(Er(u,o),s,_.type),li(_)?(Gw(s,u),d.unshift(_)):d.push(_))}return d}(s,o,u),_=null===c?null:{"":-1};if(null!==f){d=!0,Ww(u,s.data.length,f.length);for(let A=0;A<f.length;A++){const i=f[A];i.providersResolver&&i.providersResolver(i)}let w=!1,b=!1,T=ad(s,o,f.length,null);for(let A=0;A<f.length;A++){const i=f[A];u.mergedAttrs=kh(u.mergedAttrs,i.hostAttrs),Hg(s,u,o,T,i),cT(T,i,_),null!==i.contentQueries&&(u.flags|=8),(null!==i.hostBindings||null!==i.hostAttrs||0!==i.hostVars)&&(u.flags|=128);const n=i.type.prototype;!w&&(n.ngOnChanges||n.ngOnInit||n.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!b&&(n.ngOnChanges||n.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),T++}!function(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,_=[];let w=null,b=null;for(let T=o.directiveStart;T<c;T++){const A=d[T],i=A.inputs,n=null===f||Sg(o)?null:dT(i,f);_.push(n),w=Ug(i,T,w),b=Ug(A.outputs,T,b)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=b}(s,u)}_&&function(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Ee("301",`Export of name '${o[d+1]}' not found!`);c.push(o[d],f)}}}(u,c,_)}return u.mergedAttrs=kh(u.mergedAttrs,u.attrs),d}function Bg(s,o,u,c,d,f){const _=f.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const b=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(w)!=b&&w.push(b),w.push(c,d,_)}}function $g(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Gw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function cT(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;li(o)&&(u[""]=s)}}function Ww(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Hg(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=Li(d.type)),_=new Ru(f,li(d),null);s.blueprint[c]=_,u[c]=_,Bg(s,o,0,c,ad(s,u,d.hostVars,rt),d)}function M_(s,o,u){const c=Or(o,s),d=Uw(u),f=s[10],_=wf(s,ll(s,d,null,u.onPush?64:16,c,o,f,f.createRenderer(c,u),null,null));s[o.index]=_}function Ls(s,o,u,c,d,f){const _=Or(s,o);!function(s,o,u,c,d,f,_){if(null==f)Vt(s)?s.removeAttribute(o,d,u):o.removeAttribute(d);else{const w=null==_?Se(f):_(f,c||"",d);Vt(s)?s.setAttribute(o,d,w,u):u?o.setAttributeNS(u,d,w):o.setAttribute(d,w)}}(o[11],_,f,s.value,u,c,d)}function zw(s,o,u,c,d,f){const _=f[o];if(null!==_){const w=c.setInput;for(let b=0;b<_.length;){const T=_[b++],A=_[b++],i=_[b++];null!==w?c.setInput(u,i,T,A):u[A]=i}}}function dT(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function Gg(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function hT(s,o){const u=er(o,s);if(Iu(u)){const c=u[1];80&u[2]?Na(c,u,c.template,u[8]):u[5]>0&&dl(u)}}function dl(s){for(let c=wg(s);null!==c;c=Cg(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const _=f[1];Na(_,f,_.template,f[8])}else f[5]>0&&dl(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=er(u[c],s);Iu(d)&&d[5]>0&&dl(d)}}function Zw(s,o){const u=er(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),yf(c,u,u[8])}function wf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ud(s){for(;s;){s[2]|=64;const o=Eg(s);if(fh(s)&&!o)return s;s=o}return null}function Ma(s,o,u){const c=o[10];c.begin&&c.begin();try{Na(s,o,s.template,u)}catch(d){throw V_(o,d),d}finally{c.end&&c.end()}}function Qw(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=On(u),d=c[1];Fw(d,c,d.template,u)}}(s[8])}function qg(s,o,u){Sh(0),o(s,u)}const Jw=(()=>Promise.resolve(null))();function ld(s){return s[7]||(s[7]=[])}function L_(s){return s.cleanup||(s.cleanup=[])}function V_(s,o){const u=s[9],c=u?u.get(j,null):null;c&&c.handleError(o)}function cd(s,o,u,c,d){for(let f=0;f<u.length;){const _=u[f++],w=u[f++],b=o[_],T=s.data[_];null!==T.setInput?T.setInput(b,d,c,w):b[w]=d}}function bi(s,o,u){const c=Eu(o,s);!function(s,o,u){Vt(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function Cf(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?f=w:1==f?d=W(d,w):2==f&&(c=W(c,w+": "+o[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}const Vs=new an("INJECTOR",-1);class Wg{get(o,u=As){if(u===As){const c=new Error(`NullInjectorError: No provider for ${H(o)}!`);throw c.name="NullInjectorError",c}return u}}const fl=new an("Set Injector scope."),pl={},zg={};let gl;function B_(){return void 0===gl&&(gl=new Wg),gl}function Kg(s,o=null,u=null,c){return new Zg(s,u,o||B_(),c)}class Zg{constructor(o,u,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];u&&Kr(u,w=>this.processProvider(w,o,u)),Kr([o],w=>this.processInjectorType(w,[],f)),this.records.set(Vs,dd(void 0,this));const _=this.records.get(fl);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:H(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=As,c=_e.Default){this.assertNotDestroyed();const d=Hi(this),f=Kt(void 0);try{if(!(c&_e.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=("function"==typeof(s=o)||"object"==typeof s&&s instanceof an)&&mr(o);w=b&&this.injectableDefInScope(b)?dd(If(o),pl):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&_e.Self?B_():this.parent).get(o,u=c&_e.Optional&&u===As?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Ss]=_[Ss]||[]).unshift(H(o)),d)throw _;return Wy(_,o,"R3InjectorError",this.source)}throw _}finally{Kt(f),Hi(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(H(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=K(o)))return!1;let d=ds(o);const f=null==d&&o.ngModule||void 0,_=void 0===f?o:f,w=-1!==c.indexOf(_);if(void 0!==f&&(d=ds(f)),null==d)return!1;if(null!=d.imports&&!w){let A;c.push(_);try{Kr(d.imports,i=>{this.processInjectorType(i,u,c)&&(void 0===A&&(A=[]),A.push(i))})}finally{}if(void 0!==A)for(let i=0;i<A.length;i++){const{ngModule:n,providers:r}=A[i];Kr(r,a=>this.processProvider(a,n,r||Me))}}this.injectorDefTypes.add(_);const b=Li(_)||(()=>new _);this.records.set(_,dd(b,pl));const T=d.providers;if(null!=T&&!w){const A=o;Kr(T,i=>this.processProvider(i,A,T))}return void 0!==f&&void 0!==o.providers}processProvider(o,u,c){let d=Us(o=K(o))?o:K(o&&o.provide);const f=hd(s=o)?dd(void 0,s.useValue):dd(j_(s),pl);var s;if(Us(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=dd(void 0,pl,!0),_.factory=()=>xs(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,f)}hydrate(o,u){return u.value===pl&&(u.value=zg,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=K(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function If(s){const o=mr(s),u=null!==o?o.factory:Li(s);if(null!==u)return u;if(s instanceof an)throw new Error(`Token ${H(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${H(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[wn]||s[cu]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function j_(s,o,u){let c;if(Us(s)){const d=K(s);return Li(d)||If(d)}if(hd(s))c=()=>K(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...xs(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>pn(K(s.useExisting));else{const d=K(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Li(d)||If(d);c=()=>new d(...xs(s.deps))}return c}function dd(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function hd(s){return null!==s&&"object"==typeof s&&$i in s}function Us(s){return"function"==typeof s}const Oa=function(s,o,u){return function(s,o=null,u=null,c){const d=Kg(s,o,u,c);return d._resolveInjectorDefTypes(),d}({name:u},o,s,u)};let Jt=(()=>{class s{static create(u,c){return Array.isArray(u)?Oa(u,c,""):Oa(u.providers,u.parent,u.name||"")}}return s.THROW_IF_NOT_FOUND=As,s.NULL=new Wg,s.\u0275prov=Wt({token:s,providedIn:"any",factory:()=>pn(Vs)}),s.__NG_ELEMENT_ID__=-1,s})();function gC(s,o){oa(On(s)[1],sn())}function J_(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(li(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(u){c.push(d);const _=s;_.inputs=Xg(s.inputs),_.declaredInputs=Xg(s.declaredInputs),_.outputs=Xg(s.outputs);const w=d.hostBindings;w&&bT(s,w);const b=d.viewQuery,T=d.contentQueries;if(b&&CT(s,b),T&&IT(s,T),q(s.inputs,d.inputs),q(s.declaredInputs,d.declaredInputs),q(s.outputs,d.outputs),li(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const w=f[_];w&&w.ngInherit&&w(s),w===J_&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=kh(d.hostAttrs,u=kh(u,d.hostAttrs))}}(c)}function Xg(s){return s===ke?{}:s===Me?[]:s}function CT(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function IT(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function bT(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}let xf=null;function bo(){if(!xf){const s=L.Symbol;if(s&&s.iterator)xf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(xf=c)}}}return xf}function wd(s){return!!_l(s)&&(Array.isArray(s)||!(s instanceof Map)&&bo()in s)}function _l(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fn(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function tv(s,o,u,c){const d=me();return Fn(d,vs(),o)&&(pt(),Ls(Bt(),d,s,o,u,c)),tv}function Dl(s,o,u,c,d,f,_,w){const b=me(),T=pt(),A=s+20,i=T.firstCreatePass?function(s,o,u,c,d,f,_,w,b){const T=o.consts,A=xa(o,s,4,_||null,ms(T,w));vf(o,u,A,ms(T,b)),oa(o,A);const i=A.tViews=Ra(2,A,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,A),i.queries=o.queries.embeddedTView(A)),A}(A,T,b,o,u,c,d,f,_):T.data[A];Hr(i,!1);const n=b[11].createComment("");cf(T,b,n,i),Tn(n,b),wf(b,b[A]=Gg(n,b,n,i)),Mr(i)&&Gn(T,b,i),null!=_&&cl(b,i,w)}function Nl(s,o=_e.Default){const u=me();return null===u?pn(s,o):zp(sn(),u,K(s),o)}function Rl(s,o,u){const c=me();return Fn(c,vs(),o)&&Jr(pt(),Bt(),c,s,o,c[11],u,!1),Rl}function To(s,o,u,c,d){const _=d?"class":"style";cd(s,u,o.inputs[_],_,c)}function im(s,o,u,c){const d=me(),f=pt(),_=20+s,w=d[11],b=d[_]=m_(w,o,Ze.lFrame.currentNamespace),T=f.firstCreatePass?function(s,o,u,c,d,f,_){const w=o.consts,T=xa(o,s,2,d,ms(w,f));return vf(o,u,T,ms(w,_)),null!==T.attrs&&Cf(T,T.attrs,!1),null!==T.mergedAttrs&&Cf(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,f,d,0,o,u,c):f.data[_];Hr(T,!0);const A=T.mergedAttrs;null!==A&&jt(w,b,A);const i=T.classes;null!==i&&w_(w,b,i);const n=T.styles;null!==n&&bw(w,b,n),64!=(64&T.flags)&&cf(f,d,b,T),0===Ze.lFrame.elementDepthCount&&Tn(b,d),Ze.lFrame.elementDepthCount++,Mr(T)&&(Gn(f,d,T),function(s,o,u){if(pu(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const _=s.data[f];_.contentQueries&&_.contentQueries(1,u[f],f)}}}(f,T,d)),null!==c&&cl(d,T)}function Ue(){let s=sn();Ch()?Ze.lFrame.isParent=!1:(s=s.parent,Hr(s,!1));const o=s;Ze.lFrame.elementDepthCount--;const u=pt();u.firstCreatePass&&(oa(u,s),pu(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&To(u,o,me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&To(u,o,me(),o.stylesWithoutHost,!1)}function Ua(s,o,u,c){im(s,o,u,c),Ue()}function bd(s){return!!s&&"function"==typeof s.then}function sm(s){return!!s&&"function"==typeof s.subscribe}const kf=sm;function om(s,o,u,c){const d=me(),f=pt(),_=sn();return function(s,o,u,c,d,f,_,w){const b=Mr(c),A=s.firstCreatePass&&L_(s),i=o[8],n=ld(o);let r=!0;if(3&c.type||w){const h=Or(c,o),m=w?w(h):h,E=n.length,D=w?S=>w(Ut(S[c.index])):c.index;if(Vt(u)){let S=null;if(!w&&b&&(S=function(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===u&&d[f+1]===c){const w=o[7],b=d[f+2];return w.length>b?w[b]:null}"string"==typeof _&&(f+=2)}return null}(s,o,d,c.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=f,S.__ngLastListenerFn__=f,r=!1;else{f=um(c,o,i,f,!1);const N=u.listen(m,d,f);n.push(f,N),A&&A.push(d,D,E,E+1)}}else f=um(c,o,i,f,!0),m.addEventListener(d,f,_),n.push(f),A&&A.push(d,D,E,_)}else f=um(c,o,i,f,!1);const a=c.outputs;let l;if(r&&null!==a&&(l=a[d])){const h=l.length;if(h)for(let m=0;m<h;m+=2){const M=o[l[m]][l[m+1]].subscribe(f),B=n.length;n.push(f,M),A&&A.push(d,c.index,B,-(B+1))}}}(f,d,d[11],_,s,o,!!u,c),om}function dr(s,o,u,c){try{return!1!==u(c)}catch(d){return V_(s,d),!1}}function um(s,o,u,c,d){return function f(_){if(_===Function)return c;const w=2&s.flags?er(s.index,o):o;0==(32&o[2])&&ud(w);let b=dr(o,0,c,_),T=f.__ngNextListenerFn__;for(;T;)b=dr(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Ad(s,o,u,c,d){const f=s[u+1],_=null===o;let w=c?Pn(f):Qi(f),b=!1;for(;0!==w&&(!1===b||_);){const A=s[w+1];lm(s[w],o)&&(b=!0,s[w+1]=c?vt(A):de(A)),w=c?Pn(A):Qi(A)}b&&(s[u+1]=c?de(f):vt(f))}function lm(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ds(s,o)>=0}function dm(s,o){return function(s,o,u,c){const d=me(),f=pt(),_=function(s){const o=Ze.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[vr()],_=function(s,o){return o>=s.expandoStartIndex}(s,u);(function(s,o){return 0!=(s.flags&(o?16:32))})(f,c)&&null===o&&!_&&(o=!1),o=function(s,o,u,c){const d=function(s){const o=Ze.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Rd(u=xo(null,s,o,u,c),o.attrs,c),f=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(u=xo(d,s,o,u,c),null===f){let b=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Qi(c))return s[Pn(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=xo(null,s,o,b[1],c),b=Rd(b,o.attrs,c),function(s,o,u,c){s[Pn(u?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else f=function(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=Rd(c,s[f].hostAttrs,u);return Rd(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function(s,o,u,c,d,f){let _=f?o.classBindings:o.styleBindings,w=Pn(_),b=Qi(_);s[c]=u;let A,T=!1;if(Array.isArray(u)){const i=u;A=i[1],(null===A||Ds(i,A)>0)&&(T=!0)}else A=u;if(d)if(0!==b){const n=Pn(s[w+1]);s[c+1]=xg(n,w),0!==n&&(s[n+1]=Ng(s[n+1],c)),s[w+1]=function(s,o){return 131071&s|o<<17}(s[w+1],c)}else s[c+1]=xg(w,0),0!==w&&(s[w+1]=Ng(s[w+1],c)),w=c;else s[c+1]=xg(b,0),0===w?w=c:s[b+1]=Ng(s[b+1],c),b=c;T&&(s[c+1]=de(s[c+1])),Ad(s,A,c,!0),Ad(s,A,c,!1),function(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Ds(f,o)>=0&&(u[c+1]=vt(u[c+1]))}(o,A,s,c,f),_=xg(w,b),f?o.classBindings=_:o.styleBindings=_}(d,f,o,u,_,c)}}(f,s,_,c),o!==rt&&Fn(d,_,o)&&function(s,o,u,c,d,f,_,w){if(!(3&o.type))return;const b=s.data,T=b[w+1];Ba(function(s){return 1==(1&s)}(T)?wv(b,o,u,d,Qi(T),_):void 0)||(Ba(f)||function(s){return 2==(2&s)}(T)&&(f=wv(b,null,u,d,w,_)),function(s,o,u,c,d){const f=Vt(s);if(o)d?f?s.addClass(u,c):u.classList.add(c):f?s.removeClass(u,c):u.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:Ps.DashCase;if(null==d)f?s.removeStyle(u,c,_):u.style.removeProperty(c);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=Ps.Important),f?s.setStyle(u,c,d,_):u.style.setProperty(c,d,w?"important":"")}}}(c,_,Eu(vr(),u),d,f))}(f,f.data[vr()],d,d[11],s,d[_+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=H(Pr(s)))),s}(o,u),c,_)}(s,o,null,!0),dm}function xo(s,o,u,c,d){let f=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(f=o[w],c=Rd(c,f.hostAttrs,d),f!==s);)w++;return null!==s&&(u.directiveStylingLast=w),c}function Rd(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const _=o[f];"number"==typeof _?d=_:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),rr(s,_,!!u||o[++f]))}return void 0===s?null:s}function wv(s,o,u,c,d,f){const _=null===o;let w;for(;d>0;){const b=s[d],T=Array.isArray(b),A=T?b[1]:b,i=null===A;let n=u[d+1];n===rt&&(n=i?Me:void 0);let r=i?$u(n,c):A===c?n:void 0;if(T&&!Ba(r)&&(r=$u(b,c)),Ba(r)&&(w=r,_))return w;const a=s[d+1];d=_?Pn(a):Qi(a)}if(null!==o){let b=f?o.residualClasses:o.residualStyles;null!=b&&(w=$u(b,c))}return w}function Ba(s){return void 0!==s}function Cn(s,o=""){const u=me(),c=pt(),d=s+20,f=c.firstCreatePass?xa(c,d,1,o,null):c.data[d],_=u[d]=function(s,o){return Vt(s)?s.createText(o):s.createTextNode(o)}(u[11],o);cf(c,u,_,f),Hr(f,!1)}function Od(s){return Pd("",s,""),Od}function Pd(s,o,u){const c=me(),d=function(s,o,u,c){return Fn(s,vs(),u)?o+Se(u)+c:rt}(c,s,o,u);return d!==rt&&bi(c,vr(),d),Pd}function pm(s,o,u){const c=me();return Fn(c,vs(),o)&&Jr(pt(),Bt(),c,s,o,c[11],u,!0),pm}const ja=void 0;var XC=["en",[["a","p"],["AM","PM"],ja],[["AM","PM"],ja,ja],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ja,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ja,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ja,"{1} 'at' {0}",ja],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let kl={};function xv(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Nv(o);if(u)return u;const c=o.split("-")[0];if(u=Nv(c),u)return u;if("en"===c)return XC;throw new Error(`Missing locale data for the locale "${s}".`)}function Vd(s){return xv(s)[Pe.PluralCase]}function Nv(s){return s in kl||(kl[s]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[s]),kl[s]}var Pe=(()=>((Pe=Pe||{})[Pe.LocaleId=0]="LocaleId",Pe[Pe.DayPeriodsFormat=1]="DayPeriodsFormat",Pe[Pe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pe[Pe.DaysFormat=3]="DaysFormat",Pe[Pe.DaysStandalone=4]="DaysStandalone",Pe[Pe.MonthsFormat=5]="MonthsFormat",Pe[Pe.MonthsStandalone=6]="MonthsStandalone",Pe[Pe.Eras=7]="Eras",Pe[Pe.FirstDayOfWeek=8]="FirstDayOfWeek",Pe[Pe.WeekendRange=9]="WeekendRange",Pe[Pe.DateFormat=10]="DateFormat",Pe[Pe.TimeFormat=11]="TimeFormat",Pe[Pe.DateTimeFormat=12]="DateTimeFormat",Pe[Pe.NumberSymbols=13]="NumberSymbols",Pe[Pe.NumberFormats=14]="NumberFormats",Pe[Pe.CurrencyCode=15]="CurrencyCode",Pe[Pe.CurrencySymbol=16]="CurrencySymbol",Pe[Pe.CurrencyName=17]="CurrencyName",Pe[Pe.Currencies=18]="Currencies",Pe[Pe.Directionality=19]="Directionality",Pe[Pe.PluralCase=20]="PluralCase",Pe[Pe.ExtraData=21]="ExtraData",Pe))();const gi="en-US";let Ov=gi;function Pv(s){qt(s,"Expected localeId to be defined"),"string"==typeof s&&(Ov=s.toLowerCase().replace(/_/g,"-"))}function Ws(s,o,u,c,d){if(s=K(s),Array.isArray(s))for(let f=0;f<s.length;f++)Ws(s[f],o,u,c,d);else{const f=pt(),_=me();let w=Us(s)?s:K(s.provide),b=j_(s);const T=sn(),A=1048575&T.providerIndexes,i=T.directiveStart,n=T.providerIndexes>>20;if(Us(s)||!s.multi){const r=new Ru(b,d,Nl),a=Oo(w,o,d?A:A+n,i);-1===a?(la(Er(T,_),f,w),za(f,s,o.length),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(r),_.push(r)):(u[a]=r,_[a]=r)}else{const r=Oo(w,o,A+n,i),a=Oo(w,o,A,A+n),l=r>=0&&u[r],h=a>=0&&u[a];if(d&&!h||!d&&!l){la(Er(T,_),f,w);const m=function(s,o,u,c,d){const f=new Ru(s,u,Nl);return f.multi=[],f.index=o,f.componentProviders=0,qv(f,d,c&&!u),f}(d?$d:iA,u.length,d,c,b);!d&&h&&(u[a].providerFactory=m),za(f,s,o.length,0),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(m),_.push(m)}else za(f,s,r>-1?r:a,qv(u[d?a:r],b,!d&&c));!d&&c&&h&&u[a].componentProviders++}}}function za(s,o,u,c){const d=Us(o);if(d||function(s){return!!s.useClass}(o)){const _=(o.useClass||o).prototype.ngOnDestroy;if(_){const w=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=w.indexOf(u);-1===b?w.push(u,[c,_]):w[b+1].push(c,_)}else w.push(u,_)}}}function qv(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Oo(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function iA(s,o,u,c){return Em(this.multi,[])}function $d(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=da(u,u[1],this.providerFactory.index,c);f=w.slice(0,_),Em(d,f);for(let b=_;b<w.length;b++)f.push(w[b])}else f=[],Em(d,f);return f}function Em(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Za(s,o=[]){return u=>{u.providersResolver=(c,d)=>function(s,o,u){const c=pt();if(c.firstCreatePass){const d=li(s);Ws(u,c.data,c.blueprint,d,!0),Ws(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class zv{}const CI="ngComponent";class sA{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${H(s)}. Did you add it to @NgModule.entryComponents?`);return o[CI]=s,o}(o)}}let Po=(()=>{class s{}return s.NULL=new sA,s})();function Cm(...s){}function jl(s,o){return new ns(Or(s,o))}const aA=function(){return jl(sn(),me())};let ns=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=aA,s})();function Im(s){return s instanceof ns?s.nativeElement:s}class Qa{}let bm=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>bI(),s})();const bI=function(){const s=me(),u=er(sn().index,s);return function(s){return s[11]}(Rr(u)?u:s)};let Qv=(()=>{class s{}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:()=>null}),s})();class Jv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Dm=new Jv("12.2.7");class Tm{constructor(){}supports(o){return wd(o)}create(o){return new cA(o)}}const uA=(s,o)=>o;class cA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||uA}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const _=!c||u&&u.currentIndex<Hl(c,d,f)?u:c,w=Hl(_,d,f),b=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)d++;else{f||(f=[]);const T=w-d,A=b-d;if(T!=A){for(let n=0;n<T;n++){const r=n<f.length?f[n]:f[n]=0,a=r+n;A<=a&&a<T&&(f[n]=r+1)}f[_.previousIndex]=A-T}}w!==b&&o(_,w,b)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!wd(o))throw new Error(`Error trying to diff '${H(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,_,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],_=this._trackByFn(w,f),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,f,_,w)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,_,w),c=!0),u=u._next}else d=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[bo()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,w=>{_=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,w,_,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new TI(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new $l),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $l),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class TI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class $l{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new dA,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hl(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class Am{constructor(){}supports(o){return o instanceof Map||_l(o)}create(){return new Sm}}class Sm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||_l(o)))throw new Error(`Error trying to diff '${H(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const c=new AI(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class AI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xv(){return new xm([new Tm])}let xm=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Xv()),deps:[[s,new qi,new Zr]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:Xv}),s})();function SI(){return new Hd([new Am])}let Hd=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||SI()),deps:[[s,new qi,new Zr]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=Wt({token:s,providedIn:"root",factory:SI}),s})();function Nm(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(Ut(f)),Tt(f))for(let w=10;w<f.length;w++){const b=f[w],T=b[1].firstChild;null!==T&&Nm(b[1],b,T,c)}const _=u.type;if(8&_)Nm(s,o,u.child,c);else if(32&_){const w=c_(u,o);let b;for(;b=w();)c.push(b)}else if(16&_){const w=Tg(o,u);if(Array.isArray(w))c.push(...w);else{const b=Eg(o[16]);Nm(b[1],b,w,c,!0)}}u=d?u.projectionNext:u.next}return c}class Gl{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Nm(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Tt(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(__(o,c),ji(u,c))}this._attachedToViewContainer=!1}gw(this._lView[1],this._lView)}onDestroy(o){Vg(this._lView[1],this._lView,null,o)}markForCheck(){ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ma(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){_s(!0);try{Ma(s,o,u)}finally{_s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,hf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class hA extends Gl{constructor(o){super(o),this._view=o}detectChanges(){Qw(this._view)}checkNoChanges(){!function(s){_s(!0);try{Qw(s)}finally{_s(!1)}}(this._view)}get context(){return null}}const fA=function(s){return function(s,o,u){if(vc(s)&&!u){const c=er(s.index,o);return new Gl(c,c)}return 47&s.type?new Gl(o[16],o):null}(sn(),me(),16==(16&s))};let pA=(()=>{class s{}return s.__NG_ELEMENT_ID__=fA,s})();const yA=[new Am],nE=new xm([new Tm]),xI=new Hd(yA),Rm=function(){return Gd(sn(),me())};let ko=(()=>{class s{}return s.__NG_ELEMENT_ID__=Rm,s})();const Mm=ko,rE=class extends Mm{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=ll(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(u)),yf(u,c,o),new Gl(c)}};function Gd(s,o){return 4&s.type?new rE(o,s,jl(s,o)):null}class Ja{}class MI{}const vA=function(){return kI(sn(),me())};let Om=(()=>{class s{}return s.__NG_ELEMENT_ID__=vA,s})();const Pm=Om,qd=class extends Pm{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return jl(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ua(this._hostTNode,this._hostLView);if(qp(o)){const u=Ou(o,this._hostLView),c=Mu(o);return new Wr(u[1].data[c+8],u)}return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=km(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const d=o.createEmbeddedView(u||{});return this.insert(d,c),d}createComponent(o,u,c,d,f){const _=c||this.parentInjector;if(!f&&null==o.ngModule&&_){const b=_.get(Ja,null);b&&(f=b)}const w=o.create(_,d,void 0,f);return this.insert(w.hostView,u),w}insert(o,u){const c=o._lView,d=c[1];if(Tt(c[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const i=c[3],n=new qd(i,i[6],i[3]);n.detach(n.indexOf(o))}}const f=this._adjustIndex(u),_=this._lContainer;!function(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],Bu(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,c,_,f);const w=ww(f,_),b=c[11],T=Io(b,_[7]);return null!==T&&function(s,o,u,c,d,f){c[0]=d,c[6]=o,hf(s,c,u,1,d,f)}(d,_[6],b,c,T,w),o.attachToViewContainerRef(),Bu(Fm(_),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=km(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=__(this._lContainer,u);c&&(ji(Fm(this._lContainer),u),gw(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=__(this._lContainer,u);return c&&null!=ji(Fm(this._lContainer),u)?new Gl(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function km(s){return s[8]}function Fm(s){return s[8]||(s[8]=[])}function kI(s,o){let u;const c=o[s.index];if(Tt(c))u=c;else{let d;if(8&s.type)d=Ut(c);else{const f=o[11];d=f.createComment("");const _=Or(s,o);al(f,Io(f,_),d,function(s,o){return Vt(s)?s.nextSibling(o):o.nextSibling}(f,_),!1)}o[s.index]=u=Gg(c,o,d,s),wf(o,u)}return new qd(u,s,o)}const tu={};class $m extends Po{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Rn(o);return new sb(u,this.ngModule)}}function ME(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const VA=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rd});class sb extends zv{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(ir).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ME(this.componentDef.inputs)}get outputs(){return ME(this.componentDef.outputs)}create(o,u,c,d){const f=(d=d||this.ngModule)?function(s,o){return{get:(u,c,d)=>{const f=s.get(u,tu,d);return f!==tu||c===tu?f:o.get(u,c,d)}}}(o,d.injector):o,_=f.get(Qa,Dc),w=f.get(Qv,null),b=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=c?function(s,o,u){if(Vt(s))return s.selectRootElement(o,u===rn.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(b,c,this.componentDef.encapsulation):m_(_.createRenderer(null,this.componentDef),T,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(T)),i=this.componentDef.onPush?576:528,n=function(s,o){return{components:[],scheduler:s||rd,clean:Jw,playerHandler:o||null,flags:0}}(),r=Ra(0,null,null,1,0,null,null,null,null,null),a=ll(null,r,n,i,null,null,_,b,w,f);let l,h;xu(a);try{const m=function(s,o,u,c,d,f){const _=u[1];u[20]=s;const b=xa(_,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(Cf(b,T,!0),null!==s&&(jt(d,s,T),null!==b.classes&&w_(d,s,b.classes),null!==b.styles&&bw(d,s,b.styles)));const A=c.createRenderer(s,o),i=ll(u,Uw(o),null,o.onPush?64:16,u[20],b,c,A,f||null,null);return _.firstCreatePass&&(la(Er(b,u),_,o.type),Gw(_,b),Ww(b,u.length,1)),wf(u,i),u[20]=i}(A,this.componentDef,a,_,b);if(A)if(c)jt(b,A,["ng-version",Dm.full]);else{const{attrs:E,classes:D}=function(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Ii(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);E&&jt(b,A,E),D&&D.length>0&&w_(b,A,D.join(" "))}if(h=gs(r,20),void 0!==u){const E=h.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const S=u[D];E.push(null!=S?Array.from(S):null)}}l=function(s,o,u,c,d){const f=u[1],_=function(s,o,u){const c=sn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Hg(s,c,o,ad(s,o,1,null),u));const d=da(o,s,c.directiveStart,c);Tn(d,o);const f=Or(c,o);return f&&Tn(f,o),d}(f,u,o);if(c.components.push(_),s[8]=_,d&&d.forEach(b=>b(_,o)),o.contentQueries){const b=sn();o.contentQueries(1,_,b.directiveStart)}const w=sn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(co(w.index),Bg(u[1],w,0,w.directiveStart,w.directiveEnd,o),$g(o,_)),_}(m,this.componentDef,a,n,[gC]),yf(r,a,null)}finally{Gp()}return new OE(this.componentType,l,jl(h,a),a,h)}}class OE extends class{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new hA(d),this.componentType=o}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const nu=new Map;class kE extends Ja{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $m(this);const c=Jn(o),d=o[ft]||null;d&&Pv(d),this._bootstrapComponents=Ci(c.bootstrap),this._r3Injector=Kg(o,u,[{provide:Ja,useValue:this},{provide:Po,useValue:this.componentFactoryResolver}],H(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Jt.THROW_IF_NOT_FOUND,c=_e.Default){return o===Jt||o===Ja||o===Vs?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Wm extends MI{constructor(o){super(),this.moduleType=o,null!==Jn(o)&&function(s){const o=new Set;!function u(c){const d=Jn(c,!0),f=d.id;null!==f&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${H(o)} vs ${H(o.name)}`)}(f,nu.get(f),c),nu.set(f,c));const _=Ci(d.imports);for(const w of _)o.has(w)||(o.add(w),u(w))}(s)}(o)}create(o){return new kE(this.moduleType,o)}}function Ft(s){return o=>{setTimeout(s,void 0,o)}}const en=class extends v.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var d,f,_;let w=o,b=u||(()=>null),T=c;if(o&&"object"==typeof o){const i=o;w=null===(d=i.next)||void 0===d?void 0:d.bind(i),b=null===(f=i.error)||void 0===f?void 0:f.bind(i),T=null===(_=i.complete)||void 0===_?void 0:_.bind(i)}this.__isAsync&&(b=Ft(b),w&&(w=Ft(w)),T&&(T=Ft(T)));const A=super.subscribe({next:w,error:b,complete:T});return o instanceof Z.w&&o.add(A),A}};function zs(){return this._results[bo()]()}class cp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=bo(),c=cp.prototype;c[u]||(c[u]=zs)}get changes(){return this._changes||(this._changes=new en)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=zr(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Zm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Zm(this.queryList)}setDirty(){this.queryList.setDirty()}}class BE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const _=u.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new BE(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Ib(o,u).matches&&this.queries[u].setDirty()}}class Ym{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class jE{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new jE(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class $E{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new $E(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,En(u,f)),this.matchTNodeWithReadOption(o,u,ku(u,o,f,!1,!1))}else c===ko?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ku(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ns||d===Om||d===ko&&4&u.type)this.addMatch(u.index,-2);else{const f=ku(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function En(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function rN(s,o,u,c){return-1===u?function(s,o){return 11&s.type?jl(s,o):4&s.type?Gd(s,o):null}(o,s):-2===u?function(s,o,u){return u===ns?jl(o,s):u===ko?Gd(o,s):u===Om?kI(o,s):void 0}(s,o,c):da(s,s[1],u,o)}function HE(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,_=u.matches,w=[];for(let b=0;b<_.length;b+=2){const T=_[b];w.push(T<0?null:rN(o,f[T],_[b+1],u.metadata.read))}d.matches=w}return d.matches}function GE(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const _=HE(s,o,d,u);for(let w=0;w<f.length;w+=2){const b=f[w];if(b>0)c.push(_[w/2]);else{const T=f[w+1],A=o[-b];for(let i=10;i<A.length;i++){const n=A[i];n[17]===n[3]&&GE(n[1],n,T,c)}if(null!==A[9]){const i=A[9];for(let n=0;n<i.length;n++){const r=i[n];GE(r[1],r,T,c)}}}}}return c}function _b(s){const o=me(),u=pt(),c=lo();Sh(c+1);const d=Ib(u,c);if(s.dirty&&Cu(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?GE(u,o,c,[]):HE(u,o,d,c);s.reset(f,Im),s.notifyOnChanges()}return!0}return!1}function Eb(s,o,u,c){const d=pt();if(d.firstCreatePass){const f=sn();(function(s,o,u){null===s.queries&&(s.queries=new jE),s.queries.track(new $E(o,u))})(d,new Ym(o,u,c),f.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function(s,o,u){const c=new cp(4==(4&u));Vg(s,o,c,c.destroy),null===o[19]&&(o[19]=new BE),o[19].queries.push(new Zm(c))}(d,me(),u)}function wb(){return s=me(),o=lo(),s[19].queries[o].queryList;var s,o}function Ib(s,o){return s.queries.getByIndex(o)}const n0=new an("Application Initializer");let Jd=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Cm,this.reject=Cm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(bd(f))u.push(f);else if(kf(f)){const _=new Promise((w,b)=>{f.subscribe({complete:w,error:b})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(pn(n0,8))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();const Rb=new an("AppId"),ES={provide:Rb,useFactory:function(){return`${r0()}${r0()}${r0()}`},deps:[]};function r0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mb=new an("Platform Initializer"),wS=new an("Platform ID"),Ob=new an("appBootstrapListener");let Pb=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();const Xd=new an("LocaleId"),s0=new an("DefaultCurrencyCode");class sy{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const oy=function(s){return new Wm(s)},ac=oy,Fb=function(s){return Promise.resolve(oy(s))},eh=function(s){const o=oy(s),c=Ci(Jn(s).declarations).reduce((d,f)=>{const _=Rn(f);return _&&d.push(new sb(_)),d},[]);return new sy(o,c)},vp=eh,o0=function(s){return Promise.resolve(eh(s))};let Zs=(()=>{class s{constructor(){this.compileModuleSync=ac,this.compileModuleAsync=Fb,this.compileModuleAndAllComponentsSync=vp,this.compileModuleAndAllComponentsAsync=o0}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();const lc=(()=>Promise.resolve(0))();function u0(s){"undefined"==typeof Zone?lc.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _i{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=L.requestAnimationFrame,o=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(L,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,l0(s),s.isCheckStableRunning=!0,cc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),l0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,_,w)=>{try{return Lb(s),u.invokeTask(d,f,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),c0(s)}},onInvoke:(u,c,d,f,_,w,b)=>{try{return Lb(s),u.invoke(d,f,_,w,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),c0(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,l0(s),cc(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,o,AS,Cm,Cm);try{return f.runTask(_,u,c)}finally{f.cancelTask(_)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const AS={};function cc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function l0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Lb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function c0(s){s._nesting--,cc(s)}class NS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}let d0=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),u0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(pn(_i))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})(),ay=(()=>{class s{constructor(){this._applications=new Map,uy.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return uy.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();class RS{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function MS(s){uy=s}let uy=new RS,h0=!0,f0=!1;function ly(){return f0=!0,h0}function Vb(){if(f0)throw new Error("Cannot enable prod mode after platform setup.");h0=!1}let Mi;const $b=new an("AllowMultipleToken");class m0{constructor(o,u){this.name=o,this.token=u}}function y0(s,o,u=[]){const c=`Platform: ${o}`,d=new an(c);return(f=[])=>{let _=Gb();if(!_||_.injector.get($b,!1))if(s)s(u.concat(f).concat({provide:d,useValue:!0}));else{const w=u.concat(f).concat({provide:d,useValue:!0},{provide:fl,useValue:"platform"});!function(s){if(Mi&&!Mi.destroyed&&!Mi.injector.get($b,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mi=s.get(_0);const o=s.get(Mb,null);o&&o.forEach(u=>u())}(Jt.create({providers:w,name:c}))}return function(s){const o=Gb();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(d)}}function Gb(){return Mi&&!Mi.destroyed?Mi:null}let _0=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const w=function(s,o){let u;return u="noop"===s?new NS:("zone.js"===s?void 0:s)||new _i({enableLongStackTrace:ly(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:_i,useValue:w}];return w.run(()=>{const T=Jt.create({providers:b,parent:this.injector,name:u.moduleType.name}),A=u.create(T),i=A.injector.get(j,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const n=w.onError.subscribe({next:r=>{i.handleError(r)}});A.onDestroy(()=>{Ep(this._modules,A),n.unsubscribe()})}),function(s,o,u){try{const c=u();return bd(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(i,w,()=>{const n=A.injector.get(Jd);return n.runInitializers(),n.donePromise.then(()=>(Pv(A.injector.get(Xd,gi)||gi),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const d=Wb({},c);return function(s,o,u){const c=new Wm(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(th);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${H(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(pn(Jt))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();function Wb(s,o){return Array.isArray(o)?o.reduce(Wb,s):Object.assign(Object.assign({},s),o)}let th=(()=>{class s{constructor(u,c,d,f,_){this._zone=u,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new F.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new F.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{_i.assertNotInAngularZone(),u0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{_i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),i.unsubscribe()}});this.isStable=(0,le.T)(w,b.pipe(s=>(0,oe.x)()(function(s,o){return function(c){let d;d="function"==typeof s?s:function(){return s};const f=Object.create(c,ue.N);return f.source=c,f.subjectFactory=d,f}}($)(s))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof zv?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const f=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Ja),w=d.create(Jt.NULL,[],c||d.selector,f),b=w.location.nativeElement,T=w.injector.get(d0,null),A=T&&w.injector.get(ay);return T&&A&&A.registerApplication(b,T),w.onDestroy(()=>{this.detachView(w.hostView),Ep(this.components,w),A&&A.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Ep(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Ob,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(pn(_i),pn(Jt),pn(j),pn(Po),pn(Jd))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();function Ep(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class US{}class cy{}const Yb={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dc=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||Yb}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,d]=u.split("#");return void 0===d&&(d="default"),k(8255)(c).then(f=>f[d]).then(f=>os(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(u){let[c,d]=u.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),k(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(_=>_[d+f]).then(_=>os(_,c,d))}}return s.\u0275fac=function(u){return new(u||s)(pn(Zs),pn(cy,8))},s.\u0275prov=Wt({token:s,factory:s.\u0275fac}),s})();function os(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const WS=function(s){return null},nD=y0(null,"core",[{provide:wS,useValue:"unknown"},{provide:_0,deps:[Jt]},{provide:ay,deps:[]},{provide:Pb,deps:[]}]),sD=[{provide:th,useClass:th,deps:[_i,Jt,j,Po,Jd]},{provide:VA,deps:[_i],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Jd,useClass:Jd,deps:[[new Zr,n0]]},{provide:Zs,useClass:Zs,deps:[]},ES,{provide:xm,useFactory:function(){return nE},deps:[]},{provide:Hd,useFactory:function(){return xI},deps:[]},{provide:Xd,useFactory:function(s){return Pv(s=s||"undefined"!=typeof $localize&&$localize.locale||gi),s},deps:[[new va(Xd),new Zr,new qi]]},{provide:s0,useValue:"USD"}];let au=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(pn(th))},s.\u0275mod=du({type:s}),s.\u0275inj=ai({providers:sD}),s})()},8939:(Be,pe,k)=>{"use strict";k.d(pe,{hO:()=>H,xv:()=>$,Dh:()=>oe,GT:()=>X,on:()=>O,pX:()=>ue});var v=k(3018),Z=k(7841),F=k(9126);Be=k.hmd(Be);const le=["ngOnDestroy"],ue=(W,se,Y,K={})=>new Proxy(W,{get:(be,Ce)=>Y.runOutsideAngular(()=>{var Ee;if(W[Ce])return(null===(Ee=null==K?void 0:K.spy)||void 0===Ee?void 0:Ee.get)&&K.spy.get(Ce,W[Ce]),W[Ce];if(le.indexOf(Ce)>-1)return()=>{};const xe=se.toPromise().then(Ne=>{const Se=Ne&&Ne[Ce];return"function"==typeof Se?Se.bind(Ne):Se&&Se.then?Se.then(it=>Y.run(()=>it)):Y.run(()=>Se)});return new Proxy(()=>{},{get:(Ne,Se)=>xe[Se],apply:(Ne,Se,it)=>xe.then(mt=>{var fe;const J=mt&&mt(...it);return(null===(fe=null==K?void 0:K.spy)||void 0===fe?void 0:fe.apply)&&K.spy.apply(Ce,it,J),J})})})}),X=(W,se)=>{se.forEach(Y=>{Object.getOwnPropertyNames(Y.prototype||Y).forEach(K=>{Object.defineProperty(W.prototype,K,Object.getOwnPropertyDescriptor(Y.prototype||Y,K))})})};class he{constructor(se){return se}}const oe=new v.OlP("angularfire2.app.options"),$=new v.OlP("angularfire2.app.name");function O(W,se,Y){const be="object"==typeof Y&&Y||{};be.name=be.name||"string"==typeof Y&&Y||"[DEFAULT]";const Ee=Z.Z.apps.filter(xe=>xe&&xe.name===be.name)[0]||se.runOutsideAngular(()=>Z.Z.initializeApp(W,be));try{JSON.stringify(W)!==JSON.stringify(Ee.options)&&P("error",`${Ee.name} Firebase App already initialized with different options${Be.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(xe){}return new he(Ee)}const P=(W,...se)=>{(0,v.X6Q)()&&"undefined"!=typeof console&&console[W](...se)},q={provide:he,useFactory:O,deps:[oe,v.R0b,[new v.FiY,$]]};let H=(()=>{class W{constructor(Y){Z.Z.registerVersion("angularfire",F.q4.full,"core"),Z.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Z.Z.registerVersion("angular",v.q4F.full,Y.toString())}static initializeApp(Y,K){return{ngModule:W,providers:[{provide:oe,useValue:Y},{provide:$,useValue:K}]}}}return W.\u0275fac=function(Y){return new(Y||W)(v.LFG(v.Lbi))},W.\u0275mod=v.oAB({type:W}),W.\u0275inj=v.cJS({providers:[q]}),W})()},9126:(Be,pe,k)=>{"use strict";k.d(pe,{q4:()=>O,iC:()=>J,HU:()=>xe,cc:()=>H});var v=k(3018);(0,k(5452).registerVersion)("firebase","9.1.0","app");var ue=k(7771),X=k(3637),he=k(3342),oe=k(3101),$=k(309);Be=k.hmd(Be);const O=new v.GfV("7.0.4"),P=!!Be.hot,q=(re,...z)=>{(0,v.X6Q)()&&"undefined"!=typeof console&&console[re](...z)};function H(re,z,we,je,dt){const[,qe,st]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===re)||[];if(qe)return function(re,z){try{return re.toString()===z.toString()}catch(we){return re===z}}(dt,st)||(q("error",`${z} was already initialized on the ${we} Firebase App with different settings.${P?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:dt,was:st})),qe;{const Lt=je();return globalThis.\u0275AngularfireInstanceCache.push([re,Lt,dt]),Lt}}function be(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ce{constructor(z,we=ue.N){this.zone=z,this.delegate=we}now(){return this.delegate.now()}schedule(z,we,je){const dt=this.zone;return this.delegate.schedule(function(st){dt.runGuarded(()=>{z.apply(this,[st])})},we,je)}}class Ee{constructor(z){this.zone=z,this.task=null}call(z,we){const je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",be,{},be,be)),we.pipe((0,he.b)({next:je,complete:je,error:je})).subscribe(z).add(je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xe=(()=>{class re{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new Ce(Zone.current)),this.insideAngular=we.run(()=>new Ce(Zone.current,X.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return re.\u0275fac=function(we){return new(we||re)(v.LFG(v.R0b))},re.\u0275prov=v.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})();function Ne(){const re=globalThis.\u0275AngularFireScheduler;if(!re)throw new Error("AngularFireModule has not been provided");return re}function J(re){return Ne(),function(re){return function(we){return(we=we.lift(new Ee(re.ngZone))).pipe((0,oe.R)(re.outsideAngular),(0,$.QV)(re.insideAngular))}}(Ne())(re)}},4486:(Be,pe,k)=>{"use strict";k.d(pe,{Z:()=>se});var v=k(3854),Z=k(6034),F=k(5452),le=k(5601);class ue{constructor(K,be){this._delegate=K,this.firebase=be,(0,F._addComponent)(K,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(K,be=F._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(K);return!Ee.isInitialized()&&"EXPLICIT"===(null===(Ce=Ee.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:be})}_removeServiceInstance(K,be=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(be)}_addComponent(K){(0,F._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,F._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function $(){const Y=function(Y){const K={},be={__esModule:!0,initializeApp:function(mt,fe={}){const J=F.initializeApp(mt,fe);if((0,v.r3)(K,J.name))return K[J.name];const ee=new Y(J,be);return K[J.name]=ee,ee},app:Ee,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const fe=mt.name,J=fe.replace("-compat","");if(F._registerComponent(mt)&&"PUBLIC"===mt.type){const ee=(ie=Ee())=>{if("function"!=typeof ie[J])throw he.create("invalid-app-argument",{appName:fe});return ie[J]()};void 0!==mt.serviceProps&&(0,v.ZB)(ee,mt.serviceProps),be[J]=ee,Y.prototype[J]=function(...ie){return this._getService.bind(this,fe).apply(this,mt.multipleInstances?ie:[])}}return"PUBLIC"===mt.type?be[J]:null},removeApp:function(mt){delete K[mt]},useAsService:function(mt,fe){return"serverAuth"===fe?null:fe},modularAPIs:F}};function Ee(mt){if(!(0,v.r3)(K,mt=mt||F._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:mt});return K[mt]}return be.default=be,Object.defineProperty(be,"apps",{get:function(){return Object.keys(K).map(mt=>K[mt])}}),Ee.App=Y,be}(ue);return Y.INTERNAL=Object.assign(Object.assign({},Y.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(be){(0,v.ZB)(Y,be)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Y}(),P=new le.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){P.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Y=self.firebase.SDK_VERSION;Y&&Y.indexOf("LITE")>=0&&P.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const se=O;(0,F.registerVersion)("@firebase/app-compat","0.1.2",undefined)},5452:(Be,pe,k)=>{"use strict";k.r(pe),k.d(pe,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>tn,_addOrOverwriteComponent:()=>jr,_apps:()=>st,_clearComponents:()=>_t,_components:()=>Lt,_getProvider:()=>qt,_registerComponent:()=>$r,_removeServiceInstance:()=>We,deleteApp:()=>cs,getApp:()=>mr,getApps:()=>Yo,initializeApp:()=>ai,onLog:()=>wn,registerVersion:()=>ds,setLogLevel:()=>Ar});var v=k(8239),Z=k(6034),F=k(5601),le=k(3854);class ue{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function(Ye){const _e=Ye.getComponent();return"VERSION"===(null==_e?void 0:_e.type)}(Nt)){const zt=Nt.getImmediate();return`${zt.library}/${zt.version}`}return null}).filter(Nt=>Nt).join(" ")}}const he="@firebase/app",$=new F.Yd("@firebase/app"),dt="[DEFAULT]",qe={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,Lt=new Map;function tn(Ye,_e){try{Ye.container.addComponent(_e)}catch(Nt){$.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ye.name}`,Nt)}}function jr(Ye,_e){Ye.container.addOrOverwriteComponent(_e)}function $r(Ye){const _e=Ye.name;if(Lt.has(_e))return $.debug(`There were multiple attempts to register component ${_e}.`),!1;Lt.set(_e,Ye);for(const Nt of st.values())tn(Nt,Ye);return!0}function qt(Ye,_e){return Ye.container.getProvider(_e)}function We(Ye,_e,Nt=dt){qt(Ye,_e).clearInstance(Nt)}function _t(){Lt.clear()}const Oi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Wt{constructor(_e,Nt,zt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=zt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const oi="9.1.0";function ai(Ye,_e={}){"object"!=typeof _e&&(_e={name:_e});const Nt=Object.assign({name:dt,automaticDataCollectionEnabled:!1},_e),zt=Nt.name;if("string"!=typeof zt||!zt)throw Oi.create("bad-app-name",{appName:String(zt)});const Kt=st.get(zt);if(Kt){if((0,le.vZ)(Ye,Kt.options)&&(0,le.vZ)(Nt,Kt.config))return Kt;throw Oi.create("duplicate-app",{appName:zt})}const Ct=new Z.H0(zt);for(const $e of Lt.values())Ct.addComponent($e);const Ve=new Wt(Ye,Nt,Ct);return st.set(zt,Ve),Ve}function mr(Ye=dt){const _e=st.get(Ye);if(!_e)throw Oi.create("no-app",{appName:Ye});return _e}function Yo(){return Array.from(st.values())}function cs(Ye){return Js.apply(this,arguments)}function Js(){return(Js=(0,v.Z)(function*(Ye){const _e=Ye.name;st.has(_e)&&(st.delete(_e),yield Promise.all(Ye.container.getProviders().map(Nt=>Nt.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function ds(Ye,_e,Nt){var zt;let Kt=null!==(zt=qe[Ye])&&void 0!==zt?zt:Ye;Nt&&(Kt+=`-${Nt}`);const Ct=Kt.match(/\s|\//),Ve=_e.match(/\s|\//);if(Ct||Ve){const $e=[`Unable to register library "${Kt}" with version "${_e}":`];return Ct&&$e.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),Ct&&Ve&&$e.push("and"),Ve&&$e.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void $.warn($e.join(" "))}$r(new Z.wA(`${Kt}-version`,()=>({library:Kt,version:_e}),"VERSION"))}function wn(Ye,_e){if(null!==Ye&&"function"!=typeof Ye)throw Oi.create("invalid-log-argument");(0,F.Am)(Ye,_e)}function Ar(Ye){(0,F.Ub)(Ye)}$r(new Z.wA("platform-logger",_e=>new ue(_e),"PRIVATE")),ds(he,"0.7.1",undefined),ds("fire-js","")},6034:(Be,pe,k)=>{"use strict";k.d(pe,{wA:()=>F,H0:()=>oe});var v=k(4762),Z=k(3854),F=function(){function $(O,P,q){this.name=O,this.instanceFactory=P,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(O){return this.instantiationMode=O,this},$.prototype.setMultipleInstances=function(O){return this.multipleInstances=O,this},$.prototype.setServiceProps=function(O){return this.serviceProps=O,this},$.prototype.setInstanceCreatedCallback=function(O){return this.onInstanceCreated=O,this},$}(),le="[DEFAULT]",ue=function(){function $(O,P){this.name=O,this.container=P,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(O){var P=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(P)){var q=new Z.BH;if(this.instancesDeferred.set(P,q),this.isInitialized(P)||this.shouldAutoInitialize())try{var H=this.getOrInitializeService({instanceIdentifier:P});H&&q.resolve(H)}catch(W){}}return this.instancesDeferred.get(P).promise},$.prototype.getImmediate=function(O){var P,q=this.normalizeInstanceIdentifier(null==O?void 0:O.identifier),H=null!==(P=null==O?void 0:O.optional)&&void 0!==P&&P;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(H)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(W){if(H)return null;throw W}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(O){var P,q;if(O.name!==this.name)throw Error("Mismatching Component "+O.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=O,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Ee){}try{for(var H=(0,v.XA)(this.instancesDeferred.entries()),W=H.next();!W.done;W=H.next()){var se=(0,v.CR)(W.value,2),K=se[1],be=this.normalizeInstanceIdentifier(se[0]);try{var Ce=this.getOrInitializeService({instanceIdentifier:be});K.resolve(Ce)}catch(Ee){}}}catch(Ee){P={error:Ee}}finally{try{W&&!W.done&&(q=H.return)&&q.call(H)}finally{if(P)throw P.error}}}},$.prototype.clearInstance=function(O){void 0===O&&(O=le),this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)},$.prototype.delete=function(){return(0,v.mG)(this,void 0,void 0,function(){var O;return(0,v.Jh)(this,function(P){switch(P.label){case 0:return O=Array.from(this.instances.values()),[4,Promise.all((0,v.ev)((0,v.ev)([],(0,v.CR)(O.filter(function(q){return"INTERNAL"in q}).map(function(q){return q.INTERNAL.delete()}))),(0,v.CR)(O.filter(function(q){return"_delete"in q}).map(function(q){return q._delete()}))))];case 1:return P.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(O){return void 0===O&&(O=le),this.instances.has(O)},$.prototype.getOptions=function(O){return void 0===O&&(O=le),this.instancesOptions.get(O)||{}},$.prototype.initialize=function(O){var P,q;void 0===O&&(O={});var H=O.options,W=void 0===H?{}:H,se=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(se))throw Error(this.name+"("+se+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Y=this.getOrInitializeService({instanceIdentifier:se,options:W});try{for(var K=(0,v.XA)(this.instancesDeferred.entries()),be=K.next();!be.done;be=K.next()){var Ce=(0,v.CR)(be.value,2),xe=Ce[1];se===this.normalizeInstanceIdentifier(Ce[0])&&xe.resolve(Y)}}catch(Se){P={error:Se}}finally{try{be&&!be.done&&(q=K.return)&&q.call(K)}finally{if(P)throw P.error}}return Y},$.prototype.onInit=function(O,P){var q,H=this.normalizeInstanceIdentifier(P),W=null!==(q=this.onInitCallbacks.get(H))&&void 0!==q?q:new Set;W.add(O),this.onInitCallbacks.set(H,W);var se=this.instances.get(H);return se&&O(se,H),function(){W.delete(O)}},$.prototype.invokeOnInitCallbacks=function(O,P){var q,H,W=this.onInitCallbacks.get(P);if(W)try{for(var se=(0,v.XA)(W),Y=se.next();!Y.done;Y=se.next()){var K=Y.value;try{K(O,P)}catch(be){}}}catch(be){q={error:be}}finally{try{Y&&!Y.done&&(H=se.return)&&H.call(se)}finally{if(q)throw q.error}}},$.prototype.getOrInitializeService=function(O){var P=O.instanceIdentifier,q=O.options,H=void 0===q?{}:q,W=this.instances.get(P);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:X(P),options:H}),this.instances.set(P,W),this.instancesOptions.set(P,H),this.invokeOnInitCallbacks(W,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,W)}catch(se){}return W||null},$.prototype.normalizeInstanceIdentifier=function(O){return void 0===O&&(O=le),this.component?this.component.multipleInstances?O:le:O},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function X($){return $===le?void 0:$}var oe=function(){function $(O){this.name=O,this.providers=new Map}return $.prototype.addComponent=function(O){var P=this.getProvider(O.name);if(P.isComponentSet())throw new Error("Component "+O.name+" has already been registered with "+this.name);P.setComponent(O)},$.prototype.addOrOverwriteComponent=function(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)},$.prototype.getProvider=function(O){if(this.providers.has(O))return this.providers.get(O);var P=new ue(O,this);return this.providers.set(O,P),P},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},5601:(Be,pe,k)=>{"use strict";k.d(pe,{in:()=>Z,Yd:()=>he,Ub:()=>oe,Am:()=>$});const v=[];var Z=(()=>{return(O=Z||(Z={}))[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT",Z;var O})();const F={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},le=Z.INFO,ue={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},X=(O,P,...q)=>{if(P<O.logLevel)return;const H=(new Date).toISOString(),W=ue[P];if(!W)throw new Error(`Attempted to log a message with an invalid logType (value: ${P})`);console[W](`[${H}]  ${O.name}:`,...q)};class he{constructor(P){this.name=P,this._logLevel=le,this._logHandler=X,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(P){if(!(P in Z))throw new TypeError(`Invalid value "${P}" assigned to \`logLevel\``);this._logLevel=P}setLogLevel(P){this._logLevel="string"==typeof P?F[P]:P}get logHandler(){return this._logHandler}set logHandler(P){if("function"!=typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P}get userLogHandler(){return this._userLogHandler}set userLogHandler(P){this._userLogHandler=P}debug(...P){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...P),this._logHandler(this,Z.DEBUG,...P)}log(...P){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...P),this._logHandler(this,Z.VERBOSE,...P)}info(...P){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...P),this._logHandler(this,Z.INFO,...P)}warn(...P){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...P),this._logHandler(this,Z.WARN,...P)}error(...P){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...P),this._logHandler(this,Z.ERROR,...P)}}function oe(O){v.forEach(P=>{P.setLogLevel(O)})}function $(O,P){for(const q of v){let H=null;P&&P.level&&(H=F[P.level]),q.userLogHandler=null===O?null:(W,se,...Y)=>{const K=Y.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(Ce){return null}}).filter(be=>be).join(" ");se>=(null!=H?H:W.logLevel)&&O({level:Z[se].toLowerCase(),message:K,args:Y,type:W.name})}}}},3854:(Be,pe,k)=>{"use strict";k.d(pe,{BH:()=>H,LL:()=>z,ZR:()=>re,tV:()=>$,r3:()=>qt,Sg:()=>W,ne:()=>cs,vZ:()=>Oi,ZB:()=>P,pd:()=>mr,m9:()=>eo,z$:()=>se,jU:()=>be,ru:()=>Ce,d:()=>xe,xb:()=>_t,w1:()=>Ne,hl:()=>fe,uI:()=>Y,UG:()=>K,b$:()=>Ee,G6:()=>mt,Mn:()=>Se,xO:()=>oi,zd:()=>ai});const le=function(V){const U=[];let L=0;for(let ge=0;ge<V.length;ge++){let Q=V.charCodeAt(ge);Q<128?U[L++]=Q:Q<2048?(U[L++]=Q>>6|192,U[L++]=63&Q|128):55296==(64512&Q)&&ge+1<V.length&&56320==(64512&V.charCodeAt(ge+1))?(Q=65536+((1023&Q)<<10)+(1023&V.charCodeAt(++ge)),U[L++]=Q>>18|240,U[L++]=Q>>12&63|128,U[L++]=Q>>6&63|128,U[L++]=63&Q|128):(U[L++]=Q>>12|224,U[L++]=Q>>6&63|128,U[L++]=63&Q|128)}return U},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,U){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let Q=0;Q<V.length;Q+=3){const ke=V[Q],Me=Q+1<V.length,It=Me?V[Q+1]:0,Zt=Q+2<V.length,Mt=Zt?V[Q+2]:0;let Ot=(15&It)<<2|Mt>>6,jn=63&Mt;Zt||(jn=64,Me||(Ot=64)),ge.push(L[ke>>2],L[(3&ke)<<4|It>>4],L[Ot],L[jn])}return ge.join("")},encodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(V):this.encodeByteArray(le(V),U)},decodeString(V,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(V):function(V){const U=[];let L=0,ge=0;for(;L<V.length;){const Q=V[L++];if(Q<128)U[ge++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const ke=V[L++];U[ge++]=String.fromCharCode((31&Q)<<6|63&ke)}else if(Q>239&&Q<365){const Zt=((7&Q)<<18|(63&V[L++])<<12|(63&V[L++])<<6|63&V[L++])-65536;U[ge++]=String.fromCharCode(55296+(Zt>>10)),U[ge++]=String.fromCharCode(56320+(1023&Zt))}else{const ke=V[L++],Me=V[L++];U[ge++]=String.fromCharCode((15&Q)<<12|(63&ke)<<6|63&Me)}}return U.join("")}(this.decodeStringToByteArray(V,U))},decodeStringToByteArray(V,U){this.init_();const L=U?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let Q=0;Q<V.length;){const ke=L[V.charAt(Q++)],It=Q<V.length?L[V.charAt(Q)]:0;++Q;const Mt=Q<V.length?L[V.charAt(Q)]:64;++Q;const ft=Q<V.length?L[V.charAt(Q)]:64;if(++Q,null==ke||null==It||null==Mt||null==ft)throw Error();ge.push(ke<<2|It>>4),64!==Mt&&(ge.push(It<<4&240|Mt>>2),64!==ft&&ge.push(Mt<<6&192|ft))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},oe=function(V){return function(V){const U=le(V);return X.encodeByteArray(U,!0)}(V).replace(/\./g,"")},$=function(V){try{return X.decodeString(V,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function P(V,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return U}for(const L in U)!U.hasOwnProperty(L)||!q(L)||(V[L]=P(V[L],U[L]));return V}function q(V){return"__proto__"!==V}class H{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,L)=>{this.resolve=U,this.reject=L})}wrapCallback(U){return(L,ge)=>{L?this.reject(L):this.resolve(ge),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(L):U(L,ge))}}}function W(V,U){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=U||"demo-project",Q=V.iat||0,ke=V.sub||V.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:Q,exp:Q+3600,auth_time:Q,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},V);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Me)),""].join(".")}function se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function be(){return"object"==typeof self&&self.self===self}function Ce(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return se().indexOf("Electron/")>=0}function Ne(){const V=se();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Se(){return se().indexOf("MSAppHost/")>=0}function mt(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){return"object"==typeof indexedDB}class re extends Error{constructor(U,L,ge){super(L),this.code=U,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z.prototype.create)}}class z{constructor(U,L,ge){this.service=U,this.serviceName=L,this.errors=ge}create(U,...L){const ge=L[0]||{},Q=`${this.service}/${U}`,ke=this.errors[U],Me=ke?function(V,U){return V.replace(je,(L,ge)=>{const Q=U[ge];return null!=Q?String(Q):`<${ge}?>`})}(ke,ge):"Error";return new re(Q,`${this.serviceName}: ${Me} (${Q}).`,ge)}}const je=/\{\$([^}]+)}/g;function qt(V,U){return Object.prototype.hasOwnProperty.call(V,U)}function _t(V){for(const U in V)if(Object.prototype.hasOwnProperty.call(V,U))return!1;return!0}function Oi(V,U){if(V===U)return!0;const L=Object.keys(V),ge=Object.keys(U);for(const Q of L){if(!ge.includes(Q))return!1;const ke=V[Q],Me=U[Q];if(Wt(ke)&&Wt(Me)){if(!Oi(ke,Me))return!1}else if(ke!==Me)return!1}for(const Q of ge)if(!L.includes(Q))return!1;return!0}function Wt(V){return null!==V&&"object"==typeof V}function oi(V){const U=[];for(const[L,ge]of Object.entries(V))Array.isArray(ge)?ge.forEach(Q=>{U.push(encodeURIComponent(L)+"="+encodeURIComponent(Q))}):U.push(encodeURIComponent(L)+"="+encodeURIComponent(ge));return U.length?"&"+U.join("&"):""}function ai(V){const U={};return V.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[Q,ke]=ge.split("=");U[decodeURIComponent(Q)]=decodeURIComponent(ke)}}),U}function mr(V){const U=V.indexOf("?");if(!U)return"";const L=V.indexOf("#",U);return V.substring(U,L>0?L:void 0)}function cs(V,U){const L=new Js(V,U);return L.subscribe.bind(L)}class Js{constructor(U,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{U(this)}).catch(ge=>{this.error(ge)})}next(U){this.forEachObserver(L=>{L.next(U)})}error(U){this.forEachObserver(L=>{L.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,L,ge){let Q;if(void 0===U&&void 0===L&&void 0===ge)throw new Error("Missing Observer.");Q=function(V,U){if("object"!=typeof V||null===V)return!1;for(const L of["next","error","complete"])if(L in V&&"function"==typeof V[L])return!0;return!1}(U)?U:{next:U,error:L,complete:ge},void 0===Q.next&&(Q.next=Ar),void 0===Q.error&&(Q.error=Ar),void 0===Q.complete&&(Q.complete=Ar);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Me){}}),this.observers.push(Q),ke}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,U)}sendOne(U,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{L(this.observers[U])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ar(){}function eo(V){return V&&V._delegate?V._delegate:V}},7841:(Be,pe,k)=>{"use strict";k.d(pe,{Z:()=>v.Z});var v=k(4486);v.Z.registerVersion("firebase","9.1.0","app-compat")},670:(Be,pe,k)=>{"use strict";k.r(pe);var v=k(8239),Z=k(4486),F=k(3854),le=k(5452),ue=k(4762),X=k(5601),he=k(6034);const se=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Y=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},K=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new X.Yd("@firebase/auth");function Ee(C,...g){Ce.logLevel<=X.in.ERROR&&Ce.error(`Auth (${le.SDK_VERSION}): ${C}`,...g)}function xe(C,...g){throw mt(C,...g)}function Ne(C,...g){return mt(C,...g)}function Se(C,g,y){const I=Object.assign(Object.assign({},Y()),{[g]:y});return new F.LL("auth","Firebase",I).create(g,{appName:C.name})}function it(C,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&xe(C,"argument-error"),Se(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(C,...g){if("string"!=typeof C){const y=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(y,...I)}return K.create(C,...g)}function fe(C,g,...y){if(!C)throw mt(g,...y)}function J(C){const g="INTERNAL ASSERTION FAILED: "+C;throw Ee(g),new Error(g)}function ee(C,g){C||J(g)}const ie=new Map;function te(C){ee(C instanceof Function,"Expected a class definition");let g=ie.get(C);return g?(ee(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,ie.set(C,g),g)}function we(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function je(){return"http:"===dt()||"https:"===dt()}function dt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Lt{constructor(g,y){this.shortDelay=g,this.longDelay=y,ee(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tn(C,g){ee(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class jr{static initialize(g,y,I){this.fetchImpl=g,y&&(this.headersImpl=y),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void J("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void J("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void J("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new Lt(3e4,6e4);function We(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function _t(C,g,y,I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,v.Z)(function*(C,g,y,I,x={}){return Oi(C,x,()=>{let R={},j={};I&&("GET"===g?j=I:R={body:JSON.stringify(I)});const ae=(0,F.xO)(Object.assign({key:C.config.apiKey},j)).slice(1),Te=new(jr.headers());return Te.set("Content-Type","application/json"),Te.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Te.set("X-Firebase-Locale",C.languageCode),jr.fetch()(mr(C,C.config.apiHost,y,ae),Object.assign({method:g,headers:Te,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function Oi(C,g,y){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,v.Z)(function*(C,g,y){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},$r),g);try{const x=new Yo(C),R=yield Promise.race([y(),x.promise]);x.clearNetworkTimeout();const j=yield R.json();if("needConfirmation"in j)throw cs(C,"account-exists-with-different-credential",j);if(R.ok&&!("errorMessage"in j))return j;{const ae=R.ok?j.errorMessage:j.error.message,[Te,Fe]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Te)throw cs(C,"credential-already-in-use",j);if("EMAIL_EXISTS"===Te)throw cs(C,"email-already-in-use",j);const Ke=I[Te]||Te.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Se(C,Ke,Fe);xe(C,Ke)}}catch(x){if(x instanceof F.ZR)throw x;xe(C,"network-request-failed")}})).apply(this,arguments)}function oi(C,g,y,I){return ai.apply(this,arguments)}function ai(){return(ai=(0,v.Z)(function*(C,g,y,I,x={}){const R=yield _t(C,g,y,I,x);return"mfaPendingCredential"in R&&xe(C,"multi-factor-auth-required",{serverResponse:R}),R})).apply(this,arguments)}function mr(C,g,y,I){const x=`${g}${y}?${I}`;return C.config.emulator?tn(C.config,x):`${C.config.apiScheme}://${x}`}class Yo{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,I)=>{this.timer=setTimeout(()=>I(Ne(this.auth,"timeout")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cs(C,g,y){const I={appName:C.name};y.email&&(I.email=y.email),y.phoneNumber&&(I.phoneNumber=y.phoneNumber);const x=Ne(C,g,I);return x.customData._tokenResponse=y,x}function ds(){return(ds=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function wn(C,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function cu(C,g){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function _e(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Kt(){return(Kt=(0,v.Z)(function*(C,g=!1){const y=(0,F.m9)(C),I=yield y.getIdToken(g),x=Ve(I);fe(x&&x.exp&&x.auth_time&&x.iat,y.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,j=null==R?void 0:R.sign_in_provider;return{claims:x,token:I,authTime:_e(Ct(x.auth_time)),issuedAtTime:_e(Ct(x.iat)),expirationTime:_e(Ct(x.exp)),signInProvider:j||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ct(C){return 1e3*Number(C)}function Ve(C){const[g,y,I]=C.split(".");if(void 0===g||void 0===y||void 0===I)return Ee("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,F.tV)(y);return x?JSON.parse(x):(Ee("Failed to decode base64 JWT payload"),null)}catch(x){return Ee("Caught error parsing JWT payload as JSON",x),null}}function nn(C,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,v.Z)(function*(C,g,y=!1){if(y)return g;try{return yield g}catch(I){throw I instanceof F.ZR&&Pi(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Pi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class rn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,v.Z)(function*(){yield y.iteration()}),I)}iteration(){var g=this;return(0,v.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class yr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=_e(this.lastLoginAt),this.creationTime=_e(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eo(C){return V.apply(this,arguments)}function V(){return(V=(0,v.Z)(function*(C){var g;const y=C.auth,I=yield C.getIdToken(),x=yield nn(C,cu(y,{idToken:I}));fe(null==x?void 0:x.users.length,y,"internal-error");const R=x.users[0];C._notifyReloadListener(R);const j=(null===(g=R.providerUserInfo)||void 0===g?void 0:g.length)?Q(R.providerUserInfo):[],ae=ge(C.providerData,j),Ke=!!C.isAnonymous&&!(C.email&&R.passwordHash||(null==ae?void 0:ae.length)),Ge={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ae,metadata:new yr(R.createdAt,R.lastLoginAt),isAnonymous:Ke};Object.assign(C,Ge)})).apply(this,arguments)}function L(){return(L=(0,v.Z)(function*(C){const g=(0,F.m9)(C);yield eo(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ge(C,g){return[...C.filter(I=>!g.some(x=>x.providerId===I.providerId)),...g]}function Q(C){return C.map(g=>{var{providerId:y}=g,I=(0,ue._T)(g,["providerId"]);return{providerId:y,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Me(){return(Me=(0,v.Z)(function*(C,g){const y=yield Oi(C,{},()=>{const I=(0,F.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:R}=C.config,j=mr(C,x,"/v1/token",`key=${R}`);return jr.fetch()(j,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){fe(g.idToken,"internal-error"),fe(void 0!==g.idToken,"internal-error"),fe(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(C){const g=Ve(C);return fe(g,"internal-error"),fe(void 0!==g.exp,"internal-error"),fe(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var I=this;return(0,v.Z)(function*(){return fe(!I.accessToken||I.refreshToken,g,"user-token-expired"),y||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var I=this;return(0,v.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:j}=yield function(C,g){return Me.apply(this,arguments)}(g,y);I.updateTokensAndExpiration(x,R,Number(j))})()}updateTokensAndExpiration(g,y,I){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,y){const{refreshToken:I,accessToken:x,expirationTime:R}=y,j=new It;return I&&(fe("string"==typeof I,"internal-error",{appName:g}),j.refreshToken=I),x&&(fe("string"==typeof x,"internal-error",{appName:g}),j.accessToken=x),R&&(fe("number"==typeof R,"internal-error",{appName:g}),j.expirationTime=R),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return J("not implemented")}}function Zt(C,g){fe("string"==typeof C||void 0===C,"internal-error",{appName:g})}class Mt{constructor(g){var{uid:y,auth:I,stsTokenManager:x}=g,R=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.metadata=new yr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,v.Z)(function*(){const I=yield nn(y,y.stsTokenManager.getToken(y.auth,g));return fe(I,y.auth,"internal-error"),y.accessToken!==I&&(y.accessToken=I,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),I})()}getIdTokenResult(g){return function(C){return Kt.apply(this,arguments)}(this,g)}reload(){return function(C){return L.apply(this,arguments)}(this)}_assign(g){this!==g&&(fe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Mt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var I=this;return(0,v.Z)(function*(){let x=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),x=!0),y&&(yield eo(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,v.Z)(function*(){const y=yield g.getIdToken();return yield nn(g,function(C,g){return ds.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var I,x,R,j,ae,Te,Fe,Ke;const Ge=null!==(I=y.displayName)&&void 0!==I?I:void 0,kt=null!==(x=y.email)&&void 0!==x?x:void 0,un=null!==(R=y.phoneNumber)&&void 0!==R?R:void 0,Yi=null!==(j=y.photoURL)&&void 0!==j?j:void 0,mg=null!==(ae=y.tenantId)&&void 0!==ae?ae:void 0,af=null!==(Te=y._redirectEventId)&&void 0!==Te?Te:void 0,wo=null!==(Fe=y.createdAt)&&void 0!==Fe?Fe:void 0,a_=null!==(Ke=y.lastLoginAt)&&void 0!==Ke?Ke:void 0,{uid:rd,emailVerified:yg,isAnonymous:_g,providerData:uf,stsTokenManager:Co}=y;fe(rd&&Co,g,"internal-error");const Ci=It.fromJSON(this.name,Co);fe("string"==typeof rd,g,"internal-error"),Zt(Ge,g.name),Zt(kt,g.name),fe("boolean"==typeof yg,g,"internal-error"),fe("boolean"==typeof _g,g,"internal-error"),Zt(un,g.name),Zt(Yi,g.name),Zt(mg,g.name),Zt(af,g.name),Zt(wo,g.name),Zt(a_,g.name);const vg=new Mt({uid:rd,auth:g,email:kt,emailVerified:yg,displayName:Ge,isAnonymous:_g,photoURL:Yi,phoneNumber:un,tenantId:mg,stsTokenManager:Ci,createdAt:wo,lastLoginAt:a_});return uf&&Array.isArray(uf)&&(vg.providerData=uf.map(cw=>Object.assign({},cw))),af&&(vg._redirectEventId=af),vg}static _fromIdTokenResponse(g,y,I=!1){return(0,v.Z)(function*(){const x=new It;x.updateFromServerResponse(y);const R=new Mt({uid:y.localId,auth:g,stsTokenManager:x,isAnonymous:I});return yield eo(R),R})()}}const ft=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(y,I){var x=this;return(0,v.Z)(function*(){x.storage[y]=I})()}_get(y){var I=this;return(0,v.Z)(function*(){const x=I.storage[y];return void 0===x?null:x})()}_remove(y){var I=this;return(0,v.Z)(function*(){delete I.storage[y]})()}_addListener(y,I){}_removeListener(y,I){}}return C.type="NONE",C})();function Ot(C,g,y){return`firebase:${C}:${g}:${y}`}class jn{constructor(g,y,I){this.persistence=g,this.auth=y,this.userKey=I;const{config:x,name:R}=this.auth;this.fullUserKey=Ot(this.userKey,x.apiKey,R),this.fullPersistenceKey=Ot("persistence",x.apiKey,R),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,v.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Mt._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,v.Z)(function*(){if(y.persistence===g)return;const I=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,I?y.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,I="authUser"){return(0,v.Z)(function*(){if(!y.length)return new jn(te(ft),g,I);const x=(yield Promise.all(y.map(function(){var Fe=(0,v.Z)(function*(Ke){if(yield Ke._isAvailable())return Ke});return function(Ke){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let R=x[0]||te(ft);const j=Ot(I,g.config.apiKey,g.name);let ae=null;for(const Fe of y)try{const Ke=yield Fe._get(j);if(Ke){const Ge=Mt._fromJSON(g,Ke);Fe!==R&&(ae=Ge),R=Fe;break}}catch(Ke){}const Te=x.filter(Fe=>Fe._shouldAllowMigration);return R._shouldAllowMigration&&Te.length?(R=Te[0],ae&&(yield R._set(j,ae.toJSON())),yield Promise.all(y.map(function(){var Fe=(0,v.Z)(function*(Ke){if(Ke!==R)try{yield Ke._remove(j)}catch(Ge){}});return function(Ke){return Fe.apply(this,arguments)}}())),new jn(R,g,I)):new jn(R,g,I)})()}}function gc(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(yc(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(mc(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(du(g))return"Blackberry";if(Jo(g))return"Webos";if(ah(g))return"Safari";if((g.includes("chrome/")||uh(g))&&!g.includes("edge/"))return"Chrome";if(Qo(g))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function mc(C=(0,F.z$)()){return/firefox\//i.test(C)}function ah(C=(0,F.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function uh(C=(0,F.z$)()){return/crios\//i.test(C)}function yc(C=(0,F.z$)()){return/iemobile/i.test(C)}function Qo(C=(0,F.z$)()){return/android/i.test(C)}function du(C=(0,F.z$)()){return/blackberry/i.test(C)}function Jo(C=(0,F.z$)()){return/webos/i.test(C)}function ui(C=(0,F.z$)()){return/iphone|ipad|ipod/i.test(C)}function vi(C=(0,F.z$)()){return ui(C)||Qo(C)||Jo(C)||du(C)||/windows phone/i.test(C)||yc(C)}function Jn(C,g=[]){let y;switch(C){case"Browser":y=gc((0,F.z$)());break;case"Worker":y=`${gc((0,F.z$)())}-${C}`;break;default:y=C}const I=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${le.SDK_VERSION}/${I}`}class by{constructor(g,y){this.app=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Re(this),this.idTokenSubscription=new Re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(g,y){var I=this;return y&&(this._popupRedirectResolver=te(y)),this._initializationPromise=this.queue((0,v.Z)(function*(){var x;I._deleted||(I.persistenceManager=yield jn.create(I,g),!I._deleted&&((null===(x=I._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(y),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,v.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,v.Z)(function*(){var I;let x=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const R=null===(I=y.redirectUser)||void 0===I?void 0:I._redirectEventId,j=null==x?void 0:x._redirectEventId,ae=yield y.tryRedirectSignIn(g);(!R||R===j)&&(null==ae?void 0:ae.user)&&(x=ae.user)}return x?x._redirectEventId?(fe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===x._redirectEventId?y.directlySetCurrentUser(x):y.reloadAndSetCurrentUserOrClear(x)):y.reloadAndSetCurrentUserOrClear(x):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,v.Z)(function*(){let I=null;try{I=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(x){yield y._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,v.Z)(function*(){try{yield eo(g)}catch(I){if("auth/network-request-failed"!==I.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,v.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,v.Z)(function*(){const I=g?(0,F.m9)(g):null;return I&&fe(I.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(I&&I._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,v.Z)(function*(){if(!y._deleted)return g&&fe(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,v.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,v.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,v.Z)(function*(){yield y.assertedPersistence.setPersistence(te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new F.LL("auth","Firebase",g())}onAuthStateChanged(g,y,I){return this.registerStateListener(this.authStateSubscription,g,y,I)}onIdTokenChanged(g,y,I){return this.registerStateListener(this.idTokenSubscription,g,y,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var I=this;return(0,v.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(y);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,v.Z)(function*(){if(!y.redirectPersistenceManager){const I=g&&te(g)||y._popupRedirectResolver;fe(I,y,"argument-error"),y.redirectPersistenceManager=yield jn.create(y,[te(I._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,v.Z)(function*(){var I,x;return y._isInitialized&&(yield y.queue((0,v.Z)(function*(){}))),(null===(I=y._currentUser)||void 0===I?void 0:I._redirectEventId)===g?y._currentUser:(null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,v.Z)(function*(){if(g===y.currentUser)return y.queue((0,v.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,I,x){if(this._deleted)return()=>{};const R="function"==typeof y?y:y.next.bind(y),j=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(j,this,"internal-error"),j.then(()=>R(this.currentUser)),"function"==typeof y?g.addObserver(y,I,x):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,v.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Dt(C){return(0,F.m9)(C)}class Re{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,F.ne)(y=>this.observer=y)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pt(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function hs(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class Xn{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return J("not implemented")}_getIdTokenResponse(g){return J("not implemented")}_linkToIdToken(g,y){return J("not implemented")}_getReauthenticationResolver(g){return J("not implemented")}}function Yt(C,g){return no.apply(this,arguments)}function no(){return(no=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:resetPassword",We(C,g))})).apply(this,arguments)}function Xo(C,g){return tt.apply(this,arguments)}function tt(){return(tt=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _c(C,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:update",We(C,g))})).apply(this,arguments)}function ki(){return(ki=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithPassword",We(C,g))})).apply(this,arguments)}function bn(C,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:sendOobCode",We(C,g))})).apply(this,arguments)}function ea(C,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,v.Z)(function*(C,g){return bn(C,g)})).apply(this,arguments)}function Rt(C,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,v.Z)(function*(C,g){return bn(C,g)})).apply(this,arguments)}function ch(C,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,v.Z)(function*(C,g){return bn(C,g)})).apply(this,arguments)}function dh(C,g){return na.apply(this,arguments)}function na(){return(na=(0,v.Z)(function*(C,g){return bn(C,g)})).apply(this,arguments)}function Fi(){return(Fi=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithEmailLink",We(C,g))})).apply(this,arguments)}function hh(){return(hh=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithEmailLink",We(C,g))})).apply(this,arguments)}class Rr extends Xn{constructor(g,y,I,x=null){super("password",I),this._email=g,this._password=y,this._tenantId=x}static _fromEmailAndPassword(g,y){return new Rr(g,y,"password")}static _fromEmailAndCode(g,y,I=null){return new Rr(g,y,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,v.Z)(function*(){switch(y.signInMethod){case"password":return function(C,g){return ki.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(C,g){return Fi.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:xe(g,"internal-error")}})()}_linkToIdToken(g,y){var I=this;return(0,v.Z)(function*(){switch(I.signInMethod){case"password":return Xo(g,{idToken:y,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,g){return hh.apply(this,arguments)}(g,{idToken:y,email:I._email,oobCode:I._password});default:xe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Tt(C,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithIdp",We(C,g))})).apply(this,arguments)}class Mr extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Mr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):xe("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:x}=y,R=(0,ue._T)(y,["providerId","signInMethod"]);if(!I||!x)return null;const j=new Mr(I,x);return Object.assign(j,R),j}_getIdTokenResponse(g){return Tt(g,this.buildRequest())}_linkToIdToken(g,y){const I=this.buildRequest();return I.idToken=y,Tt(g,I)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Tt(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,F.xO)(y)}return g}}function li(C,g){return fh.apply(this,arguments)}function fh(){return(fh=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:sendVerificationCode",We(C,g))})).apply(this,arguments)}function ph(){return(ph=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithPhoneNumber",We(C,g))})).apply(this,arguments)}function xp(){return(xp=(0,v.Z)(function*(C,g){const y=yield oi(C,"POST","/v1/accounts:signInWithPhoneNumber",We(C,g));if(y.temporaryProof)throw cs(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const G0={USER_NOT_FOUND:"user-not-found"};function Np(){return(Np=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithPhoneNumber",We(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),G0)})).apply(this,arguments)}class ra extends Xn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new ra({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new ra({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(C,g){return ph.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(C,g){return xp.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(C,g){return Np.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:I,verificationCode:x}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:I,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:I,phoneNumber:x,temporaryProof:R}=g;return I||y||x||R?new ra({verificationId:y,verificationCode:I,phoneNumber:x,temporaryProof:R}):null}}class Ec{constructor(g){var y,I,x,R,j,ae;const Te=(0,F.zd)((0,F.pd)(g)),Fe=null!==(y=Te.apiKey)&&void 0!==y?y:null,Ke=null!==(I=Te.oobCode)&&void 0!==I?I:null,Ge=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Te.mode)&&void 0!==x?x:null);fe(Fe&&Ke&&Ge,"argument-error"),this.apiKey=Fe,this.operation=Ge,this.code=Ke,this.continueUrl=null!==(R=Te.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(j=Te.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ae=Te.tenantId)&&void 0!==ae?ae:null}static parseLink(g){const y=function(C){const g=(0,F.zd)((0,F.pd)(C)).link,y=g?(0,F.zd)((0,F.pd)(g)).deep_link_id:null,I=(0,F.zd)((0,F.pd)(C)).deep_link_id;return(I?(0,F.zd)((0,F.pd)(I)).link:null)||I||y||g||C}(g);try{return new Ec(y)}catch(I){return null}}}let Rp=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,I){return Rr._fromEmailAndPassword(y,I)}static credentialWithLink(y,I){const x=Ec.parseLink(I);return fe(x,"argument-error"),Rr._fromEmailAndCode(y,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class io{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class gu extends io{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class so extends gu{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return fe("providerId"in y&&"signInMethod"in y,"argument-error"),Mr._fromParams(y)}credential(g){return this._credential(g)}_credential(g){return fe(g.idToken||g.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return so.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return so.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:R,nonce:j,providerId:ae}=g;if(!I&&!x&&!y&&!R||!ae)return null;try{return new so(ae)._credential({idToken:y,accessToken:I,rawNonce:j,pendingToken:R})}catch(Te){return null}}}let gh=(()=>{class C extends gu{constructor(){super("facebook.com")}static credential(y){return Mr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),mh=(()=>{class C extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(y,I){return Mr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:I})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:x}=y;if(!I&&!x)return null;try{return C.credential(I,x)}catch(R){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),yh=(()=>{class C extends gu{constructor(){super("github.com")}static credential(y){return Mr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ia extends Xn{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Tt(g,this.buildRequest())}_linkToIdToken(g,y){const I=this.buildRequest();return I.idToken=y,Tt(g,I)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Tt(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:x,pendingToken:R}=y;return I&&x&&R&&I===x?new ia(I,R):null}static _create(g,y){return new ia(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let _h=(()=>{class C extends gu{constructor(){super("twitter.com")}static credential(y,I){return Mr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:I})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=y;if(!I||!x)return null;try{return C.credential(I,x)}catch(R){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function vh(C,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signUp",We(C,g))})).apply(this,arguments)}class ci{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,I,x=!1){return(0,v.Z)(function*(){const R=yield Mt._fromIdTokenResponse(g,I,x),j=Ty(I);return new ci({user:R,providerId:j,_tokenResponse:I,operationType:y})})()}static _forOperation(g,y,I){return(0,v.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const x=Ty(I);return new ci({user:g,providerId:x,_tokenResponse:I,operationType:y})})()}}function Ty(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function yu(){return(yu=(0,v.Z)(function*(C){var g;const y=Dt(C);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new ci({user:y.currentUser,providerId:null,operationType:"signIn"});const I=yield vh(y,{returnSecureToken:!0}),x=yield ci._fromIdTokenResponse(y,"signIn",I,!0);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class wc extends F.ZR{constructor(g,y,I,x){var R;super(y.code,y.message),this.operationType=I,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,wc.prototype),this.appName=g.name,this.code=y.code,this.tenantId=null!==(R=g.tenantId)&&void 0!==R?R:void 0,this.serverResponse=y.customData.serverResponse}static _fromErrorAndOperation(g,y,I,x){return new wc(g,y,I,x)}}function _u(C,g,y,I){return("reauthenticate"===g?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?wc._fromErrorAndOperation(C,R,g,I):R})}function Mp(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Cc(){return(Cc=(0,v.Z)(function*(C,g){const y=(0,F.m9)(C);yield ps(!0,y,g);const{providerUserInfo:I}=yield wn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),x=Mp(I||[]);return y.providerData=y.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Ic(C,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,v.Z)(function*(C,g,y=!1){const I=yield nn(C,g._linkToIdToken(C.auth,yield C.getIdToken()),y);return ci._forOperation(C,"link",I)})).apply(this,arguments)}function ps(C,g,y){return vu.apply(this,arguments)}function vu(){return(vu=(0,v.Z)(function*(C,g,y){yield eo(g);const x=!1===C?"provider-already-linked":"no-such-provider";fe(Mp(g.providerData).has(y)===C,g.auth,x)})).apply(this,arguments)}function bc(C,g){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,v.Z)(function*(C,g,y=!1){const{auth:I}=C,x="reauthenticate";try{const R=yield nn(C,_u(I,x,g,C),y);fe(R.idToken,I,"internal-error");const j=Ve(R.idToken);fe(j,I,"internal-error");const{sub:ae}=j;return fe(C.uid===ae,I,"user-mismatch"),ci._forOperation(C,x,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&xe(I,"user-mismatch"),R}})).apply(this,arguments)}function Op(C,g){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,v.Z)(function*(C,g,y=!1){const I="signIn",x=yield _u(C,I,g),R=yield ci._fromIdTokenResponse(C,I,x);return y||(yield C._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Tc(C,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,v.Z)(function*(C,g){return Op(Dt(C),g)})).apply(this,arguments)}function Pp(C,g){return kp.apply(this,arguments)}function kp(){return(kp=(0,v.Z)(function*(C,g){const y=(0,F.m9)(C);return yield ps(!1,y,g.providerId),Ic(y,g)})).apply(this,arguments)}function Eu(C,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,v.Z)(function*(C,g){return bc((0,F.m9)(C),g)})).apply(this,arguments)}function Q0(C,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,v.Z)(function*(C,g){return oi(C,"POST","/v1/accounts:signInWithCustomToken",We(C,g))})).apply(this,arguments)}function er(){return(er=(0,v.Z)(function*(C,g){const y=Dt(C),I=yield Q0(y,{token:g,returnSecureToken:!0}),x=yield ci._fromIdTokenResponse(y,"signIn",I);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class Cu{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Iu._fromServerResponse(g,y):xe(g,"internal-error")}}class Iu extends Cu{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Iu(y)}}function bu(C,g,y){var I;fe((null===(I=y.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),fe(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(fe(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iosBundleId=y.iOS.bundleId),y.android&&(fe(y.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Ac(){return(Ac=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C),x={requestType:"PASSWORD_RESET",email:g};y&&bu(I,x,y),yield Rt(I,x)})).apply(this,arguments)}function Ze(){return(Ze=(0,v.Z)(function*(C,g,y){yield Yt((0,F.m9)(C),{oobCode:g,newPassword:y})})).apply(this,arguments)}function ao(){return(ao=(0,v.Z)(function*(C,g){yield _c((0,F.m9)(C),{oobCode:g})})).apply(this,arguments)}function Du(C,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,v.Z)(function*(C,g){const y=(0,F.m9)(C),I=yield Yt(y,{oobCode:g}),x=I.requestType;switch(fe(x,y,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(I.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(I.mfaInfo,y,"internal-error");default:fe(I.email,y,"internal-error")}let R=null;return I.mfaInfo&&(R=Cu._fromServerResponse(Dt(y),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function uo(){return(uo=(0,v.Z)(function*(C,g){const{data:y}=yield Du((0,F.m9)(C),g);return y.email})).apply(this,arguments)}function me(){return(me=(0,v.Z)(function*(C,g,y){const I=Dt(C),x=yield vh(I,{returnSecureToken:!0,email:g,password:y}),R=yield ci._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(R.user),R})).apply(this,arguments)}function sn(){return(sn=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C),x={requestType:"EMAIL_SIGNIN",email:g};fe(y.handleCodeInApp,I,"argument-error"),y&&bu(I,x,y),yield ch(I,x)})).apply(this,arguments)}function Hr(){return(Hr=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C),x=Rp.credentialWithLink(g,y||we());return fe(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Tc(I,x)})).apply(this,arguments)}function Ch(C,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:createAuthUri",We(C,g))})).apply(this,arguments)}function Up(){return(Up=(0,v.Z)(function*(C,g){const I={identifier:g,continueUri:je()?we():"http://localhost"},{signinMethods:x}=yield Ch((0,F.m9)(C),I);return x||[]})).apply(this,arguments)}function _s(){return(_s=(0,v.Z)(function*(C,g){const y=(0,F.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&bu(y.auth,x,g);const{email:R}=yield ea(y.auth,x);R!==C.email&&(yield C.reload())})).apply(this,arguments)}function Gr(){return(Gr=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};y&&bu(I.auth,R,y);const{email:j}=yield dh(I.auth,R);j!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ih(C,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,v.Z)(function*(C,g){return _t(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bh(){return(bh=(0,v.Z)(function*(C,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const I=(0,F.m9)(C),R={idToken:yield I.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},j=yield nn(I,Ih(I.auth,R));I.displayName=j.displayName||null,I.photoURL=j.photoUrl||null;const ae=I.providerData.find(({providerId:Te})=>"password"===Te);ae&&(ae.displayName=I.displayName,ae.photoURL=I.photoURL),yield I._updateTokensIfNecessary(j)})).apply(this,arguments)}function Th(C,g,y){return Su.apply(this,arguments)}function Su(){return(Su=(0,v.Z)(function*(C,g,y){const{auth:I}=C,R={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(R.email=g),y&&(R.password=y);const j=yield nn(C,Xo(I,R));yield C._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class lo{constructor(g,y,I={}){this.isNewUser=g,this.providerId=y,this.profile=I}}class Sh extends lo{constructor(g,y,I,x){super(g,y,I),this.username=x}}class xy extends lo{constructor(g,y){super(g,"facebook.com",y)}}class Ny extends Sh{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class xu extends lo{constructor(g,y){super(g,"google.com",y)}}class jp extends Sh{constructor(g,y,I){super(g,"twitter.com",y,I)}}function $p(C){const{user:g,_tokenResponse:y}=C;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(C){var g,y;if(!C)return null;const{providerId:I}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},R=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const j=null===(y=null===(g=Ve(C.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(j)return new lo(R,"anonymous"!==j&&"custom"!==j?j:null)}if(!I)return null;switch(I){case"facebook.com":return new xy(R,x);case"github.com":return new Ny(R,x);case"google.com":return new xu(R,x);case"twitter.com":return new jp(R,x,C.screenName||null);case"custom":case"anonymous":return new lo(R,null);default:return new lo(R,I,x)}}(y)}class Ui{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Ui("enroll",g)}static _fromMfaPendingCredential(g){return new Ui("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,I;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Ui._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(I=g.multiFactorSession)||void 0===I?void 0:I.idToken)return Ui._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xh{constructor(g,y,I){this.session=g,this.hints=y,this.signInResolver=I}static _fromError(g,y){const I=Dt(g),x=(y.serverResponse.mfaInfo||[]).map(j=>Cu._fromServerResponse(I,j));fe(y.serverResponse.mfaPendingCredential,I,"internal-error");const R=Ui._fromMfaPendingCredential(y.serverResponse.mfaPendingCredential);return new xh(R,x,function(){var j=(0,v.Z)(function*(ae){const Te=yield ae._process(I,R);delete y.serverResponse.mfaInfo,delete y.serverResponse.mfaPendingCredential;const Fe=Object.assign(Object.assign({},y.serverResponse),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(y.operationType){case"signIn":const Ke=yield ci._fromIdTokenResponse(I,y.operationType,Fe);return yield I._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return fe(y.user,I,"internal-error"),ci._forOperation(y.user,y.operationType,Fe);default:xe(I,"internal-error")}});return function(ae){return j.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,v.Z)(function*(){return y.signInResolver(g)})()}}function Ry(C,g){return _t(C,"POST","/v2/accounts/mfaEnrollment:start",We(C,g))}class oa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(I=>Cu._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new oa(g)}getSession(){var g=this;return(0,v.Z)(function*(){return Ui._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var I=this;return(0,v.Z)(function*(){const x=g,R=yield I.getSession(),j=yield nn(I.user,x._process(I.user.auth,R,y));return yield I.user._updateTokensIfNecessary(j),I.user.reload()})()}unenroll(g){var y=this;return(0,v.Z)(function*(){const I="string"==typeof g?g:g.uid,x=yield y.user.getIdToken(),R=yield nn(y.user,function(C,g){return _t(C,"POST","/v2/accounts/mfaEnrollment:withdraw",We(C,g))}(y.user.auth,{idToken:x,mfaEnrollmentId:I}));y.enrolledFactors=y.enrolledFactors.filter(({uid:j})=>j!==I),yield y.user._updateTokensIfNecessary(R);try{yield y.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const aa=new WeakMap,Nu="__sak";class Mh{constructor(g,y){this.storage=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const Sc=(()=>{class C extends Mh{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(y,I)=>this.onStorageEvent(y,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,F.z$)();return ah(C)||ui(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=vi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),R=this.localCache[I];x!==R&&y(I,R,x)}}onStorageEvent(y,I=!1){if(!y.key)return void this.forAllChangedKeys((ae,Te,Fe)=>{this.notifyListeners(ae,Fe)});const x=y.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(x);if(y.newValue!==ae)null!==y.newValue?this.storage.setItem(x,y.newValue):this.storage.removeItem(x);else if(this.localCache[x]===y.newValue&&!I)return}const R=()=>{const ae=this.storage.getItem(x);!I&&this.localCache[x]===ae||this.notifyListeners(x,ae)},j=this.storage.getItem(x);(0,F.w1)()&&10===document.documentMode&&j!==y.newValue&&y.newValue!==y.oldValue?setTimeout(R,10):R()}notifyListeners(y,I){this.localCache[y]=I;const x=this.listeners[y];if(x)for(const R of Array.from(x))R(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,I){var x=()=>super._set,R=this;return(0,v.Z)(function*(){yield x().call(R,y,I),R.localCache[y]=JSON.stringify(I)})()}_get(y){var I=()=>super._get,x=this;return(0,v.Z)(function*(){const R=yield I().call(x,y);return x.localCache[y]=JSON.stringify(R),R})()}_remove(y){var I=()=>super._remove,x=this;return(0,v.Z)(function*(){yield I().call(x,y),delete x.localCache[y]})()}}return C.type="LOCAL",C})(),Bi=(()=>{class C extends Mh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(y,I){}_removeListener(y,I){}}return C.type="SESSION",C})();let ws=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const I=this.receivers.find(R=>R.isListeningto(y));if(I)return I;const x=new C(y);return this.receivers.push(x),x}isListeningto(y){return this.eventTarget===y}handleEvent(y){var I=this;return(0,v.Z)(function*(){const x=y,{eventId:R,eventType:j,data:ae}=x.data,Te=I.handlersMap[j];if(!(null==Te?void 0:Te.size))return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:j});const Fe=Array.from(Te).map(function(){var Ge=(0,v.Z)(function*(kt){return kt(x.origin,ae)});return function(kt){return Ge.apply(this,arguments)}}()),Ke=yield function(C){return Promise.all(C.map(function(){var g=(0,v.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(I){return{fulfilled:!1,reason:I}}});return function(y){return g.apply(this,arguments)}}()))}(Fe);x.ports[0].postMessage({status:"done",eventId:R,eventType:j,response:Ke})})()}_subscribe(y,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(I)}_unsubscribe(y,I){this.handlersMap[y]&&I&&this.handlersMap[y].delete(I),(!I||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function xc(C="",g=10){let y="";for(let I=0;I<g;I++)y+=Math.floor(10*Math.random());return C+y}class ew{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,I=50){var x=this;return(0,v.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let j,ae;return new Promise((Te,Fe)=>{const Ke=xc("",20);R.port1.start();const Ge=setTimeout(()=>{Fe(new Error("unsupported_event"))},I);ae={messageChannel:R,onMessage(kt){const un=kt;if(un.data.eventId===Ke)switch(un.data.status){case"ack":clearTimeout(Ge),j=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Te(un.data.response);break;default:clearTimeout(Ge),clearTimeout(j),Fe(new Error("invalid_response"))}}},x.handlers.add(ae),R.port1.addEventListener("message",ae.onMessage),x.target.postMessage({eventType:g,eventId:Ke,data:y},[R.port2])}).finally(()=>{ae&&x.removeMessageHandler(ae)})})()}}function jt(){return window}function Nc(){return void 0!==jt().WorkerGlobalScope&&"function"==typeof jt().importScripts}function Fh(){return(Fh=(0,v.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Wp="firebaseLocalStorageDb",Pu="firebaseLocalStorage",Rc="fbase_key";class Mc{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Oc(C,g){return C.transaction([Pu],g?"readwrite":"readonly").objectStore(Pu)}function $t(){const C=indexedDB.open(Wp,1);return new Promise((g,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(Pu,{keyPath:Rc})}catch(x){y(x)}}),C.addEventListener("success",(0,v.Z)(function*(){const I=C.result;I.objectStoreNames.contains(Pu)?g(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(Wp);return new Mc(C).toPromise()}(),g(yield $t()))}))})}function ze(C,g,y){return Er.apply(this,arguments)}function Er(){return(Er=(0,v.Z)(function*(C,g,y){const I=Oc(C,!0).put({[Rc]:g,value:y});return new Mc(I).toPromise()})).apply(this,arguments)}function tr(){return(tr=(0,v.Z)(function*(C,g){const y=Oc(C,!1).get(g),I=yield new Mc(y).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ua(C,g){const y=Oc(C,!0).delete(g);return new Mc(y).toPromise()}const ca=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,v.Z)(function*(){return y.db||(y.db=yield $t()),y.db})()}_withRetries(y){var I=this;return(0,v.Z)(function*(){let x=0;for(;;)try{const R=yield I._openDb();return yield y(R)}catch(R){if(x++>3)throw R;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,v.Z)(function*(){return Nc()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,v.Z)(function*(){y.receiver=ws._getInstance(Nc()?self:null),y.receiver._subscribe("keyChanged",function(){var I=(0,v.Z)(function*(x,R){return{keyProcessed:(yield y._poll()).includes(R.key)}});return function(x,R){return I.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var I=(0,v.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return I.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,v.Z)(function*(){var I,x;if(y.activeServiceWorker=yield function(){return Fh.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ew(y.activeServiceWorker);const R=yield y.sender._send("ping",{},800);!R||(null===(I=R[0])||void 0===I?void 0:I.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var I=this;return(0,v.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:y},I.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const y=yield $t();return yield ze(y,Nu,"1"),yield ua(y,Nu),!0}catch(y){}return!1})()}_withPendingWrite(y){var I=this;return(0,v.Z)(function*(){I.pendingWrites++;try{yield y()}finally{I.pendingWrites--}})()}_set(y,I){var x=this;return(0,v.Z)(function*(){return x._withPendingWrite((0,v.Z)(function*(){return yield x._withRetries(R=>ze(R,y,I)),x.localCache[y]=I,x.notifyServiceWorker(y)}))})()}_get(y){var I=this;return(0,v.Z)(function*(){const x=yield I._withRetries(R=>function(C,g){return tr.apply(this,arguments)}(R,y));return I.localCache[y]=x,x})()}_remove(y){var I=this;return(0,v.Z)(function*(){return I._withPendingWrite((0,v.Z)(function*(){return yield I._withRetries(x=>ua(x,y)),delete I.localCache[y],I.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,v.Z)(function*(){const I=yield y._withRetries(j=>{const ae=Oc(j,!1).getAll();return new Mc(ae).toPromise()});if(!I)return[];if(0!==y.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:j,value:ae}of I)R.add(j),JSON.stringify(y.localCache[j])!==JSON.stringify(ae)&&(y.notifyListeners(j,ae),x.push(j));for(const j of Object.keys(y.localCache))y.localCache[j]&&!R.has(j)&&(y.notifyListeners(j,null),x.push(j));return x})()}notifyListeners(y,I){this.localCache[y]=I;const x=this.listeners[y];if(x)for(const R of Array.from(x))R(I)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function zp(C,g){return _t(C,"POST","/v2/accounts/mfaSignIn:start",We(C,g))}function Vh(){return(Vh=(0,v.Z)(function*(C){return(yield _t(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function da(C){return new Promise((g,y)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=g,I.onerror=x=>{const R=Ne("internal-error");R.customData=x,y(R)},I.type="text/javascript",I.charset="UTF-8",function(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(I)})}function Kp(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Wr=1e12;class Fu{constructor(g){this.auth=g,this.counter=Wr,this._widgets=new Map}render(g,y){const I=this.counter;return this._widgets.set(I,new Uh(g,this.auth.name,y||{})),this.counter++,I}reset(g){var y;const I=g||Wr;null===(y=this._widgets.get(I))||void 0===y||y.delete(),this._widgets.delete(I)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Wr))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,v.Z)(function*(){var I;return null===(I=y._widgets.get(g||Wr))||void 0===I||I.execute(),""})()}}class Uh{constructor(g,y,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;fe(x,"argument-error",{appName:y}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nr=Kp("rcb"),ho=new Lt(3e4,6e4);class nt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jt().grecaptcha}load(g,y=""){return fe((C=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(jt().grecaptcha):new Promise((I,x)=>{const R=jt().setTimeout(()=>{x(Ne(g,"network-request-failed"))},ho.get());jt()[nr]=()=>{jt().clearTimeout(R),delete jt()[nr];const ae=jt().grecaptcha;if(!ae)return void x(Ne(g,"internal-error"));const Te=ae.render;ae.render=(Fe,Ke)=>{const Ge=Te(Fe,Ke);return this.counter++,Ge},this.hostLanguage=y,I(ae)},da(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:nr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(R),x(Ne(g,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!jt().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class on{load(g){return(0,v.Z)(function*(){return new Fu(g)})()}clearedOneInstance(){}}const Uy="recaptcha",tw={theme:"light",type:"image"};class nw{constructor(g,y=Object.assign({},tw),I){this.parameters=y,this.type=Uy,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(I),this.isInvisible="invisible"===this.parameters.size,fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;fe(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new on:new nt,this.validateStartingState()}verify(){var g=this;return(0,v.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(y)||new Promise(R=>{const j=ae=>{!ae||(g.tokenChangeListeners.delete(j),R(ae))};g.tokenChangeListeners.add(j),g.isInvisible&&I.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(I=>I(y)),"function"==typeof g)g(y);else if("string"==typeof g){const I=jt()[g];"function"==typeof I&&I(y)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,v.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const I=document.createElement("div");y.appendChild(I),y=I}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,v.Z)(function*(){fe(je()&&!Nc(),g.auth,"internal-error"),yield function(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(C){return Vh.apply(this,arguments)}(g.auth);fe(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vu{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=ra._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Bh(){return(Bh=(0,v.Z)(function*(C,g,y){const I=Dt(C),x=yield fi(I,g,(0,F.m9)(y));return new Vu(x,R=>Tc(I,R))})).apply(this,arguments)}function fa(){return(fa=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C);yield ps(!1,I,"phone");const x=yield fi(I.auth,g,(0,F.m9)(y));return new Vu(x,R=>Pp(I,R))})).apply(this,arguments)}function Yp(){return(Yp=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C),x=yield fi(I.auth,g,(0,F.m9)(y));return new Vu(x,R=>Eu(I,R))})).apply(this,arguments)}function fi(C,g,y){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,v.Z)(function*(C,g,y){var I;const x=yield y.verify();try{let R;if(fe("string"==typeof x,C,"argument-error"),fe(y.type===Uy,C,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const j=R.session;if("phoneNumber"in R)return fe("enroll"===j.type,C,"internal-error"),(yield Ry(C,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{fe("signin"===j.type,C,"internal-error");const ae=(null===(I=R.multiFactorHint)||void 0===I?void 0:I.uid)||R.multiFactorUid;return fe(ae,C,"missing-multi-factor-info"),(yield zp(C,{mfaPendingCredential:j.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield li(C,{phoneNumber:R.phoneNumber,recaptchaToken:x});return j}}finally{y._reset()}})).apply(this,arguments)}function Is(){return(Is=(0,v.Z)(function*(C,g){yield Ic((0,F.m9)(C),g)})).apply(this,arguments)}let kc=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=Dt(y)}verifyPhoneNumber(y,I){return fi(this.auth,y,(0,F.m9)(I))}static credential(y,I){return ra._fromVerification(y,I)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:I,temporaryProof:x}=y;return I&&x?ra._fromTokenResponse(I,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function pa(C,g){return g?te(g):(fe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class hn extends Xn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Tt(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Tt(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Tt(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Fc(C){return Op(C.auth,new hn(C),C.bypassAuthState)}function fn(C){const{auth:g,user:y}=C;return fe(y,g,"internal-error"),bc(y,new hn(C),C.bypassAuthState)}function Lc(C){return ga.apply(this,arguments)}function ga(){return(ga=(0,v.Z)(function*(C){const{auth:g,user:y}=C;return fe(y,g,"internal-error"),Ic(y,new hn(C),C.bypassAuthState)})).apply(this,arguments)}class Jp{constructor(g,y,I,x,R=!1){this.auth=g,this.resolver=I,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,v.Z)(function*(I,x){g.pendingPromise={resolve:I,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(I,x){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,v.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:R,tenantId:j,error:ae,type:Te}=g;if(ae)return void y.reject(ae);const Fe={auth:y.auth,requestUri:I,sessionId:x,tenantId:j||void 0,postBody:R||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Te)(Fe))}catch(Ke){y.reject(Ke)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Fc;case"linkViaPopup":case"linkViaRedirect":return Lc;case"reauthViaPopup":case"reauthViaRedirect":return fn;default:xe(this.auth,"internal-error")}}resolve(g){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jy=new Lt(2e3,1e4);function Kr(){return(Kr=(0,v.Z)(function*(C,g,y){const I=Dt(C);it(C,g,io);const x=pa(I,y);return new jh(I,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function ji(){return(ji=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C);it(I.auth,g,io);const x=pa(I.auth,y);return new jh(I.auth,"reauthViaPopup",g,x,I).executeNotNull()})).apply(this,arguments)}function ju(){return(ju=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C);it(I.auth,g,io);const x=pa(I.auth,y);return new jh(I.auth,"linkViaPopup",g,x,I).executeNotNull()})).apply(this,arguments)}let jh=(()=>{class C extends Jp{constructor(y,I,x,R,j){super(y,I,R,j),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,v.Z)(function*(){const I=yield y.execute();return fe(I,y.auth,"internal-error"),I})()}onExecution(){var y=this;return(0,v.Z)(function*(){ee(1===y.filter.length,"Popup operations only handle one event");const I=xc();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],I),y.authWindow.associatedEvent=I,y.resolver._originValidation(y.auth).catch(x=>{y.reject(x)}),y.resolver._isIframeWebStorageSupported(y.auth,x=>{x||y.reject(Ne(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var I,x;this.pollId=(null===(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,jy.get())};y()}}return C.currentPopupAction=null,C})();const wr=new Map;class sw extends Jp{constructor(g,y,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,v.Z)(function*(){let I=wr.get(y.auth._key());if(!I){try{const R=(yield function(C,g){return rr.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;I=()=>Promise.resolve(R)}catch(x){I=()=>Promise.reject(x)}wr.set(y.auth._key(),I)}return I()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,I=this;return(0,v.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(I,g);if("unknown"!==g.type){if(g.eventId){const x=yield I.auth._redirectUserForId(g.eventId);if(x)return I.user=x,y().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function rr(){return(rr=(0,v.Z)(function*(C,g){const y=ya(g),I="true"===(yield ma(C)._get(y));return yield ma(C)._remove(y),I})).apply(this,arguments)}function $u(C,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,v.Z)(function*(C,g){return ma(C)._set(ya(g),"true")})).apply(this,arguments)}function ma(C){return te(C._redirectPersistence)}function ya(C){return Ot("pendingRedirect",C.config.apiKey,C.name)}function Hh(){return(Hh=(0,v.Z)(function*(C,g,y){const I=Dt(C);it(C,g,io);const x=pa(I,y);return yield $u(x,I),x._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function Gu(){return(Gu=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C);it(I.auth,g,io);const x=pa(I.auth,y);yield $u(x,I.auth);const R=yield Wh(I);return x._openRedirect(I.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function As(){return(As=(0,v.Z)(function*(C,g,y){const I=(0,F.m9)(C);it(I.auth,g,io);const x=pa(I.auth,y);yield ps(!1,I,g.providerId),yield $u(x,I.auth);const R=yield Wh(I);return x._openRedirect(I.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function Ss(){return(Ss=(0,v.Z)(function*(C,g){return yield Dt(C)._initializationPromise,Uc(C,g,!1)})).apply(this,arguments)}function Uc(C,g){return qh.apply(this,arguments)}function qh(){return(qh=(0,v.Z)(function*(C,g,y=!1){const I=Dt(C),x=pa(I,g),j=yield new sw(I,x,y).execute();return j&&!y&&(delete j.user._redirectEventId,yield I._persistUserIfCurrent(j.user),yield I._setRedirectUser(null,g)),j})).apply(this,arguments)}function Wh(C){return ot.apply(this,arguments)}function ot(){return(ot=(0,v.Z)(function*(C){const g=xc(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class $i{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(y=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hi(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var I;if(g.error&&!Hi(g)){const x=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";y.onError(Ne(this.auth,x))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const I=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(po(g))}saveEventToCache(g){this.cachedEventUids.add(po(g)),this.lastProcessedEventTime=Date.now()}}function po(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Hi({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function pn(C){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,v.Z)(function*(C,g={}){return _t(C,"GET","/v1/projects",g)})).apply(this,arguments)}const Gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xs=/^https?/;function jc(){return(jc=(0,v.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield pn(C);for(const y of g)try{if(Wy(y))return}catch(I){}xe(C,"unauthorized-domain")})).apply(this,arguments)}function Wy(C){const g=we(),{protocol:y,hostname:I}=new URL(g);if(C.startsWith("chrome-extension://")){const j=new URL(C);return""===j.hostname&&""===I?"chrome-extension:"===y&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&j.hostname===I}if(!xs.test(y))return!1;if(Gi.test(C))return I===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const Dn=new Lt(3e4,6e4);function Ei(){const C=jt().___jsl;if(null==C?void 0:C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let Zr=null;function qu(C){return Zr=Zr||function(C){return new Promise((g,y)=>{var I,x,R;function j(){Ei(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ei(),y(Ne(C,"network-request-failed"))},timeout:Dn.get()})}if(null===(x=null===(I=jt().gapi)||void 0===I?void 0:I.iframes)||void 0===x?void 0:x.Iframe)g(gapi.iframes.getContext());else{if(!(null===(R=jt().gapi)||void 0===R?void 0:R.load)){const ae=Kp("iframefcb");return jt()[ae]=()=>{gapi.load?j():y(Ne(C,"network-request-failed"))},da(`https://apis.google.com/js/api.js?onload=${ae}`)}j()}}).catch(g=>{throw Zr=null,g})}(C),Zr}const qi=new Lt(5e3,15e3),Kh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zh(C){const g=C.config;fe(g.authDomain,C,"auth-domain-config-required");const y=g.emulator?tn(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:g.apiKey,appName:C.name,v:le.SDK_VERSION},x=Wu.get(C.config.apiHost);x&&(I.eid=x);const R=C._getFrameworks();return R.length&&(I.fw=R.join(",")),`${y}?${(0,F.xO)(I).slice(1)}`}function Wi(){return(Wi=(0,v.Z)(function*(C){const g=yield qu(C),y=jt().gapi;return fe(y,C,"internal-error"),g.open({where:document.body,url:Zh(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kh,dontclear:!0},I=>new Promise(function(){var x=(0,v.Z)(function*(R,j){yield I.restyle({setHideOnLeave:!1});const ae=Ne(C,"network-request-failed"),Te=jt().setTimeout(()=>{j(ae)},qi.get());function Fe(){jt().clearTimeout(Te),R(I)}I.ping(Fe).then(Fe,()=>{j(ae)})});return function(R,j){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const at={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function go(C,g,y,I,x,R){fe(C.config.authDomain,C,"auth-domain-config-required"),fe(C.config.apiKey,C,"invalid-api-key");const j={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:I,v:le.SDK_VERSION,eventId:x};if(g instanceof io){g.setDefaultLanguage(C.languageCode),j.providerId=g.providerId||"",(0,F.xb)(g.getCustomParameters())||(j.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Te,Fe]of Object.entries(R||{}))j[Te]=Fe}if(g instanceof gu){const Te=g.getScopes().filter(Fe=>""!==Fe);Te.length>0&&(j.scopes=Te.join(","))}C.tenantId&&(j.tid=C.tenantId);const ae=j;for(const Te of Object.keys(ae))void 0===ae[Te]&&delete ae[Te];return`${function({config:C}){return C.emulator?tn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,F.xO)(ae).slice(1)}`}const Ns="webStorageSupport";class mo extends class{constructor(g){this.factorId=g}_process(g,y,I){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,I);case"signin":return this._finalizeSignIn(g,y.credential);default:return J("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new mo(g)}_finalizeEnroll(g,y,I){return function(C,g){return _t(C,"POST","/v2/accounts/mfaEnrollment:finalize",We(C,g))}(g,{idToken:y,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(C,g){return _t(C,"POST","/v2/accounts/mfaSignIn:finalize",We(C,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qh=(()=>{class C{constructor(){}static assertion(y){return mo._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var C;class Zu{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,v.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(I=>{var x;g((null===(x=I)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _o(){return window}function Pr(){return(Pr=(0,v.Z)(function*(C,g,y){var I;const{BuildInfo:x}=_o();ee(g.sessionId,"AuthEvent did not contain a session ID");const R=yield Ca(g.sessionId),j={};return ui()?j.ibi=x.packageName:Qo()?j.apn=x.packageName:xe(C,"operation-not-supported-in-this-environment"),x.displayName&&(j.appDisplayName=x.displayName),j.sessionId=R,go(C,y,g.type,void 0,null!==(I=g.eventId)&&void 0!==I?I:void 0,j)})).apply(this,arguments)}function Yr(){return(Yr=(0,v.Z)(function*(C){const{BuildInfo:g}=_o(),y={};ui()?y.iosBundleId=g.packageName:Qo()?y.androidPackageName=g.packageName:xe(C,"operation-not-supported-in-this-environment"),yield pn(C,y)})).apply(this,arguments)}function qc(){return(qc=(0,v.Z)(function*(C,g,y){const{cordova:I}=_o();let x=()=>{};try{yield new Promise((R,j)=>{let ae=null;function Te(){var Ge;R();const kt=null===(Ge=I.plugins.browsertab)||void 0===Ge?void 0:Ge.close;"function"==typeof kt&&kt(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Fe(){ae||(ae=window.setTimeout(()=>{j(Ne(C,"redirect-cancelled-by-user"))},2e3))}function Ke(){"visible"===(null==document?void 0:document.visibilityState)&&Fe()}g.addPassiveListener(Te),document.addEventListener("resume",Fe,!1),Qo()&&document.addEventListener("visibilitychange",Ke,!1),x=()=>{g.removePassiveListener(Te),document.removeEventListener("resume",Fe,!1),document.removeEventListener("visibilitychange",Ke,!1),ae&&window.clearTimeout(ae)}})}finally{x()}})).apply(this,arguments)}function Ca(C){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,v.Z)(function*(C){const g=t_(C),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function t_(C){if(ee(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),y=new Uint8Array(g);for(let I=0;I<C.length;I++)y[I]=C.charCodeAt(I);return y}C="Browser",(0,le._registerComponent)(new he.wA("auth",(g,{options:y})=>{const I=g.getProvider("app").getImmediate(),{apiKey:x,authDomain:R}=I.options;return(j=>{fe(x&&!x.includes(":"),"invalid-api-key",{appName:j.name}),fe(!(null==R?void 0:R.includes(":")),"argument-error",{appName:j.name});const ae={apiKey:x,authDomain:R,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jn(C)},Te=new by(j,ae);return function(C,g){const y=(null==g?void 0:g.persistence)||[],I=(Array.isArray(y)?y:[y]).map(te);(null==g?void 0:g.errorMap)&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(I,null==g?void 0:g.popupRedirectResolver)}(Te,y),Te})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,I)=>{g.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new he.wA("auth-internal",g=>{const y=Dt(g.getProvider("auth").getImmediate());return new Zu(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)("@firebase/auth","0.18.0",void 0);class sg extends $i{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,v.Z)(function*(){yield g.initPromise})()}}function zc(C){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,v.Z)(function*(C){const g=yield Ms()._get(Kc(C));return g&&(yield Ms()._remove(Kc(C))),g})).apply(this,arguments)}function kr(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const I=Math.floor(Math.random()*g.length);C.push(g.charAt(I))}return C.join("")}function Ms(){return te(Sc)}function Kc(C){return Ot("authEvent",C.config.apiKey,C.name)}function Ia(C){if(!(null==C?void 0:C.includes("?")))return{};const[g,...y]=C.split("?");return(0,F.zd)(y.join("?"))}function Ju(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function Qc(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Xu(C=(0,F.z$)()){return!("file:"!==Qc()&&"ionic:"!==Qc()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function el(){try{const C=self.localStorage,g=xc();if(C)return C.setItem(g,"1"),C.removeItem(g),!function(C=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,F.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,F.hl)()}catch(C){return tf()&&(0,F.hl)()}return!1}function tf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ht(){return("http:"===Qc()||"https:"===Qc()||(0,F.ru)()||Xu())&&!((0,F.b$)()||(0,F.UG)())&&el()&&!tf()}function nf(){return Xu()&&"undefined"!=typeof document}function vo(){return(vo=(0,v.Z)(function*(){return!!nf()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const gn={LOCAL:"local",NONE:"none",SESSION:"session"},tl=fe,Os="persistence";function rf(C){return sf.apply(this,arguments)}function sf(){return(sf=(0,v.Z)(function*(C){yield C._initializationPromise;const g=nl(),y=Ot(Os,C.config.apiKey,C.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(y,C._getPersistence())})).apply(this,arguments)}function nl(){return"undefined"!=typeof window?window:null}const Zi=fe;class Qt{constructor(){this.browserResolver=te(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bi,this._completeRedirectFn=Uc}_openPopup(g,y,I,x){var R=this;return(0,v.Z)(function*(){var j;ee(null===(j=R.eventManagers[g._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ae=go(g,y,I,we(),x);return function(C,g,y,I=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),j=Math.max((window.screen.availWidth-I)/2,0).toString();let ae="";const Te=Object.assign(Object.assign({},at),{width:I.toString(),height:x.toString(),top:R,left:j}),Fe=(0,F.z$)().toLowerCase();y&&(ae=uh(Fe)?"_blank":y),mc(Fe)&&(g=g||"http://localhost",Te.scrollbars="yes");const Ke=Object.entries(Te).reduce((kt,[un,Yi])=>`${kt}${un}=${Yi},`,"");if(function(C=(0,F.z$)()){var g;return ui(C)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Fe)&&"_self"!==ae)return function(C,g){const y=document.createElement("a");y.href=C,y.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(I)}(g||"",ae),new Hc(null);const Ge=window.open(g||"",ae,Ke);fe(Ge,C,"popup-blocked");try{Ge.focus()}catch(kt){}return new Hc(Ge)}(g,ae,xc())})()}_openRedirect(g,y,I,x){var R=this;return(0,v.Z)(function*(){return yield R._originValidation(g),C=go(g,y,I,we(),x),jt().location.href=C,new Promise(()=>{});var C})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:x,promise:R}=this.eventManagers[y];return x?Promise.resolve(x):(ee(R,"If manager is not set, promise should be"),R)}const I=this.initAndGetManager(g);return this.eventManagers[y]={promise:I},I}initAndGetManager(g){var y=this;return(0,v.Z)(function*(){const I=yield function(C){return Wi.apply(this,arguments)}(g),x=new $i(g);return I.register("authEvent",R=>(fe(null==R?void 0:R.authEvent,g,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:x},y.iframes[g._key()]=I,x})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Ns,{type:Ns},x=>{var R;const j=null===(R=null==x?void 0:x[0])||void 0===R?void 0:R[Ns];void 0!==j&&y(!!j),xe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(C){return jc.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return vi()||ah()||ui()}}),this.cordovaResolver=te(class{constructor(){this._redirectPersistence=Bi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uc}_initialize(g){var y=this;return(0,v.Z)(function*(){const I=g._key();let x=y.eventManagers.get(I);return x||(x=new sg(g),y.eventManagers.set(I,x),y.attachCallbackListeners(g,x)),x})()}_openPopup(g){xe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,I,x){var R=this;return(0,v.Z)(function*(){!function(C){var g,y,I,x,R,j,ae,Te,Fe,Ke;const Ge=_o();fe("function"==typeof(null===(g=null==Ge?void 0:Ge.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(void 0!==(null===(y=null==Ge?void 0:Ge.BuildInfo)||void 0===y?void 0:y.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe("function"==typeof(null===(R=null===(x=null===(I=null==Ge?void 0:Ge.cordova)||void 0===I?void 0:I.plugins)||void 0===x?void 0:x.browsertab)||void 0===R?void 0:R.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(Te=null===(ae=null===(j=null==Ge?void 0:Ge.cordova)||void 0===j?void 0:j.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Te?void 0:Te.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(Ke=null===(Fe=null==Ge?void 0:Ge.cordova)||void 0===Fe?void 0:Fe.InAppBrowser)||void 0===Ke?void 0:Ke.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const j=yield R._initialize(g);yield j.initialized(),j.resetRedirect(),wr.clear(),yield R._originValidation(g);const ae=function(C,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:kr(),postBody:null,tenantId:C.tenantId,error:Ne(C,"no-auth-event")}}(g,I,x);yield function(C,g){return Ms()._set(Kc(C),g)}(g,ae);const Te=yield function(C,g,y){return Pr.apply(this,arguments)}(g,ae,y),Fe=yield function(C){const{cordova:g}=_o();return new Promise(y=>{g.plugins.browsertab.isAvailable(I=>{let x=null;I?g.plugins.browsertab.openUrl(C):x=g.InAppBrowser.open(C,function(C=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),y(x)})})}(Te);return function(C,g,y){return qc.apply(this,arguments)}(g,j,Fe)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(C){return Yr.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:I,handleOpenURL:x,BuildInfo:R}=_o(),j=setTimeout((0,v.Z)(function*(){yield zc(g),y.onEvent(Ju())}),500),ae=function(){var Ke=(0,v.Z)(function*(Ge){clearTimeout(j);const kt=yield zc(g);let un=null;kt&&(null==Ge?void 0:Ge.url)&&(un=function(C,g){var y,I;const x=function(C){const g=Ia(C),y=g.link?decodeURIComponent(g.link):void 0,I=Ia(y).link,x=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Ia(x).link||x||I||y||C}(g);if(x.includes("/__/auth/callback")){const R=Ia(x),j=R.firebaseError?function(C){try{return JSON.parse(C)}catch(g){return null}}(decodeURIComponent(R.firebaseError)):null,ae=null===(I=null===(y=null==j?void 0:j.code)||void 0===y?void 0:y.split("auth/"))||void 0===I?void 0:I[1],Te=ae?Ne(ae):null;return Te?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:x,postBody:null}}return null}(kt,Ge.url)),y.onEvent(un||Ju())});return function(kt){return Ke.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,ae);const Te=x,Fe=`${R.packageName.toLowerCase()}://`;_o().handleOpenURL=function(){var Ke=(0,v.Z)(function*(Ge){if(Ge.toLowerCase().startsWith(Fe)&&ae({url:Ge}),"function"==typeof Te)try{Te(Ge)}catch(kt){console.error(kt)}});return function(Ge){return Ke.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bi,this._completeRedirectFn=Uc}_initialize(g){var y=this;return(0,v.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,I,x){var R=this;return(0,v.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(g,y,I,x)})()}_openRedirect(g,y,I,x){var R=this;return(0,v.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(g,y,I,x)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return nf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,v.Z)(function*(){if(g.underlyingResolver)return;const y=yield function(){return vo.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function rl(C){return C.unwrap()}function pg(C){return Mn(C)}function Tn(C,g){var y;const I=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new o_(C,function(C,g){var y;const I=(0,F.m9)(C),x=g;return fe(g.operationType,I,"argument-error"),fe(null===(y=x.serverResponse)||void 0===y?void 0:y.mfaPendingCredential,I,"argument-error"),xh._fromError(I,x)}(C,g));else if(I){const x=Mn(g),R=g;x&&(R.credential=x,R.tenantId=I.tenantId||void 0,R.email=I.email||void 0,R.phoneNumber=I.phoneNumber||void 0)}}function Mn(C){const{_tokenResponse:g}=C instanceof F.ZR?C.customData:C;if(!g)return null;if(!(C instanceof F.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return kc.credentialFromResult(C);const y=g.providerId;if(!y||"password"===y)return null;let I;switch(y){case"google.com":I=mh;break;case"facebook.com":I=gh;break;case"github.com":I=yh;break;case"twitter.com":I=_h;break;default:const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:j,pendingToken:ae,nonce:Te}=g;return R||j||x||ae?ae?y.startsWith("saml.")?ia._create(y,ae):Mr._fromParams({providerId:y,signInMethod:y,pendingToken:ae,idToken:x,accessToken:R}):new so(y).credential({idToken:x,accessToken:R,rawNonce:Te}):null}return C instanceof F.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function On(C,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,v.Z)(function*(C,g){let y;try{y=yield g}catch(R){throw R instanceof F.ZR&&Tn(C,R),R}const{operationType:I,user:x}=y;return{operationType:I,credential:pg(y),additionalUserInfo:$p(y),user:wi.getOrCreate(x)}})).apply(this,arguments)}function ba(C,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,v.Z)(function*(C,g){const y=yield g;return{verificationId:y.verificationId,confirm:I=>On(C,y.confirm(I))}})).apply(this,arguments)}class o_{constructor(g,y){this.resolver=y,this.auth=function(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return On(rl(this.auth),this.resolver.resolveSignIn(g))}}class wi{constructor(g){this._delegate=g,this.multiFactor=function(C){const g=(0,F.m9)(C);return aa.has(g)||aa.set(g,oa._fromUser(g)),aa.get(g)}(g)}static getOrCreate(g){return wi.USER_MAP.has(g)||wi.USER_MAP.set(g,new wi(g)),wi.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,v.Z)(function*(){return On(y.auth,Pp(y._delegate,g))})()}linkWithPhoneNumber(g,y){var I=this;return(0,v.Z)(function*(){return ba(I.auth,function(C,g,y){return fa.apply(this,arguments)}(I._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,v.Z)(function*(){return On(y.auth,function(C,g,y){return ju.apply(this,arguments)}(y._delegate,g,Qt))})()}linkWithRedirect(g){var y=this;return(0,v.Z)(function*(){return yield rf(Dt(y.auth)),function(C,g,y){return function(C,g,y){return As.apply(this,arguments)}(C,g,y)}(y._delegate,g,Qt)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,v.Z)(function*(){return On(y.auth,Eu(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return ba(this.auth,function(C,g,y){return Yp.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return On(this.auth,function(C,g,y){return ji.apply(this,arguments)}(this._delegate,g,Qt))}reauthenticateWithRedirect(g){var y=this;return(0,v.Z)(function*(){return yield rf(Dt(y.auth)),function(C,g,y){return function(C,g,y){return Gu.apply(this,arguments)}(C,g,y)}(y._delegate,g,Qt)})()}sendEmailVerification(g){return function(C,g){return _s.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,v.Z)(function*(){return yield function(C,g){return Cc.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function(C,g){return Th((0,F.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function(C,g){return Th((0,F.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(C,g){return Is.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(C,g){return bh.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function(C,g,y){return Gr.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wi.USER_MAP=new WeakMap;const il=fe;let of=(()=>{class C{constructor(y,I){if(this.app=y,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=y.options;il(x,"invalid-api-key",{appName:y.name});let R=[ft];if("undefined"!=typeof window){R=function(C,g){const y=nl();if(!(null==y?void 0:y.sessionStorage))return[];const I=Ot(Os,C,g);switch(y.sessionStorage.getItem(I)){case gn.NONE:return[ft];case gn.LOCAL:return[ca,Bi];case gn.SESSION:return[Bi];default:return[]}}(x,y.name);for(const ae of[ca,Sc,Bi])R.includes(ae)||R.push(ae)}il(x,"invalid-api-key",{appName:y.name});const j="undefined"!=typeof window?Qt:void 0;this._delegate=I.initialize({options:{persistence:R,popupRedirectResolver:j}}),this._delegate._updateErrorMap(se),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,I){!function(C,g,y){const I=Dt(C);fe(I._canInitEmulator,I,"emulator-config-failed"),fe(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const x=!!(null==y?void 0:y.disableWarnings),R=Pt(g),{host:j,port:ae}=function(C){const g=Pt(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!y)return{host:"",port:null};const I=y[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const R=x[1];return{host:R,port:hs(I.substr(R.length+1))}}{const[R,j]=I.split(":");return{host:R,port:hs(j)}}}(g);I.config.emulator={url:`${R}//${j}${null===ae?"":`:${ae}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:j,port:ae,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function g(){const y=document.createElement("p"),I=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(x)}(this._delegate,y,I)}applyActionCode(y){return function(C,g){return ao.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Du(this._delegate,y)}confirmPasswordReset(y,I){return function(C,g,y){return Ze.apply(this,arguments)}(this._delegate,y,I)}createUserWithEmailAndPassword(y,I){var x=this;return(0,v.Z)(function*(){return On(x._delegate,function(C,g,y){return me.apply(this,arguments)}(x._delegate,y,I))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function(C,g){return Up.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function(C,g){const y=Ec.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,v.Z)(function*(){il(Ht(),y._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,g){return Ss.apply(this,arguments)}(y._delegate,Qt);return I?On(y._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function(C,g){Dt(C)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,I,x){const{next:R,error:j,complete:ae}=sl(y,I,x);return this._delegate.onAuthStateChanged(R,j,ae)}onIdTokenChanged(y,I,x){const{next:R,error:j,complete:ae}=sl(y,I,x);return this._delegate.onIdTokenChanged(R,j,ae)}sendSignInLinkToEmail(y,I){return function(C,g,y){return sn.apply(this,arguments)}(this._delegate,y,I)}sendPasswordResetEmail(y,I){return function(C,g,y){return Ac.apply(this,arguments)}(this._delegate,y,I||void 0)}setPersistence(y){var I=this;return(0,v.Z)(function*(){let x;switch(function(C,g){tl(Object.values(gn).includes(g),C,"invalid-persistence-type"),(0,F.b$)()?tl(g!==gn.SESSION,C,"unsupported-persistence-type"):(0,F.UG)()?tl(g===gn.NONE,C,"unsupported-persistence-type"):tf()?tl(g===gn.NONE||g===gn.LOCAL&&(0,F.hl)(),C,"unsupported-persistence-type"):tl(g===gn.NONE||el(),C,"unsupported-persistence-type")}(I._delegate,y),y){case gn.SESSION:x=Bi;break;case gn.LOCAL:x=(yield te(ca)._isAvailable())?ca:Sc;break;case gn.NONE:x=ft;break;default:return xe("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return On(this._delegate,function(C){return yu.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return On(this._delegate,Tc(this._delegate,y))}signInWithCustomToken(y){return On(this._delegate,function(C,g){return er.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,I){return On(this._delegate,function(C,g,y){return Tc((0,F.m9)(C),Rp.credential(g,y))}(this._delegate,y,I))}signInWithEmailLink(y,I){return On(this._delegate,function(C,g,y){return Hr.apply(this,arguments)}(this._delegate,y,I))}signInWithPhoneNumber(y,I){return ba(this._delegate,function(C,g,y){return Bh.apply(this,arguments)}(this._delegate,y,I))}signInWithPopup(y){var I=this;return(0,v.Z)(function*(){return il(Ht(),I._delegate,"operation-not-supported-in-this-environment"),On(I._delegate,function(C,g,y){return Kr.apply(this,arguments)}(I._delegate,y,Qt))})()}signInWithRedirect(y){var I=this;return(0,v.Z)(function*(){return il(Ht(),I._delegate,"operation-not-supported-in-this-environment"),yield rf(I._delegate),function(C,g,y){return function(C,g,y){return Hh.apply(this,arguments)}(C,g,y)}(I._delegate,y,Qt)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function(C,g){return uo.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=gn,C})();function sl(C,g,y){let I=C;"function"!=typeof C&&({next:I,error:g,complete:y}=C);const x=I;return{next:j=>x(j&&wi.getOrCreate(j)),error:g,complete:y}}class td{constructor(){this.providerId="phone",this._delegate=new kc(rl(Z.Z.auth()))}static credential(g,y){return kc.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}td.PHONE_SIGN_IN_METHOD=kc.PHONE_SIGN_IN_METHOD,td.PROVIDER_ID=kc.PROVIDER_ID;const gg=fe;class Da{constructor(g,y,I=Z.Z.app()){var x;gg(null===(x=I.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new nw(g,y,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new he.wA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),I=g.getProvider("auth");return new of(y,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Rp,FacebookAuthProvider:gh,GithubAuthProvider:yh,GoogleAuthProvider:mh,OAuthProvider:so,PhoneAuthProvider:td,PhoneMultiFactorGenerator:Qh,RecaptchaVerifier:Da,TwitterAuthProvider:_h,Auth:of,AuthCredential:Xn,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.3")}(Z.Z)},7574:(Be,pe,k)=>{"use strict";k.d(pe,{y:()=>P});var v=k(7393),F=k(9181),le=k(6490),X=k(6554),he=k(4487);var O=k(2494);let P=(()=>{class H{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const Y=new H;return Y.source=this,Y.operator=se,Y}subscribe(se,Y,K){const{operator:be}=this,Ce=function(H,W,se){if(H){if(H instanceof v.L)return H;if(H[F.b])return H[F.b]()}return H||W||se?new v.L(H,W,se):new v.L(le.c)}(se,Y,K);if(Ce.add(be?be.call(Ce,this.source):this.source||O.v.useDeprecatedSynchronousErrorHandling&&!Ce.syncErrorThrowable?this._subscribe(Ce):this._trySubscribe(Ce)),O.v.useDeprecatedSynchronousErrorHandling&&Ce.syncErrorThrowable&&(Ce.syncErrorThrowable=!1,Ce.syncErrorThrown))throw Ce.syncErrorValue;return Ce}_trySubscribe(se){try{return this._subscribe(se)}catch(Y){O.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=Y),function(H){for(;H;){const{closed:W,destination:se,isStopped:Y}=H;if(W||Y)return!1;H=se&&se instanceof v.L?se:null}return!0}(se)?se.error(Y):console.warn(Y)}}forEach(se,Y){return new(Y=q(Y))((K,be)=>{let Ce;Ce=this.subscribe(Ee=>{try{se(Ee)}catch(xe){be(xe),Ce&&Ce.unsubscribe()}},be,K)})}_subscribe(se){const{source:Y}=this;return Y&&Y.subscribe(se)}[X.L](){return this}pipe(...se){return 0===se.length?this:function(H){return 0===H.length?he.y:1===H.length?H[0]:function(se){return H.reduce((Y,K)=>K(Y),se)}}(se)(this)}toPromise(se){return new(se=q(se))((Y,K)=>{let be;this.subscribe(Ce=>be=Ce,Ce=>K(Ce),()=>Y(be))})}}return H.create=W=>new H(W),H})();function q(H){if(H||(H=O.v.Promise||Promise),!H)throw new Error("no Promise impl found");return H}},6490:(Be,pe,k)=>{"use strict";k.d(pe,{c:()=>F});var v=k(2494),Z=k(4449);const F={closed:!0,next(le){},error(le){if(v.v.useDeprecatedSynchronousErrorHandling)throw le;(0,Z.z)(le)},complete(){}}},9765:(Be,pe,k)=>{"use strict";k.d(pe,{Yc:()=>he,xQ:()=>oe});var v=k(7574),Z=k(7393),F=k(5319),le=k(7971),ue=k(8858),X=k(9181);class he extends Z.L{constructor(P){super(P),this.destination=P}}let oe=(()=>{class O extends v.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new he(this)}lift(q){const H=new $(this,this);return H.operator=q,H}next(q){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:H}=this,W=H.length,se=H.slice();for(let Y=0;Y<W;Y++)se[Y].next(q)}}error(q){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:H}=this,W=H.length,se=H.slice();for(let Y=0;Y<W;Y++)se[Y].error(q);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:q}=this,H=q.length,W=q.slice();for(let se=0;se<H;se++)W[se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new le.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new le.N;return this.hasError?(q.error(this.thrownError),F.w.EMPTY):this.isStopped?(q.complete(),F.w.EMPTY):(this.observers.push(q),new ue.W(this,q))}asObservable(){const q=new v.y;return q.source=this,q}}return O.create=(P,q)=>new $(P,q),O})();class $ extends oe{constructor(P,q){super(),this.destination=P,this.source=q}next(P){const{destination:q}=this;q&&q.next&&q.next(P)}error(P){const{destination:q}=this;q&&q.error&&this.destination.error(P)}complete(){const{destination:P}=this;P&&P.complete&&this.destination.complete()}_subscribe(P){const{source:q}=this;return q?this.source.subscribe(P):F.w.EMPTY}}},8858:(Be,pe,k)=>{"use strict";k.d(pe,{W:()=>Z});var v=k(5319);class Z extends v.w{constructor(le,ue){super(),this.subject=le,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ue=le.observers;if(this.subject=null,!ue||0===ue.length||le.isStopped||le.closed)return;const X=ue.indexOf(this.subscriber);-1!==X&&ue.splice(X,1)}}},7393:(Be,pe,k)=>{"use strict";k.d(pe,{L:()=>he});var v=k(9105),Z=k(6490),F=k(5319),le=k(9181),ue=k(2494),X=k(4449);class he extends F.w{constructor(O,P,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Z.c;break;case 1:if(!O){this.destination=Z.c;break}if("object"==typeof O){O instanceof he?(this.syncErrorThrowable=O.syncErrorThrowable,this.destination=O,O.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,O));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,O,P,q)}}[le.b](){return this}static create(O,P,q){const H=new he(O,P,q);return H.syncErrorThrowable=!1,H}next(O){this.isStopped||this._next(O)}error(O){this.isStopped||(this.isStopped=!0,this._error(O))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(O){this.destination.next(O)}_error(O){this.destination.error(O),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:O}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this}}class oe extends he{constructor(O,P,q,H){super(),this._parentSubscriber=O;let W,se=this;(0,v.m)(P)?W=P:P&&(W=P.next,q=P.error,H=P.complete,P!==Z.c&&(se=Object.create(P),(0,v.m)(se.unsubscribe)&&this.add(se.unsubscribe.bind(se)),se.unsubscribe=this.unsubscribe.bind(this))),this._context=se,this._next=W,this._error=q,this._complete=H}next(O){if(!this.isStopped&&this._next){const{_parentSubscriber:P}=this;ue.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?this.__tryOrSetError(P,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}}error(O){if(!this.isStopped){const{_parentSubscriber:P}=this,{useDeprecatedSynchronousErrorHandling:q}=ue.v;if(this._error)q&&P.syncErrorThrowable?(this.__tryOrSetError(P,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(P.syncErrorThrowable)q?(P.syncErrorValue=O,P.syncErrorThrown=!0):(0,X.z)(O),this.unsubscribe();else{if(this.unsubscribe(),q)throw O;(0,X.z)(O)}}}complete(){if(!this.isStopped){const{_parentSubscriber:O}=this;if(this._complete){const P=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?(this.__tryOrSetError(O,P),this.unsubscribe()):(this.__tryOrUnsub(P),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(O,P){try{O.call(this._context,P)}catch(q){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw q;(0,X.z)(q)}}__tryOrSetError(O,P,q){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{P.call(this._context,q)}catch(H){return ue.v.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=H,O.syncErrorThrown=!0,!0):((0,X.z)(H),!0)}return!1}_unsubscribe(){const{_parentSubscriber:O}=this;this._context=null,this._parentSubscriber=null,O.unsubscribe()}}},5319:(Be,pe,k)=>{"use strict";k.d(pe,{w:()=>X});var v=k(9796),Z=k(1555),F=k(9105);const ue=(()=>{function oe($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((O,P)=>`${P+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return oe.prototype=Object.create(Error.prototype),oe})();class X{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:O,_ctorUnsubscribe:P,_unsubscribe:q,_subscriptions:H}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,O instanceof X)O.remove(this);else if(null!==O)for(let W=0;W<O.length;++W)O[W].remove(this);if((0,F.m)(q)){P&&(this._unsubscribe=void 0);try{q.call(this)}catch(W){$=W instanceof ue?he(W.errors):[W]}}if((0,v.k)(H)){let W=-1,se=H.length;for(;++W<se;){const Y=H[W];if((0,Z.K)(Y))try{Y.unsubscribe()}catch(K){$=$||[],K instanceof ue?$=$.concat(he(K.errors)):$.push(K)}}}if($)throw new ue($)}add($){let O=$;if(!$)return X.EMPTY;switch(typeof $){case"function":O=new X($);case"object":if(O===this||O.closed||"function"!=typeof O.unsubscribe)return O;if(this.closed)return O.unsubscribe(),O;if(!(O instanceof X)){const H=O;O=new X,O._subscriptions=[H]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:P}=O;if(null===P)O._parentOrParents=this;else if(P instanceof X){if(P===this)return O;O._parentOrParents=[P,this]}else{if(-1!==P.indexOf(this))return O;P.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[O]:q.push(O),O}remove($){const O=this._subscriptions;if(O){const P=O.indexOf($);-1!==P&&O.splice(P,1)}}}var oe;function he(oe){return oe.reduce(($,O)=>$.concat(O instanceof ue?O.errors:O),[])}X.EMPTY=((oe=new X).closed=!0,oe)},2494:(Be,pe,k)=>{"use strict";k.d(pe,{v:()=>Z});let v=!1;const Z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else v&&console.log("RxJS: Back to a better error behavior. Thank you. <3");v=F},get useDeprecatedSynchronousErrorHandling(){return v}}},5345:(Be,pe,k)=>{"use strict";k.d(pe,{IY:()=>le,Ds:()=>X,ft:()=>oe});var v=k(7393),Z=k(7574),F=k(7444);class le extends v.L{constructor(O){super(),this.parent=O}_next(O){this.parent.notifyNext(O)}_error(O){this.parent.notifyError(O),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends v.L{notifyNext(O){this.destination.next(O)}notifyError(O){this.destination.error(O)}notifyComplete(){this.destination.complete()}}function oe($,O){if(O.closed)return;if($ instanceof Z.y)return $.subscribe(O);let P;try{P=(0,F.s)($)(O)}catch(q){O.error(q)}return P}},2441:(Be,pe,k)=>{"use strict";k.d(pe,{c:()=>ue,N:()=>X});var v=k(9765),Z=k(7574),F=k(5319),le=k(1307);class ue extends Z.y{constructor(P,q){super(),this.source=P,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let P=this._connection;return P||(this._isComplete=!1,P=this._connection=new F.w,P.add(this.source.subscribe(new he(this.getSubject(),this))),P.closed&&(this._connection=null,P=F.w.EMPTY)),P}refCount(){return(0,le.x)()(this)}}const X=(()=>{const O=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:O._subscribe},_isComplete:{value:O._isComplete,writable:!0},getSubject:{value:O.getSubject},connect:{value:O.connect},refCount:{value:O.refCount}}})();class he extends v.Yc{constructor(P,q){super(P),this.connectable=q}_error(P){this._unsubscribe(),super._error(P)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const P=this.connectable;if(P){this.connectable=null;const q=P._connection;P._refCount=0,P._subject=null,P._connection=null,q&&q.unsubscribe()}}}},9193:(Be,pe,k)=>{"use strict";k.d(pe,{E:()=>Z,c:()=>F});var v=k(7574);const Z=new v.y(ue=>ue.complete());function F(ue){return ue?function(ue){return new v.y(X=>ue.schedule(()=>X.complete()))}(ue):Z}},4402:(Be,pe,k)=>{"use strict";k.d(pe,{D:()=>se});var v=k(7574),Z=k(7444),F=k(5319),le=k(6554),he=k(4087),oe=k(377),P=k(4072),q=k(9489);function se(Y,K){return K?function(Y,K){if(null!=Y){if(function(Y){return Y&&"function"==typeof Y[le.L]}(Y))return function(Y,K){return new v.y(be=>{const Ce=new F.w;return Ce.add(K.schedule(()=>{const Ee=Y[le.L]();Ce.add(Ee.subscribe({next(xe){Ce.add(K.schedule(()=>be.next(xe)))},error(xe){Ce.add(K.schedule(()=>be.error(xe)))},complete(){Ce.add(K.schedule(()=>be.complete()))}}))})),Ce})}(Y,K);if((0,P.t)(Y))return function(Y,K){return new v.y(be=>{const Ce=new F.w;return Ce.add(K.schedule(()=>Y.then(Ee=>{Ce.add(K.schedule(()=>{be.next(Ee),Ce.add(K.schedule(()=>be.complete()))}))},Ee=>{Ce.add(K.schedule(()=>be.error(Ee)))}))),Ce})}(Y,K);if((0,q.z)(Y))return(0,he.r)(Y,K);if(function(Y){return Y&&"function"==typeof Y[oe.hZ]}(Y)||"string"==typeof Y)return function(Y,K){if(!Y)throw new Error("Iterable cannot be null");return new v.y(be=>{const Ce=new F.w;let Ee;return Ce.add(()=>{Ee&&"function"==typeof Ee.return&&Ee.return()}),Ce.add(K.schedule(()=>{Ee=Y[oe.hZ](),Ce.add(K.schedule(function(){if(be.closed)return;let xe,Ne;try{const Se=Ee.next();xe=Se.value,Ne=Se.done}catch(Se){return void be.error(Se)}Ne?be.complete():(be.next(xe),this.schedule())}))})),Ce})}(Y,K)}throw new TypeError((null!==Y&&typeof Y||Y)+" is not observable")}(Y,K):Y instanceof v.y?Y:new v.y((0,Z.s)(Y))}},6693:(Be,pe,k)=>{"use strict";k.d(pe,{n:()=>le});var v=k(7574),Z=k(5015),F=k(4087);function le(ue,X){return X?(0,F.r)(ue,X):new v.y((0,Z.V)(ue))}},6682:(Be,pe,k)=>{"use strict";k.d(pe,{T:()=>ue});var v=k(7574),Z=k(4869),F=k(3282),le=k(6693);function ue(...X){let he=Number.POSITIVE_INFINITY,oe=null,$=X[X.length-1];return(0,Z.K)($)?(oe=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(he=X.pop())):"number"==typeof $&&(he=X.pop()),null===oe&&1===X.length&&X[0]instanceof v.y?X[0]:(0,F.J)(he)((0,le.n)(X,oe))}},5917:(Be,pe,k)=>{"use strict";k.d(pe,{of:()=>le});var v=k(4869),Z=k(6693),F=k(4087);function le(...ue){let X=ue[ue.length-1];return(0,v.K)(X)?(ue.pop(),(0,F.r)(ue,X)):(0,Z.n)(ue)}},8002:(Be,pe,k)=>{"use strict";k.d(pe,{U:()=>Z});var v=k(7393);function Z(ue,X){return function(oe){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new F(ue,X))}}class F{constructor(X,he){this.project=X,this.thisArg=he}call(X,he){return he.subscribe(new le(X,this.project,this.thisArg))}}class le extends v.L{constructor(X,he,oe){super(X),this.project=he,this.count=0,this.thisArg=oe||this}_next(X){let he;try{he=this.project.call(this.thisArg,X,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(he)}}},3282:(Be,pe,k)=>{"use strict";k.d(pe,{J:()=>F});var v=k(9773),Z=k(4487);function F(le=Number.POSITIVE_INFINITY){return(0,v.zg)(Z.y,le)}},9773:(Be,pe,k)=>{"use strict";k.d(pe,{zg:()=>le});var v=k(8002),Z=k(4402),F=k(5345);function le(oe,$,O=Number.POSITIVE_INFINITY){return"function"==typeof $?P=>P.pipe(le((q,H)=>(0,Z.D)(oe(q,H)).pipe((0,v.U)((W,se)=>$(q,W,H,se))),O)):("number"==typeof $&&(O=$),P=>P.lift(new ue(oe,O)))}class ue{constructor($,O=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=O}call($,O){return O.subscribe(new X($,this.project,this.concurrent))}}class X extends F.Ds{constructor($,O,P=Number.POSITIVE_INFINITY){super($),this.project=O,this.concurrent=P,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let O;const P=this.index++;try{O=this.project($,P)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(O)}_innerSub($){const O=new F.IY(this),P=this.destination;P.add(O);const q=(0,F.ft)($,O);q!==O&&P.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Be,pe,k)=>{"use strict";k.d(pe,{ht:()=>P,QV:()=>$});var v=k(7393),Z=k(9193),F=k(5917),le=k(7574);class oe{constructor(W,se,Y){this.kind=W,this.value=se,this.error=Y,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,se,Y){switch(this.kind){case"N":return W&&W(this.value);case"E":return se&&se(this.error);case"C":return Y&&Y()}}accept(W,se,Y){return W&&"function"==typeof W.next?this.observe(W):this.do(W,se,Y)}toObservable(){switch(this.kind){case"N":return(0,F.of)(this.value);case"E":return H=this.error,new le.y(se=>se.error(H));case"C":return(0,Z.c)()}var H;throw new Error("unexpected notification kind value")}static createNext(W){return void 0!==W?new oe("N",W):oe.undefinedValueNotification}static createError(W){return new oe("E",void 0,W)}static createComplete(){return oe.completeNotification}}function $(H,W=0){return function(Y){return Y.lift(new O(H,W))}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0);class O{constructor(W,se=0){this.scheduler=W,this.delay=se}call(W,se){return se.subscribe(new P(W,this.scheduler,this.delay))}}class P extends v.L{constructor(W,se,Y=0){super(W),this.scheduler=se,this.delay=Y}static dispatch(W){const{notification:se,destination:Y}=W;se.observe(Y),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(P.dispatch,this.delay,new q(W,this.destination)))}_next(W){this.scheduleMessage(oe.createNext(W))}_error(W){this.scheduleMessage(oe.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.createComplete()),this.unsubscribe()}}class q{constructor(W,se){this.notification=W,this.destination=se}}},1307:(Be,pe,k)=>{"use strict";k.d(pe,{x:()=>Z});var v=k(7393);function Z(){return function(X){return X.lift(new F(X))}}class F{constructor(X){this.connectable=X}call(X,he){const{connectable:oe}=this;oe._refCount++;const $=new le(X,oe),O=he.subscribe($);return $.closed||($.connection=oe.connect()),O}}class le extends v.L{constructor(X,he){super(X),this.connectable=he}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const he=X._refCount;if(he<=0)return void(this.connection=null);if(X._refCount=he-1,he>1)return void(this.connection=null);const{connection:oe}=this,$=X._connection;this.connection=null,$&&(!oe||$===oe)&&$.unsubscribe()}}},3101:(Be,pe,k)=>{"use strict";k.d(pe,{R:()=>K});var v=k(7574);let Z=1;const F=Promise.resolve(),le={};function ue(Ce){return Ce in le&&(delete le[Ce],!0)}const X={setImmediate(Ce){const Ee=Z++;return le[Ee]=!0,F.then(()=>ue(Ee)&&Ce()),Ee},clearImmediate(Ce){ue(Ce)}};var oe=k(6465),O=k(6102);const H=new class extends O.v{flush(Ee){this.active=!0,this.scheduled=void 0;const{actions:xe}=this;let Ne,Se=-1,it=xe.length;Ee=Ee||xe.shift();do{if(Ne=Ee.execute(Ee.state,Ee.delay))break}while(++Se<it&&(Ee=xe.shift()));if(this.active=!1,Ne){for(;++Se<it&&(Ee=xe.shift());)Ee.unsubscribe();throw Ne}}}(class extends oe.o{constructor(Ee,xe){super(Ee,xe),this.scheduler=Ee,this.work=xe}requestAsyncId(Ee,xe,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(Ee,xe,Ne):(Ee.actions.push(this),Ee.scheduled||(Ee.scheduled=X.setImmediate(Ee.flush.bind(Ee,null))))}recycleAsyncId(Ee,xe,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(Ee,xe,Ne);0===Ee.actions.length&&(X.clearImmediate(xe),Ee.scheduled=void 0)}});var W=k(9796);class Y extends v.y{constructor(Ee,xe=0,Ne=H){var Ce;super(),this.source=Ee,this.delayTime=xe,this.scheduler=Ne,(!(!(0,W.k)(Ce=xe)&&Ce-parseFloat(Ce)+1>=0)||xe<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=H)}static create(Ee,xe=0,Ne=H){return new Y(Ee,xe,Ne)}static dispatch(Ee){const{source:xe,subscriber:Ne}=Ee;return this.add(xe.subscribe(Ne))}_subscribe(Ee){return this.scheduler.schedule(Y.dispatch,this.delayTime,{source:this.source,subscriber:Ee})}}function K(Ce,Ee=0){return function(Ne){return Ne.lift(new be(Ce,Ee))}}class be{constructor(Ee,xe){this.scheduler=Ee,this.delay=xe}call(Ee,xe){return new Y(xe,this.delay,this.scheduler).subscribe(Ee)}}},3342:(Be,pe,k)=>{"use strict";k.d(pe,{b:()=>le});var v=k(7393);function Z(){}var F=k(9105);function le(he,oe,$){return function(P){return P.lift(new ue(he,oe,$))}}class ue{constructor(oe,$,O){this.nextOrObserver=oe,this.error=$,this.complete=O}call(oe,$){return $.subscribe(new X(oe,this.nextOrObserver,this.error,this.complete))}}class X extends v.L{constructor(oe,$,O,P){super(oe),this._tapNext=Z,this._tapError=Z,this._tapComplete=Z,this._tapError=O||Z,this._tapComplete=P||Z,(0,F.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||Z,this._tapError=$.error||Z,this._tapComplete=$.complete||Z)}_next(oe){try{this._tapNext.call(this._context,oe)}catch($){return void this.destination.error($)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch($){return void this.destination.error($)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},4087:(Be,pe,k)=>{"use strict";k.d(pe,{r:()=>F});var v=k(7574),Z=k(5319);function F(le,ue){return new v.y(X=>{const he=new Z.w;let oe=0;return he.add(ue.schedule(function(){oe!==le.length?(X.next(le[oe++]),X.closed||he.add(this.schedule())):X.complete()})),he})}},6465:(Be,pe,k)=>{"use strict";k.d(pe,{o:()=>F});var v=k(5319);class Z extends v.w{constructor(ue,X){super()}schedule(ue,X=0){return this}}class F extends Z{constructor(ue,X){super(ue,X),this.scheduler=ue,this.work=X,this.pending=!1}schedule(ue,X=0){if(this.closed)return this;this.state=ue;const he=this.id,oe=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(oe,he,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(oe,this.id,X),this}requestAsyncId(ue,X,he=0){return setInterval(ue.flush.bind(ue,this),he)}recycleAsyncId(ue,X,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return X;clearInterval(X)}execute(ue,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ue,X);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,X){let oe,he=!1;try{this.work(ue)}catch($){he=!0,oe=!!$&&$||new Error($)}if(he)return this.unsubscribe(),oe}_unsubscribe(){const ue=this.id,X=this.scheduler,he=X.actions,oe=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&he.splice(oe,1),null!=ue&&(this.id=this.recycleAsyncId(X,ue,null)),this.delay=null}}},6102:(Be,pe,k)=>{"use strict";k.d(pe,{v:()=>Z});let v=(()=>{class F{constructor(ue,X=F.now){this.SchedulerAction=ue,this.now=X}schedule(ue,X=0,he){return new this.SchedulerAction(this,ue).schedule(he,X)}}return F.now=()=>Date.now(),F})();class Z extends v{constructor(le,ue=v.now){super(le,()=>Z.delegate&&Z.delegate!==this?Z.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ue=0,X){return Z.delegate&&Z.delegate!==this?Z.delegate.schedule(le,ue,X):super.schedule(le,ue,X)}flush(le){const{actions:ue}=this;if(this.active)return void ue.push(le);let X;this.active=!0;do{if(X=le.execute(le.state,le.delay))break}while(le=ue.shift());if(this.active=!1,X){for(;le=ue.shift();)le.unsubscribe();throw X}}}},3637:(Be,pe,k)=>{"use strict";k.d(pe,{z:()=>F});var v=k(6465);const F=new(k(6102).v)(v.o)},7771:(Be,pe,k)=>{"use strict";k.d(pe,{c:()=>X,N:()=>ue});var v=k(6465),F=k(6102);const ue=new class extends F.v{}(class extends v.o{constructor(oe,$){super(oe,$),this.scheduler=oe,this.work=$}schedule(oe,$=0){return $>0?super.schedule(oe,$):(this.delay=$,this.state=oe,this.scheduler.flush(this),this)}execute(oe,$){return $>0||this.closed?super.execute(oe,$):this._execute(oe,$)}requestAsyncId(oe,$,O=0){return null!==O&&O>0||null===O&&this.delay>0?super.requestAsyncId(oe,$,O):oe.flush(this)}}),X=ue},377:(Be,pe,k)=>{"use strict";k.d(pe,{hZ:()=>Z});const Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Be,pe,k)=>{"use strict";k.d(pe,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Be,pe,k)=>{"use strict";k.d(pe,{b:()=>v});const v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Be,pe,k)=>{"use strict";k.d(pe,{N:()=>Z});const Z=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},4449:(Be,pe,k)=>{"use strict";function v(Z){setTimeout(()=>{throw Z},0)}k.d(pe,{z:()=>v})},4487:(Be,pe,k)=>{"use strict";function v(Z){return Z}k.d(pe,{y:()=>v})},9796:(Be,pe,k)=>{"use strict";k.d(pe,{k:()=>v});const v=Array.isArray||(Z=>Z&&"number"==typeof Z.length)},9489:(Be,pe,k)=>{"use strict";k.d(pe,{z:()=>v});const v=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},9105:(Be,pe,k)=>{"use strict";function v(Z){return"function"==typeof Z}k.d(pe,{m:()=>v})},1555:(Be,pe,k)=>{"use strict";function v(Z){return null!==Z&&"object"==typeof Z}k.d(pe,{K:()=>v})},4072:(Be,pe,k)=>{"use strict";function v(Z){return!!Z&&"function"!=typeof Z.subscribe&&"function"==typeof Z.then}k.d(pe,{t:()=>v})},4869:(Be,pe,k)=>{"use strict";function v(Z){return Z&&"function"==typeof Z.schedule}k.d(pe,{K:()=>v})},7444:(Be,pe,k)=>{"use strict";k.d(pe,{s:()=>P});var v=k(5015),Z=k(4449),le=k(377),X=k(6554),oe=k(9489),$=k(4072),O=k(1555);const P=q=>{if(q&&"function"==typeof q[X.L])return(q=>H=>{const W=q[X.L]();if("function"!=typeof W.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return W.subscribe(H)})(q);if((0,oe.z)(q))return(0,v.V)(q);if((0,$.t)(q))return(q=>H=>(q.then(W=>{H.closed||(H.next(W),H.complete())},W=>H.error(W)).then(null,Z.z),H))(q);if(q&&"function"==typeof q[le.hZ])return(q=>H=>{const W=q[le.hZ]();for(;;){let se;try{se=W.next()}catch(Y){return H.error(Y),H}if(se.done){H.complete();break}if(H.next(se.value),H.closed)break}return"function"==typeof W.return&&H.add(()=>{W.return&&W.return()}),H})(q);{const W=`You provided ${(0,O.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(W)}}},5015:(Be,pe,k)=>{"use strict";k.d(pe,{V:()=>v});const v=Z=>F=>{for(let le=0,ue=Z.length;le<ue&&!F.closed;le++)F.next(Z[le]);F.complete()}},2857:(Be,pe,k)=>{"use strict";var v=k(3018);let Z=null;function F(){return Z}const he=new v.OlP("DocumentToken");let oe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,v.Yz7)({factory:$,token:i,providedIn:"platform"}),i})();function $(){return(0,v.LFG)(P)}const O=new v.OlP("Location Initialized");let P=(()=>{class i extends oe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(r){const a=F().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=F().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,l){q()?this._history.pushState(r,a,l):this.location.hash=l}replaceState(r,a,l){q()?this._history.replaceState(r,a,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(he))},i.\u0275prov=(0,v.Yz7)({factory:H,token:i,providedIn:"platform"}),i})();function q(){return!!window.history.pushState}function H(){return new P((0,v.LFG)(he))}function W(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function se(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function Y(i){return i&&"?"!==i[0]?"?"+i:i}let K=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,v.Yz7)({factory:be,token:i,providedIn:"root"}),i})();function be(i){const n=(0,v.LFG)(he).location;return new Ee((0,v.LFG)(oe),n&&n.origin||"")}const Ce=new v.OlP("appBaseHref");let Ee=(()=>{class i extends K{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return W(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+Y(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,h){const m=this.prepareExternalUrl(l+Y(h));this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,h){const m=this.prepareExternalUrl(l+Y(h));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(oe),v.LFG(Ce,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})(),xe=(()=>{class i extends K{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=W(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,l,h){let m=this.prepareExternalUrl(l+Y(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(r,a,m)}replaceState(r,a,l,h){let m=this.prepareExternalUrl(l+Y(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(oe),v.LFG(Ce,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})(),Ne=(()=>{class i{constructor(r,a){this._subject=new v.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=se(mt(l)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+Y(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,mt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._platformStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y(a)),l)}replaceState(r,a="",l=null){this._platformStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Y(a)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformStrategy).historyGo)||void 0===l||l.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(K),v.LFG(oe))},i.normalizeQueryParams=Y,i.joinWithSlash=W,i.stripTrailingSlash=se,i.\u0275prov=(0,v.Yz7)({factory:Se,token:i,providedIn:"root"}),i})();function Se(){return new Ne((0,v.LFG)(K),(0,v.LFG)(oe))}function mt(i){return i.replace(/\/index.html$/,"")}var ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))();const mr=v.kL8;class Xn{}let no=(()=>{class i extends Xn{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(mr(a||this.locale)(r)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(v.soG))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();class lh{constructor(n,r,a,l){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class i{constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((l,h,m)=>{if(null==l.previousIndex){const E=this._viewContainer.createEmbeddedView(this._template,new lh(null,this._ngForOf,-1,-1),null===m?void 0:m),D=new bn(l,E);a.push(D)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const E=this._viewContainer.get(h);this._viewContainer.move(E,m);const D=new bn(l,E);a.push(D)}});for(let l=0;l<a.length;l++)this._perViewChange(a[l].view,a[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=h,m.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},i.\u0275dir=v.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class bn{constructor(n,r){this.record=n,this.view=r}}let Z0=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[{provide:Xn,useClass:no}]}),i})();function mu(i){return"server"===i}let yu=(()=>{class i{}return i.\u0275prov=(0,v.Yz7)({token:i,providedIn:"root",factory:()=>new wc((0,v.LFG)(he),window)}),i})();class wc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=a.currentNode;for(;l;){const h=l.shadowRoot;if(h){const m=h.getElementById(n)||h.querySelector(`[name="${n}"]`);if(m)return m}l=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(a-h[0],l-h[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=_u(this.window.history)||_u(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function _u(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class oo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new oo,Z||(Z=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(ps=ps||document.querySelector("base"),ps?ps.getAttribute("href"):null);return null==r?null:function(i){bc=bc||document.createElement("a"),bc.setAttribute("href",i);const n=bc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[l,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(l.trim()===n)return decodeURIComponent(h)}return null}(document.cookie,n)}}let bc,ps=null;const Op=new v.OlP("TRANSITION_ID"),Tc=[{provide:v.ip1,useFactory:function(i,n,r){return()=>{r.get(v.CZH).donePromise.then(()=>{const a=F(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<l.length;h++)a.remove(l[h])})}},deps:[Op,he,v.zs3],multi:!0}];class Ut{static init(){(0,v.VLi)(new Ut)}addToWindow(n){v.dqk.getAngularTestability=(a,l=!0)=>{const h=n.findTestabilityInTree(a,l);if(null==h)throw new Error("Could not find testability for element.");return h},v.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(a=>{const l=v.dqk.getAllAngularTestabilities();let h=l.length,m=!1;const E=function(D){m=m||D,h--,0==h&&a(m)};l.forEach(function(D){D.whenStable(E)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:a?F().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let Pp=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const ao=new v.OlP("EventManagerPlugins");let Du=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}addGlobalEventListener(r,a,l){return this._findPluginFor(a).addGlobalEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const l=this._plugins;for(let h=0;h<l.length;h++){const m=l[h];if(m.supports(r))return this._eventNameToPlugin.set(r,m),m}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(ao),v.LFG(v.R0b))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();class Tu{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const l=F().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,a)}}let wh=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),a.add(l))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})(),uo=(()=>{class i extends wh{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,l){r.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,l.push(a.appendChild(m))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(Fp),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,l)=>{this._addStylesToHost(r,l,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Fp))}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(he))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();function Fp(i){F().remove(i)}const me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pt=/%COMP%/g;function ys(i,n,r){for(let a=0;a<n.length;a++){let l=n[a];Array.isArray(l)?ys(i,l,r):(l=l.replace(pt,i),r.push(l))}return r}function Sy(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let sa=(()=>{class i{constructor(r,a,l){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new _s(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case v.ifc.Emulated:{let l=this.rendererByCompId.get(a.id);return l||(l=new vs(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,l)),l.applyToHost(r),l}case 1:case v.ifc.ShadowDom:return new Vi(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const l=ys(a.id,a.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Du),v.LFG(uo),v.LFG(v.AFp))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();class _s{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(me[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,l){if(l){r=l+":"+r;const h=me[l];h?n.setAttributeNS(h,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const l=me[a];l?n.removeAttributeNS(l,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,l){l&(v.JOm.DashCase|v.JOm.Important)?n.style.setProperty(r,a,l&v.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&v.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,Sy(a)):this.eventManager.addEventListener(n,r,Sy(a))}}class vs extends _s{constructor(n,r,a,l){super(n),this.component=a;const h=ys(l+"-"+a.id,a.styles,[]);r.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(pt,l+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(pt,i)}(l+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class Vi extends _s{constructor(n,r,a,l){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=ys(l.id,l.styles,[]);for(let m=0;m<h.length;m++){const E=document.createElement("style");E.textContent=h[m],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let bh=(()=>{class i extends Tu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(he))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const xu=["alt","control","meta","shift"],$p={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let co=(()=>{class i extends Tu{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,l){const h=i.parseEventName(a),m=i.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(r,h.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const h=i._normalizeKey(a.pop());let m="";if(xu.forEach(D=>{const S=a.indexOf(D);S>-1&&(a.splice(S,1),m+=D+".")}),m+=h,0!=a.length||0===h.length)return null;const E={};return E.domEventName=l,E.fullKey=m,E}static getEventFullKey(r){let a="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Hp.hasOwnProperty(n)&&(n=Hp[n]))}return $p[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),xu.forEach(h=>{h!=l&&vr[h](r)&&(a+=h+".")}),a+=l,a}static eventCallback(r,a,l){return h=>{i.getEventFullKey(h)===r&&l.runGuarded(()=>a(h))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(he))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const Py=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:"browser"},{provide:v.g9A,useValue:function(){oo.makeCurrent(),Ut.init()},multi:!0},{provide:he,useFactory:function(){return(0,v.RDi)(document),document},deps:[]}]),Es=[[],{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function(){return new v.qLn},deps:[]},{provide:ao,useClass:bh,multi:!0,deps:[he,v.R0b,v.Lbi]},{provide:ao,useClass:co,multi:!0,deps:[he]},[],{provide:sa,useClass:sa,deps:[Du,uo,v.AFp]},{provide:v.FYo,useExisting:sa},{provide:wh,useExisting:uo},{provide:uo,useClass:uo,deps:[he]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:Du,useClass:Du,deps:[ao,v.R0b]},{provide:class{},useClass:Pp,deps:[]},[]];let Ru=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:v.AFp,useValue:r.appId},{provide:Op,useExisting:v.AFp},Tc]}}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(i,12))},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:Es,imports:[Z0,v.hGG]}),i})();"undefined"!=typeof window&&window;const Lh_firebaseConfig={apiKey:"AIzaSyBhpT7rdXk4j5Qku-oYpuuJUQzdkyzKHw4",authDomain:"primerparcial-d5221.firebaseapp.com",databaseURL:"https://primerparcial-d5221-default-rtdb.firebaseio.com",projectId:"primerparcial-d5221",storageBucket:"primerparcial-d5221.appspot.com",messagingSenderId:"643382462461",appId:"1:643382462461:web:b6c1e4e03efecc7bc3fb94"};var $t=k(4402),ze=k(5917),Er=k(9765),Pc=k(7971);class tr extends Er.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pc.N;return this._value}next(n){super.next(this._value=n)}}var ua=k(4869),la=k(9796),hi=k(7393);class Fy extends hi.L{notifyNext(n,r,a,l,h){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class ca extends hi.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var zp=k(7444),qr=k(7574);function Ly(i,n,r,a,l=new ca(i,r,a)){if(!l.closed)return n instanceof qr.y?n.subscribe(l):(0,zp.s)(n)(l)}var Vh=k(6693);const ku={};class Kp{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Zp(n,this.resultSelector))}}class Zp extends Fy{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(ku),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(Ly(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const l=this.values,m=this.toRespond?l[a]===ku?--this.toRespond:this.toRespond:0;l[a]=r,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const Wr=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Fu=k(3282);function Lu(...i){return(0,Fu.J)(1)((0,ze.of)(...i))}var nr=k(9193);function ho(i){return new qr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,$t.D)(r):(0,nr.c)()).subscribe(n)})}var ha=k(2441),nt=k(8002),Cs=k(5345);function on(i,n){return"function"==typeof n?r=>r.pipe(on((a,l)=>(0,$t.D)(i(a,l)).pipe((0,nt.U)((h,m)=>n(a,h,l,m))))):r=>r.lift(new Uy(i))}class Uy{constructor(n){this.project=n}call(n,r){return r.subscribe(new tw(n,this.project))}}class tw extends Cs.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new Cs.IY(this),l=this.destination;l.add(a),this.innerSubscription=(0,Cs.ft)(n,a),this.innerSubscription!==a&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const By=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Vu(i){return n=>0===i?(0,nr.c)():n.lift(new an(i))}class an{constructor(n){if(this.total=n,this.total<0)throw new By}call(n,r){return r.subscribe(new Bh(n,this.total))}}class Bh extends hi.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function Uu(...i){const n=i[i.length-1];return(0,ua.K)(n)?(i.pop(),r=>Lu(i,r,n)):r=>Lu(i,r)}function fa(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new rw(i,n,r))}}class rw{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new Yp(n,this.accumulator,this.seed,this.hasSeed))}}class Yp extends hi.L{constructor(n,r,a,l){super(n),this.accumulator=r,this._seed=a,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=a,this.destination.next(a)}}function fi(i,n){return function(a){return a.lift(new Qp(i,n))}}class Qp{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new iw(n,this.predicate,this.thisArg))}}class iw extends hi.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function Is(i){return function(r){const a=new kc(i),l=r.lift(a);return a.caught=l}}class kc{constructor(n){this.selector=n}call(n,r){return r.subscribe(new pa(n,this.selector,this.caught))}}class pa extends Cs.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const a=new Cs.IY(this);this.add(a);const l=(0,Cs.ft)(r,a);l!==a&&this.add(l)}}}var hn=k(9773);function Fc(i,n){return(0,hn.zg)(i,n,1)}function fn(i){return function(r){return 0===i?(0,nr.c)():r.lift(new Lc(i))}}class Lc{constructor(n){if(this.total=n,this.total<0)throw new By}call(n,r){return r.subscribe(new ga(n,this.total))}}class ga extends hi.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,l=this.count++;r.length<a?r.push(n):r[l%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,l=this.ring;for(let h=0;h<a;h++){const m=r++%a;n.next(l[m])}}n.complete()}}function Jp(i=Kr){return n=>n.lift(new jy(i))}class jy{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new zr(n,this.errorFactory))}}class zr extends hi.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function Kr(){return new Wr}function Bu(i=null){return n=>n.lift(new ji(i))}class ji{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new bs(n,this.defaultValue))}}class bs extends hi.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ju=k(4487);function fo(i,n){const r=arguments.length>=2;return a=>a.pipe(i?fi((l,h)=>i(l,h,a)):ju.y,Vu(1),r?Bu(n):Jp(()=>new Wr))}var wr=k(3342),sw=k(1307),$h=k(5319);class $u{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Ds(n,this.callback))}}class Ds extends hi.L{constructor(n,r){super(n),this.add(new $h.w(r))}}class Ts{constructor(n,r){this.id=n,this.url=r}}class ma extends Ts{constructor(n,r,a="imperative",l=null){super(n,r),this.navigationTrigger=a,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ya extends Ts{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xp extends Ts{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $y extends Ts{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hh extends Ts{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hy extends Ts{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hu extends Ts{constructor(n,r,a,l,h){super(n,r),this.urlAfterRedirects=a,this.state=l,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gu extends Ts{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vc extends Ts{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gy{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class As{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gh{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uc{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qh{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ot="primary";class ow{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function $i(i){return new ow(i)}const po="ngNavigationCancelingError";function Hi(i){const n=Error("NavigationCancelingError: "+i);return n[po]=!0,n}function pn(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const l={};for(let h=0;h<a.length;h++){const m=a[h],E=i[h];if(m.startsWith(":"))l[m.substring(1)]=E;else if(m!==E.path)return null}return{consumed:i.slice(0,a.length),posParams:l}}function Gi(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let l;for(let h=0;h<r.length;h++)if(l=r[h],!xs(i[l],n[l]))return!1;return!0}function xs(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((l,h)=>a[h]===l)}return i===n}function _a(i){return Array.prototype.concat.apply([],i)}function jc(i){return i.length>0?i[i.length-1]:null}function Dn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function Ei(i){return(0,v.CqO)(i)?i:(0,v.QGY)(i)?(0,$t.D)(Promise.resolve(i)):(0,ze.of)(i)}const Zr={exact:function zh(i,n,r){if(!Ea(i.segments,n.segments)||!$c(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!zh(i.children[a],n.children[a],r))return!1;return!0},subset:Wu},qu={exact:function(i,n){return Gi(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>xs(i[r],n[r]))},ignored:()=>!0};function qi(i,n,r){return Zr[r.paths](i.root,n.root,r.matrixParams)&&qu[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Wu(i,n,r){return Zh(i,n,n.segments,r)}function Zh(i,n,r,a){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Ea(l,r)||n.hasChildren()||!$c(l,r,a))}if(i.segments.length===r.length){if(!Ea(i.segments,r)||!$c(i.segments,r,a))return!1;for(const l in n.children)if(!i.children[l]||!Wu(i.children[l],n.children[l],a))return!1;return!0}{const l=r.slice(0,i.segments.length),h=r.slice(i.segments.length);return!!(Ea(i.segments,l)&&$c(i.segments,l,a)&&i.children[ot])&&Zh(i.children[ot],n,h,a)}}function $c(i,n,r){return n.every((a,l)=>qu[r](i[l].parameters,a.parameters))}class Wi{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$i(this.queryParams)),this._queryParamMap}toString(){return Yy.serialize(this)}}class at{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Dn(r,(a,l)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gc(this)}}class zi{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=$i(this.parameters)),this._parameterMap}toString(){return mo(this)}}function Ea(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class Hc{}class Zy{parse(n){const r=new Xy(n);return new Wi(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${zu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(l=>`${wa(r)}=${wa(l)}`).join("&"):`${wa(r)}=${wa(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const Yy=new Zy;function Gc(i){return i.segments.map(n=>mo(n)).join("/")}function zu(i,n){if(!i.hasChildren())return Gc(i);if(n){const r=i.children[ot]?zu(i.children[ot],!1):"",a=[];return Dn(i.children,(l,h)=>{h!==ot&&a.push(`${h}:${zu(l,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return Dn(i.children,(a,l)=>{l===ot&&(r=r.concat(n(a,l)))}),Dn(i.children,(a,l)=>{l!==ot&&(r=r.concat(n(a,l)))}),r}(i,(a,l)=>l===ot?[zu(i.children[ot],!1)]:[`${l}:${zu(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ot]?`${Gc(i)}/${r[0]}`:`${Gc(i)}/(${r.join("//")})`}}function go(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wa(i){return go(i).replace(/%3B/gi,";")}function Yh(i){return go(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ku(i){return decodeURIComponent(i)}function Qy(i){return Ku(i.replace(/\+/g,"%20"))}function mo(i){return`${Yh(i.path)}${function(i){return Object.keys(i).map(n=>`;${Yh(n)}=${Yh(i[n])}`).join("")}(i.parameters)}`}const ng=/^[^\/()?;=#]+/;function Zu(i){const n=i.match(ng);return n?n[0]:""}const yo=/^[^=?&#]+/,aw=/^[^?&#]+/;class Xy{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new at([],{}):new at([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[ot]=new at(n,r)),a}parseSegment(){const n=Zu(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new zi(Ku(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=Zu(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const l=Zu(this.remaining);l&&(a=l,this.capture(a))}n[Ku(r)]=Ku(a)}parseQueryParam(n){const r=function(i){const n=i.match(yo);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function(i){const n=i.match(aw);return n?n[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const l=Qy(r),h=Qy(a);if(n.hasOwnProperty(l)){let m=n[l];Array.isArray(m)||(m=[m],n[l]=m),m.push(h)}else n[l]=h}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Zu(this.remaining),l=this.remaining[a.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let h;a.indexOf(":")>-1?(h=a.substr(0,a.indexOf(":")),this.capture(h),this.capture(":")):n&&(h=ot);const m=this.parseChildren();r[h]=1===Object.keys(m).length?m[ot]:new at([],m),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class rg{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=Pr(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=Pr(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=Rs(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return Rs(n,this._root).map(r=>r.value)}}function Pr(i,n){if(i===n.value)return n;for(const r of n.children){const a=Pr(i,r);if(a)return a}return null}function Rs(i,n){if(i===n.value)return[n];for(const r of n.children){const a=Rs(i,r);if(a.length)return a.unshift(n),a}return[]}class Yr{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function Yu(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class ig extends rg{constructor(n,r){super(n),this.snapshot=r,Jh(this,n)}toString(){return this.snapshot.toString()}}function qc(i,n){const r=function(i,n){const m=new Wc([],{},{},"",{},ot,n,null,i.root,-1,{});return new sg("",new Yr(m,[]))}(i,n),a=new tr([new zi("",{})]),l=new tr({}),h=new tr({}),m=new tr({}),E=new tr(""),D=new Ca(a,l,m,E,h,ot,n,r.root);return D.snapshot=r.root,new ig(new Yr(D,[]),r)}class Ca{constructor(n,r,a,l,h,m,E,D){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=m,this.component=E,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(n=>$i(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(n=>$i(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qu(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const l=r[a],h=r[a-1];if(l.routeConfig&&""===l.routeConfig.path)a--;else{if(h.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Wc{constructor(n,r,a,l,h,m,E,D,S,N,M){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=h,this.outlet=m,this.component=E,this.routeConfig=D,this._urlSegment=S,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$i(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$i(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sg extends rg{constructor(n,r){super(r),this.url=n,Jh(this,r)}toString(){return n_(this._root)}}function Jh(i,n){n.value._routerState=i,n.children.forEach(r=>Jh(i,r))}function n_(i){const n=i.children.length>0?` { ${i.children.map(n_).join(", ")} } `:"";return`${i.value}${n}`}function zc(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Gi(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Gi(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Gi(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Gi(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Ki(i,n){return Gi(i.params,n.params)&&function(i,n){return Ea(i,n)&&i.every((r,a)=>Gi(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||Ki(i.parent,n.parent))}function kr(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(a=>{for(const l of r.children)if(i.shouldReuseRoute(a.value,l.value.snapshot))return kr(i,a,l);return kr(i,a)})}(i,n,r);return new Yr(a,l)}{if(i.shouldAttach(n.value)){const h=i.retrieve(n.value);if(null!==h){const m=h.route;return Ms(n,m),m}}const a=function(i){return new Ca(new tr(i.url),new tr(i.params),new tr(i.queryParams),new tr(i.fragment),new tr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(h=>kr(i,h));return new Yr(a,l)}}function Ms(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Ms(i.children[r],n.children[r])}function Ia(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Zc(i){return"object"==typeof i&&null!=i&&i.outlets}function lg(i,n,r,a,l){let h={};return a&&Dn(a,(m,E)=>{h[E]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new Wi(r.root===i?n:Yc(r.root,i,n),h,l)}function Yc(i,n,r){const a={};return Dn(i.children,(l,h)=>{a[h]=l===n?r:Yc(l,n,r)}),new at(i.segments,a)}class Ju{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&Ia(a[0]))throw new Error("Root segment cannot have matrix parameters");const l=a.find(Zc);if(l&&l!==jc(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cg{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function hg(i,n,r){if(i||(i=new at([],{})),0===i.segments.length&&i.hasChildren())return Xu(i,n,r);const a=function(i,n,r){let a=0,l=n;const h={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(a>=r.length)return h;const m=i.segments[l],E=r[a];if(Zc(E))break;const D=`${E}`,S=a<r.length-1?r[a+1]:null;if(l>0&&void 0===D)break;if(D&&S&&"object"==typeof S&&void 0===S.outlets){if(!el(D,S,m))return h;a+=2}else{if(!el(D,{},m))return h;a++}l++}return{match:!0,pathIndex:l,commandIndex:a}}(i,n,r),l=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const h=new at(i.segments.slice(0,a.pathIndex),{});return h.children[ot]=new at(i.segments.slice(a.pathIndex),i.children),Xu(h,0,l)}return a.match&&0===l.length?new at(i.segments,{}):a.match&&!i.hasChildren()?Jc(i,n,r):a.match?Xu(i,0,l):Jc(i,n,r)}function Xu(i,n,r){if(0===r.length)return new at(i.segments,{});{const a=function(i){return Zc(i[0])?i[0].outlets:{[ot]:i}}(r),l={};return Dn(a,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(l[m]=hg(i.children[m],n,h))}),Dn(i.children,(h,m)=>{void 0===a[m]&&(l[m]=h)}),new at(i.segments,l)}}function Jc(i,n,r){const a=i.segments.slice(0,n);let l=0;for(;l<r.length;){const h=r[l];if(Zc(h)){const D=Xc(h.outlets);return new at(a,D)}if(0===l&&Ia(r[0])){a.push(new zi(i.segments[n].path,ef(r[0]))),l++;continue}const m=Zc(h)?h.outlets[ot]:`${h}`,E=l<r.length-1?r[l+1]:null;m&&E&&Ia(E)?(a.push(new zi(m,ef(E))),l+=2):(a.push(new zi(m,{})),l++)}return new at(a,{})}function Xc(i){const n={};return Dn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=Jc(new at([],{}),0,r))}),n}function ef(i){const n={};return Dn(i,(r,a)=>n[a]=`${r}`),n}function el(i,n,r){return i==r.path&&Gi(n,r.parameters)}class Ht{constructor(n,r,a,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=l}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),zc(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const l=Yu(r);n.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,l[m],a),delete l[m]}),Dn(l,(h,m)=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(n,r,a){const l=n.value,h=r?r.value:null;if(l===h)if(l.component){const m=a.getContext(l.outlet);m&&this.deactivateChildRoutes(n,r,m.children)}else this.deactivateChildRoutes(n,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const l=a.outlet.detach(),h=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),l=a&&n.value.component?a.children:r,h=Yu(n);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],l);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const l=Yu(r);n.children.forEach(h=>{this.activateRoutes(h,l[h.value.outlet],a),this.forwardEvent(new qh(h.value.snapshot))}),n.children.length&&this.forwardEvent(new Ss(n.value.snapshot))}activateRoutes(n,r,a){const l=n.value,h=r?r.value:null;if(zc(l),l===h)if(l.component){const m=a.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,m.children)}else this.activateChildRoutes(n,r,a);else if(l.component){const m=a.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(E.contexts),m.attachRef=E.componentRef,m.route=E.route.value,m.outlet&&m.outlet.attach(E.componentRef,E.route.value),nf(E.route)}else{const E=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),D=E?E.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=D,m.outlet&&m.outlet.activateWith(l,D),this.activateChildRoutes(n,null,m.children)}}else this.activateChildRoutes(n,null,a)}}function nf(i){zc(i.value),i.children.forEach(nf)}class vo{constructor(n,r){this.routes=n,this.module=r}}function gn(i){return"function"==typeof i}function Os(i){return i instanceof Wi}const nl=Symbol("INITIAL_VALUE");function Zi(){return on(i=>function(...i){let n,r;return(0,ua.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,la.k)(i[0])&&(i=i[0]),(0,Vh.n)(i,r).lift(new Kp(n))}(i.map(n=>n.pipe(Vu(1),Uu(nl)))).pipe(fa((n,r)=>{let a=!1;return r.reduce((l,h,m)=>l!==nl?l:(h===nl&&(a=!0),a||!1!==h&&m!==r.length-1&&!Os(h)?l:h),n)},nl),fi(n=>n!==nl),(0,nt.U)(n=>Os(n)?n:!0===n),Vu(1)))}let Qt=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=v.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&v._UZ(0,"router-outlet")},directives:function(){return[bg]},encapsulation:2}),i})();function rl(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];fg(a,pg(n,a))}}function fg(i,n){i.children&&rl(i.children,n)}function pg(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Tn(i){const n=i.children&&i.children.map(Tn),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==ot&&(r.component=Qt),r}function Mn(i){return i.outlet||ot}function On(i,n){const r=i.filter(a=>Mn(a)===n);return r.push(...i.filter(a=>Mn(a)!==n)),r}const ed={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ba(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},ed):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(n.matcher||pn)(r,i,n);if(!h)return Object.assign({},ed);const m={};Dn(h.posParams,(D,S)=>{m[S]=D.path});const E=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:E,positionalParamSegments:null!==(a=h.posParams)&&void 0!==a?a:{}}}function Eo(i,n,r,a,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>sl(i,n,a)&&Mn(a)!==ot)}(i,r,a)){const m=new at(n,function(i,n,r,a){const l={};l[ot]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const h of r)if(""===h.path&&Mn(h)!==ot){const m=new at([],{});m._sourceSegment=i,m._segmentIndexShift=n.length,l[Mn(h)]=m}return l}(i,n,a,new at(r,i.children)));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>sl(i,n,a))}(i,r,a)){const m=new at(i.segments,function(i,n,r,a,l,h){const m={};for(const E of a)if(sl(i,r,E)&&!l[Mn(E)]){const D=new at([],{});D._sourceSegment=i,D._segmentIndexShift="legacy"===h?i.segments.length:n.length,m[Mn(E)]=D}return Object.assign(Object.assign({},l),m)}(i,n,r,a,i.children,l));return m._sourceSegment=i,m._segmentIndexShift=n.length,{segmentGroup:m,slicedSegments:r}}const h=new at(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:r}}function sl(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function td(i,n,r,a){return!!(Mn(i)===a||a!==ot&&sl(n,r,i))&&("**"===i.path||ba(n,i,r).matched)}function gg(i,n,r){return 0===n.length&&!i.children[r]}class Da{constructor(n){this.segmentGroup=n||null}}class nd{constructor(n){this.urlTree=n}}function ol(i){return new qr.y(n=>n.error(new Da(i)))}function C(i){return new qr.y(n=>n.error(new nd(i)))}function g(i){return new qr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class x{constructor(n,r,a,l,h){this.configLoader=r,this.urlSerializer=a,this.urlTree=l,this.config=h,this.allowRedirects=!0,this.ngModule=n.get(v.h0i)}apply(){const n=Eo(this.urlTree.root,[],[],this.config).segmentGroup,r=new at(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,ot).pipe((0,nt.U)(h=>this.createUrlTree(j(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Is(h=>{if(h instanceof nd)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Da?this.noMatchError(h):h}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ot).pipe((0,nt.U)(l=>this.createUrlTree(j(l),n.queryParams,n.fragment))).pipe(Is(l=>{throw l instanceof Da?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const l=n.segments.length>0?new at([],{[ot]:n}):n;return new Wi(l,r,a)}expandSegmentGroup(n,r,a,l){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,nt.U)(h=>new at([],h))):this.expandSegment(n,a,r,a.segments,l,!0)}expandChildren(n,r,a){const l=[];for(const h of Object.keys(a.children))"primary"===h?l.unshift(h):l.push(h);return(0,$t.D)(l).pipe(Fc(h=>{const m=a.children[h],E=On(r,h);return this.expandSegmentGroup(n,E,m,h).pipe((0,nt.U)(D=>({segment:D,outlet:h})))}),fa((h,m)=>(h[m.outlet]=m.segment,h),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?fi((l,h)=>i(l,h,a)):ju.y,fn(1),r?Bu(n):Jp(()=>new Wr))}())}expandSegment(n,r,a,l,h,m){return(0,$t.D)(a).pipe(Fc(E=>this.expandSegmentAgainstRoute(n,r,a,E,l,h,m).pipe(Is(S=>{if(S instanceof Da)return(0,ze.of)(null);throw S}))),fo(E=>!!E),Is((E,D)=>{if(E instanceof Wr||"EmptyError"===E.name){if(gg(r,l,h))return(0,ze.of)(new at([],{}));throw new Da(r)}throw E}))}expandSegmentAgainstRoute(n,r,a,l,h,m,E){return td(l,r,h,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,h,m):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m):ol(r):ol(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,l){const h=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?C(h):this.lineralizeSegments(a,h).pipe((0,hn.zg)(m=>{const E=new at(m,{});return this.expandSegment(n,E,r,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,h,m){const{matched:E,consumedSegments:D,lastChild:S,positionalParamSegments:N}=ba(r,l,h);if(!E)return ol(r);const M=this.applyRedirectCommands(D,l.redirectTo,N);return l.redirectTo.startsWith("/")?C(M):this.lineralizeSegments(l,M).pipe((0,hn.zg)(B=>this.expandSegment(n,r,a,B.concat(h.slice(S)),m,!1)))}matchSegmentAgainstRoute(n,r,a,l,h){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,ze.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,nt.U)(B=>(a._loadedConfig=B,new at(l,{})))):(0,ze.of)(new at(l,{}));const{matched:m,consumedSegments:E,lastChild:D}=ba(r,a,l);if(!m)return ol(r);const S=l.slice(D);return this.getChildConfig(n,a,l).pipe((0,hn.zg)(M=>{const B=M.module,G=M.routes,{segmentGroup:ce,slicedSegments:Ie}=Eo(r,E,S,G),Oe=new at(ce.segments,ce.children);if(0===Ie.length&&Oe.hasChildren())return this.expandChildren(B,G,Oe).pipe((0,nt.U)(St=>new at(E,St)));if(0===G.length&&0===Ie.length)return(0,ze.of)(new at(E,{}));const ht=Mn(a)===h;return this.expandSegment(B,Oe,G,Ie,ht?ot:h,!0).pipe((0,nt.U)(ct=>new at(E.concat(ct.segments),ct.children)))}))}getChildConfig(n,r,a){return r.children?(0,ze.of)(new vo(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,ze.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,hn.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,nt.U)(h=>(r._loadedConfig=h,h))):(i=r,new qr.y(n=>n.error(Hi(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,ze.of)(new vo([],n))}runCanLoadGuards(n,r,a){const l=r.canLoad;if(!l||0===l.length)return(0,ze.of)(!0);const h=l.map(m=>{const E=n.get(m);let D;if((i=E)&&gn(i.canLoad))D=E.canLoad(r,a);else{if(!gn(E))throw new Error("Invalid CanLoad guard");D=E(r,a)}var i;return Ei(D)});return(0,ze.of)(h).pipe(Zi(),(0,wr.b)(m=>{if(!Os(m))return;const E=Hi(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw E.url=m,E}),(0,nt.U)(m=>!0===m))}lineralizeSegments(n,r){let a=[],l=r.root;for(;;){if(a=a.concat(l.segments),0===l.numberOfChildren)return(0,ze.of)(a);if(l.numberOfChildren>1||!l.children[ot])return g(n.redirectTo);l=l.children[ot]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,l){const h=this.createSegmentGroup(n,r.root,a,l);return new Wi(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return Dn(n,(l,h)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);a[h]=r[E]}else a[h]=l}),a}createSegmentGroup(n,r,a,l){const h=this.createSegments(n,r.segments,a,l);let m={};return Dn(r.children,(E,D)=>{m[D]=this.createSegmentGroup(n,E,a,l)}),new at(h,m)}createSegments(n,r,a,l){return r.map(h=>h.path.startsWith(":")?this.findPosParam(n,h,l):this.findOrReturn(h,a))}findPosParam(n,r,a){const l=a[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let a=0;for(const l of r){if(l.path===n.path)return r.splice(a),l;a++}return n}}function j(i){const n={};for(const a of Object.keys(i.children)){const h=j(i.children[a]);(h.segments.length>0||h.hasChildren())&&(n[a]=h)}return function(i){if(1===i.numberOfChildren&&i.children[ot]){const n=i.children[ot];return new at(i.segments.concat(n.segments),n.children)}return i}(new at(i.segments,n))}class Te{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Fe{constructor(n,r){this.component=n,this.route=r}}function Ke(i,n,r){const a=i._root;return Yi(a,n?n._root:null,r,[a.value])}function kt(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function Yi(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=Yu(n);return i.children.forEach(m=>{(function(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,m=n?n.value:null,E=r?r.getContext(i.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Ea(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Ea(i.url,n.url)||!Gi(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ki(i,n)||!Gi(i.queryParams,n.queryParams);case"paramsChange":default:return!Ki(i,n)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new Te(a)):(h.data=m.data,h._resolvedData=m._resolvedData),Yi(i,n,h.component?E?E.children:null:r,a,l),D&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new Fe(E.outlet.component,m))}else m&&wo(n,E,l),l.canActivateChecks.push(new Te(a)),Yi(i,null,h.component?E?E.children:null:r,a,l)})(m,h[m.value.outlet],r,a.concat([m.value]),l),delete h[m.value.outlet]}),Dn(h,(m,E)=>wo(m,r.getContext(E),l)),l}function wo(i,n,r){const a=Yu(i),l=i.value;Dn(a,(h,m)=>{wo(h,l.component?n?n.children.getContext(m):null:n,r)}),r.canDeactivateChecks.push(new Fe(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class cw{}function u_(i){return new qr.y(n=>n.error(i))}class Ps{constructor(n,r,a,l,h,m){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const n=Eo(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,ot);if(null===r)return null;const a=new Wc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ot,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Yr(a,r),h=new sg(this.url,l);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(n){const r=n.value,a=Qu(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const h of Object.keys(r.children)){const m=r.children[h],E=On(n,h),D=this.processSegmentGroup(E,m,h);if(null===D)return null;a.push(...D)}const l=d_(a);return l.sort((n,r)=>n.value.outlet===ot?-1:r.value.outlet===ot?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,a,l){for(const h of n){const m=this.processSegmentAgainstRoute(h,r,a,l);if(null!==m)return m}return gg(r,a,l)?[]:null}processSegmentAgainstRoute(n,r,a,l){if(n.redirectTo||!td(n,r,a,l))return null;let h,m=[],E=[];if("**"===n.path){const G=a.length>0?jc(a).parameters:{};h=new Wc(a,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wg(n),Mn(n),n.component,n,h_(r),f_(r)+a.length,Cg(n))}else{const G=ba(r,n,a);if(!G.matched)return null;m=G.consumedSegments,E=a.slice(G.lastChild),h=new Wc(m,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wg(n),Mn(n),n.component,n,h_(r),f_(r)+m.length,Cg(n))}const D=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:N}=Eo(r,m,E,D.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);var i;if(0===N.length&&S.hasChildren()){const G=this.processChildren(D,S);return null===G?null:[new Yr(h,G)]}if(0===D.length&&0===N.length)return[new Yr(h,[])];const M=Mn(n)===l,B=this.processSegment(D,S,N,M?ot:l);return null===B?null:[new Yr(h,B)]}}function OD(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function d_(i){const n=[],r=new Set;for(const a of i){if(!OD(a)){n.push(a);continue}const l=n.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==l?(l.children.push(...a.children),r.add(l)):n.push(a)}for(const a of r){const l=d_(a.children);n.push(new Yr(a.value,l))}return n.filter(a=>!r.has(a))}function h_(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function f_(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function wg(i){return i.data||{}}function Cg(i){return i.resolve||{}}function g_(i){return on(n=>{const r=i(n);return r?(0,$t.D)(r).pipe((0,nt.U)(()=>n)):(0,ze.of)(n)})}class kD extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const y_=new v.OlP("ROUTES");class fw{constructor(n,r,a,l){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);const m=h.create(n);return new vo(_a(m.injector.get(y_,void 0,v.XFs.Self|v.XFs.Optional)).map(Tn),m)}),Is(h=>{throw r._loader$=void 0,h}));return r._loader$=new ha.c(l,()=>new Er.xQ).pipe((0,sw.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,$t.D)(this.loader.load(n)):Ei(n()).pipe((0,hn.zg)(r=>r instanceof v.YKP?(0,ze.of)(r):(0,$t.D)(this.compiler.compileModuleAsync(r))))}}class FD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sd,this.attachRef=null}}class sd{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new FD,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class __{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function gw(i){throw i}function v_(i,n,r){return n.parse("/")}function mw(i,n){return(0,ze.of)(null)}const LD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fr=(()=>{class i{constructor(r,a,l,h,m,E,D,S){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=l,this.location=h,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Er.xQ,this.errorHandler=gw,this.malformedUriErrorHandler=v_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mw,afterPreactivation:mw},this.urlHandlingStrategy=new __,this.routeReuseStrategy=new kD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(v.h0i),this.console=m.get(v.c2e);const B=m.get(v.R0b);this.isNgZoneEnabled=B instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Wi(new at([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fw(E,D,G=>this.triggerEvent(new Gy(G)),G=>this.triggerEvent(new As(G))),this.routerState=qc(this.currentUrlTree,this.rootComponentType),this.transitions=new tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(fi(l=>0!==l.id),(0,nt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),on(l=>{let h=!1,m=!1;return(0,ze.of)(l).pipe((0,wr.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),on(E=>{const D=this.browserUrlTree.toString(),S=!this.navigated||E.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return lf(E.source)&&(this.browserUrlTree=E.extractedUrl),(0,ze.of)(E).pipe(on(M=>{const B=this.transitions.getValue();return a.next(new ma(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),B!==this.transitions.getValue()?nr.E:Promise.resolve(M)}),function(i,n,r,a){return on(l=>function(i,n,r,a,l){return new x(i,n,r,a,l).apply()}(i,n,r,l.extractedUrl,a).pipe((0,nt.U)(h=>Object.assign(Object.assign({},l),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(i,n,r,a,l){return(0,hn.zg)(h=>function(i,n,r,a,l="emptyOnly",h="legacy"){try{const m=new Ps(i,n,r,a,l,h).recognize();return null===m?u_(new cw):(0,ze.of)(m)}catch(m){return u_(m)}}(i,n,h.urlAfterRedirects,r(h.urlAfterRedirects),a,l).pipe((0,nt.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wr.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const B=new Hh(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);a.next(B)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:G,source:ce,restoredState:Ie,extras:Oe}=E,ht=new ma(B,this.serializeUrl(G),ce,Ie);a.next(ht);const gt=qc(G,this.rootComponentType).snapshot;return(0,ze.of)(Object.assign(Object.assign({},E),{targetSnapshot:gt,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,this.browserUrlTree=E.urlAfterRedirects,E.resolve(null),nr.E}),g_(E=>{const{targetSnapshot:D,id:S,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:B,replaceUrl:G}}=E;return this.hooks.beforePreactivation(D,{navigationId:S,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!B,replaceUrl:!!G})}),(0,wr.b)(E=>{const D=new Hy(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),(0,nt.U)(E=>Object.assign(Object.assign({},E),{guards:Ke(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function(i,n){return(0,hn.zg)(r=>{const{targetSnapshot:a,currentSnapshot:l,guards:{canActivateChecks:h,canDeactivateChecks:m}}=r;return 0===m.length&&0===h.length?(0,ze.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,$t.D)(i).pipe((0,hn.zg)(l=>function(i,n,r,a,l){const h=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,ze.of)(!0);const m=h.map(E=>{const D=kt(E,n,l);let S;if(function(i){return i&&gn(i.canDeactivate)}(D))S=Ei(D.canDeactivate(i,n,r,a));else{if(!gn(D))throw new Error("Invalid CanDeactivate guard");S=Ei(D(i,n,r,a))}return S.pipe(fo())});return(0,ze.of)(m).pipe(Zi())}(l.component,l.route,r,n,a)),fo(l=>!0!==l,!0))}(m,a,l,i).pipe((0,hn.zg)(E=>E&&function(i){return"boolean"==typeof i}(E)?function(i,n,r,a){return(0,$t.D)(n).pipe(Fc(l=>Lu(function(i,n){return null!==i&&n&&n(new Gh(i)),(0,ze.of)(!0)}(l.route.parent,a),function(i,n){return null!==i&&n&&n(new Uc(i)),(0,ze.of)(!0)}(l.route,a),function(i,n,r){const a=n[n.length-1],h=n.slice(0,n.length-1).reverse().map(m=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(m)).filter(m=>null!==m).map(m=>ho(()=>{const E=m.guards.map(D=>{const S=kt(D,m.node,r);let N;if(function(i){return i&&gn(i.canActivateChild)}(S))N=Ei(S.canActivateChild(a,i));else{if(!gn(S))throw new Error("Invalid CanActivateChild guard");N=Ei(S(a,i))}return N.pipe(fo())});return(0,ze.of)(E).pipe(Zi())}));return(0,ze.of)(h).pipe(Zi())}(i,l.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,ze.of)(!0);const l=a.map(h=>ho(()=>{const m=kt(h,n,r);let E;if(function(i){return i&&gn(i.canActivate)}(m))E=Ei(m.canActivate(n,i));else{if(!gn(m))throw new Error("Invalid CanActivate guard");E=Ei(m(n,i))}return E.pipe(fo())}));return(0,ze.of)(l).pipe(Zi())}(i,l.route,r))),fo(l=>!0!==l,!0))}(a,h,i,n):(0,ze.of)(E)),(0,nt.U)(E=>Object.assign(Object.assign({},r),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,wr.b)(E=>{if(Os(E.guardsResult)){const S=Hi(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw S.url=E.guardsResult,S}const D=new Hu(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(D)}),fi(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),g_(E=>{if(E.guards.canActivateChecks.length)return(0,ze.of)(E).pipe((0,wr.b)(D=>{const S=new Gu(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}),on(D=>{let S=!1;return(0,ze.of)(D).pipe(function(i,n){return(0,hn.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,ze.of)(r);let h=0;return(0,$t.D)(l).pipe(Fc(m=>function(i,n,r,a){return function(i,n,r,a){const l=Object.keys(i);if(0===l.length)return(0,ze.of)({});const h={};return(0,$t.D)(l).pipe((0,hn.zg)(m=>function(i,n,r,a){const l=kt(i,n,a);return Ei(l.resolve?l.resolve(n,r):l(n,r))}(i[m],n,r,a).pipe((0,wr.b)(E=>{h[m]=E}))),fn(1),(0,hn.zg)(()=>Object.keys(h).length===l.length?(0,ze.of)(h):nr.E))}(i._resolve,i,n,a).pipe((0,nt.U)(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),Qu(i,r).resolve),null)))}(m.route,a,i,n)),(0,wr.b)(()=>h++),fn(1),(0,hn.zg)(m=>h===l.length?(0,ze.of)(r):nr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,wr.b)(D=>{const S=new Vc(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(S)}))}),g_(E=>{const{targetSnapshot:D,id:S,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:B,replaceUrl:G}}=E;return this.hooks.afterPreactivation(D,{navigationId:S,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!B,replaceUrl:!!G})}),(0,nt.U)(E=>{const D=function(i,n,r){const a=kr(i,n._root,r?r._root:void 0);return new ig(a,n)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:D})}),(0,wr.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,n,r)=>(0,nt.U)(a=>(new Ht(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,wr.b)({next(){h=!0},complete(){h=!0}}),function(i){return n=>n.lift(new $u(i))}(()=>{if(!h&&!m){const E=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,E)):this.cancelNavigationTransition(l,E)}this.currentNavigation=null}),Is(E=>{if(m=!0,function(i){return i&&i[po]}(E)){const D=Os(E.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const S=new Xp(l.id,this.serializeUrl(l.extractedUrl),E.message);a.next(S),D?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),M={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lf(l.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new $y(l.id,this.serializeUrl(l.extractedUrl),E);a.next(D);try{l.resolve(this.errorHandler(E))}catch(S){l.reject(S)}}return nr.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:l,state:h,urlTree:m}=a,E={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(E.state=D)}this.scheduleNavigation(m,l,h,E)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const l=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!l||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){rl(r),this.config=r.map(Tn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:l,queryParams:h,fragment:m,queryParamsHandling:E,preserveFragment:D}=a,S=l||this.routerState.root,N=D?this.currentUrlTree.fragment:m;let M=null;switch(E){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=h||null}return null!==M&&(M=this.removeEmptyProps(M)),function(i,n,r,a,l){if(0===r.length)return lg(n.root,n.root,n,a,l);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Ju(!0,0,i);let n=0,r=!1;const a=i.reduce((l,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const E={};return Dn(h.outlets,(D,S)=>{E[S]="string"==typeof D?D.split("/"):D}),[...l,{outlets:E}]}if(h.segmentPath)return[...l,h.segmentPath]}return"string"!=typeof h?[...l,h]:0===m?(h.split("/").forEach((E,D)=>{0==D&&"."===E||(0==D&&""===E?r=!0:".."===E?n++:""!=E&&l.push(E))}),l):[...l,h]},[]);return new Ju(r,n,a)}(r);if(h.toRoot())return lg(n.root,new at([],{}),n,a,l);const m=function(i,n,r){if(i.isAbsolute)return new cg(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const h=r.snapshot._urlSegment;return new cg(h,h===n.root,0)}const a=Ia(i.commands[0])?0:1;return function(i,n,r){let a=i,l=n,h=r;for(;h>l;){if(h-=l,a=a.parent,!a)throw new Error("Invalid number of '../'");l=a.segments.length}return new cg(a,!1,l-h)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(h,n,i),E=m.processChildren?Xu(m.segmentGroup,m.index,h.commands):hg(m.segmentGroup,m.index,h.commands);return lg(m.segmentGroup,E,n,a,l)}(S,this.currentUrlTree,r,M,null!=N?N:null)}navigateByUrl(r,a={skipLocationChange:!1}){const l=Os(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(l){a=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return a}isActive(r,a){let l;if(l=!0===a?Object.assign({},LD):!1===a?Object.assign({},yw):a,Os(r))return qi(this.currentUrlTree,r,l);const h=this.parseUrl(r);return qi(this.currentUrlTree,h,l)}removeEmptyProps(r){return Object.keys(r).reduce((a,l)=>{const h=r[l];return null!=h&&(a[l]=h),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new ya(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,l,h,m){var E,D;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),N=lf(a)&&S&&!lf(S.source),G=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(N&&G)return Promise.resolve(!0);let ce,Ie,Oe;m?(ce=m.resolve,Ie=m.reject,Oe=m.promise):Oe=new Promise((ct,St)=>{ce=ct,Ie=St});const ht=++this.navigationId;let gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),gt=l&&l.\u0275routerPageId?l.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):gt=0,this.setTransition({id:ht,targetPageId:gt,source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:h,resolve:ce,reject:Ie,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(ct=>Promise.reject(ct))}setBrowserUrl(r,a){const l=this.urlSerializer.serialize(r),h=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl?this.location.replaceState(l,"",h):this.location.go(l,"",h)}restoreHistory(r,a=!1){var l,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const l=new Xp(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(v.DyG),v.LFG(Hc),v.LFG(sd),v.LFG(Ne),v.LFG(v.zs3),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(void 0))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();function lf(i){return"imperative"!==i}let bg=(()=>{class i{constructor(r,a,l,h,m){this.parentContexts=r,this.location=a,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.name=h||ot,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const m=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,D=new vw(r,E,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(v.Y36(sd),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},i.\u0275dir=v.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class vw{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===Ca?this.route:n===sd?this.childContexts:this.parent.get(n,r)}}class Dg{}class cf{preload(n,r){return(0,ze.of)(null)}}let df=(()=>{class i{constructor(r,a,l,h,m){this.router=r,this.injector=h,this.preloadingStrategy=m,this.loader=new fw(a,l,S=>r.triggerEvent(new Gy(S)),S=>r.triggerEvent(new As(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(fi(r=>r instanceof ya),Fc(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(v.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const l=[];for(const h of a)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?l.push(this.preloadConfig(r,h)):h.children&&l.push(this.processRoutes(r,h.children));return(0,$t.D)(l).pipe((0,Fu.J)(),(0,nt.U)(h=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,ze.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,hn.zg)(h=>(a._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Fr),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(Dg))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})(),Tg=(()=>{class i{constructor(r,a,l={}){this.router=r,this.viewportScroller=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ya&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Wh&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new Wh(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Fr),v.LFG(yu),v.LFG(void 0))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const Ta=new v.OlP("ROUTER_CONFIGURATION"),Ag=new v.OlP("ROUTER_FORROOT_GUARD"),UD=[Ne,{provide:Hc,useClass:Zy},{provide:Fr,useFactory:function(i,n,r,a,l,h,m,E={},D,S){const N=new Fr(null,i,n,r,a,l,h,_a(m));return D&&(N.urlHandlingStrategy=D),S&&(N.routeReuseStrategy=S),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(E,N),E.enableTracing&&N.events.subscribe(M=>{var B,G;null===(B=console.group)||void 0===B||B.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(G=console.groupEnd)||void 0===G||G.call(console)}),N},deps:[Hc,sd,Ne,v.zs3,v.v3s,v.Sil,y_,Ta,[class{},new v.FiY],[class{},new v.FiY]]},sd,{provide:Ca,useFactory:function(i){return i.routerState.root},deps:[Fr]},{provide:v.v3s,useClass:v.EAV},df,cf,class{preload(n,r){return r().pipe(Is(()=>(0,ze.of)(null)))}},{provide:Ta,useValue:{enableTracing:!1}}];function Cw(){return new v.PXZ("Router",Fr)}let Iw=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[UD,C_(r),{provide:Ag,useFactory:w_,deps:[[Fr,new v.FiY,new v.tp0]]},{provide:Ta,useValue:a||{}},{provide:K,useFactory:bw,deps:[oe,[new v.tBr(Ce),new v.FiY],Ta]},{provide:Tg,useFactory:BD,deps:[Fr,yu,Ta]},{provide:Dg,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:cf},{provide:v.PXZ,multi:!0,useFactory:Cw},[Sg,{provide:v.ip1,multi:!0,useFactory:$D,deps:[Sg]},{provide:Ii,useFactory:HD,deps:[Sg]},{provide:v.tb,multi:!0,useExisting:Ii}]]}}static forChild(r){return{ngModule:i,providers:[C_(r)]}}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Ag,8),v.LFG(Fr,8))},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({}),i})();function BD(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new Tg(i,n,r)}function bw(i,n,r={}){return r.useHash?new xe(i,n):new Ee(i,n)}function w_(i){return"guarded"}function C_(i){return[{provide:v.deG,multi:!0,useValue:i},{provide:y_,multi:!0,useValue:i}]}let Sg=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Er.xQ}appInitializer(){return this.injector.get(O,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const l=new Promise(E=>a=E),h=this.injector.get(Fr),m=this.injector.get(Ta);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),a(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,ze.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),h.initialNavigation()):a(!0),l})}bootstrapListener(r){const a=this.injector.get(Ta),l=this.injector.get(df),h=this.injector.get(Tg),m=this.injector.get(Fr),E=this.injector.get(v.z2F);r===E.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),h.init(),m.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(v.zs3))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();function $D(i){return i.appInitializer.bind(i)}function HD(i){return i.bootstrapListener.bind(i)}const Ii=new v.OlP("Router Initializer");let WD=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-bienvenido"]],decls:2,vars:0,template:function(r,a){1&r&&(v.TgZ(0,"p"),v._uU(1,"bienvenido works!"),v.qZA())},styles:[""]}),i})(),zD=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-busqueda"]],decls:2,vars:0,template:function(r,a){1&r&&(v.TgZ(0,"p"),v._uU(1,"busqueda works!"),v.qZA())},styles:[""]}),i})(),KD=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-alta"]],decls:2,vars:0,template:function(r,a){1&r&&(v.TgZ(0,"p"),v._uU(1,"alta works!"),v.qZA())},styles:[""]}),i})(),ZD=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-alta"]],decls:2,vars:0,template:function(r,a){1&r&&(v.TgZ(0,"p"),v._uU(1,"alta works!"),v.qZA())},styles:[""]}),i})();var Tw=k(3637),ir=k(9126);function I_(){return i=>i.lift(new YD)}class YD{call(n,r){return r.subscribe(new rt(n))}}class rt extends hi.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class Sw{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new xg(n,this.compare,this.keySelector))}}class xg extends hi.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let a=!1;if(this.hasKey)try{const{compare:l}=this;a=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}var Le,Pn=k(8939),JD=(k(670),k(4486)),de=k(8239),Qi=k(5452),Ng=k(6034),Aa=k(5601),vt=k(3854),xx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ks={},Ji=Ji||{},Qe=xx||self;function ul(){}function ff(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Rg(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Mg="closure_uid_"+(1e9*Math.random()>>>0),Nx=0;function eT(i,n,r){return i.call.apply(i.bind,arguments)}function Rx(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function Hn(i,n,r){return(Hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eT:Rx).apply(null,arguments)}function pf(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function sr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,l,h){for(var m=Array(arguments.length-2),E=2;E<arguments.length;E++)m[E-2]=arguments[E];return n.prototype[l].apply(a,m)}}function Fs(){this.s=this.s,this.o=this.o}var Ox={};Fs.prototype.s=!1,Fs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Mg)&&i[Mg]||(i[Mg]=++Nx)}(this);delete Ox[i]}},Fs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tT=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},nT=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const a=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<a;h++)h in l&&n.call(r,l[h],h,i)};function rT(i){return Array.prototype.concat.apply([],arguments)}function xw(i){const n=i.length;if(0<n){const r=Array(n);for(let a=0;a<n;a++)r[a]=i[a];return r}return[]}function b_(i){return/^[\s\xa0]*$/.test(i)}var _n,iT=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Qr(i,n){return-1!=i.indexOf(n)}function Nw(i,n){return i<n?-1:i>n?1:0}e:{var Og=Qe.navigator;if(Og){var Rw=Og.userAgent;if(Rw){_n=Rw;break e}}_n=""}function Pg(i,n,r){for(const a in i)n.call(r,i[a],a,i)}function kg(i){const n={};for(const r in i)n[r]=i[r];return n}var D_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fg(i,n){let r,a;for(let l=1;l<arguments.length;l++){for(r in a=arguments[l],a)i[r]=a[r];for(let h=0;h<D_.length;h++)r=D_[h],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function T_(i){return T_[" "](i),i}T_[" "]=ul;var Lg,i,Mw=Qr(_n,"Opera"),od=Qr(_n,"Trident")||Qr(_n,"MSIE"),sT=Qr(_n,"Edge"),gf=sT||od,Ow=Qr(_n,"Gecko")&&!(Qr(_n.toLowerCase(),"webkit")&&!Qr(_n,"Edge"))&&!(Qr(_n,"Trident")||Qr(_n,"MSIE"))&&!Qr(_n,"Edge"),Pw=Qr(_n.toLowerCase(),"webkit")&&!Qr(_n,"Edge");function kw(){var i=Qe.document;return i?i.documentMode:void 0}e:{var ll="",xa=(i=_n,Ow?/rv:([^\);]+)(\)|;)/.exec(i):sT?/Edge\/([\d\.]+)/.exec(i):od?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Pw?/WebKit\/(\S+)/.exec(i):Mw?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(xa&&(ll=xa?xa[1]:""),od){var mf=kw();if(null!=mf&&mf>parseFloat(ll)){Lg=String(mf);break e}}Lg=ll}var ad={};function yf(){return n=ad,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=iT(String(Lg)).split("."),r=iT("9").split("."),a=Math.max(n.length,r.length);for(let m=0;0==i&&m<a;m++){var l=n[m]||"",h=r[m]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=Nw(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||Nw(0==l[2].length,0==h[2].length)||Nw(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i}();var n}var Lw=Qe.document&&od&&(kw()||parseInt(Lg,10))||void 0,Vw=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Qe.addEventListener("test",ul,n),Qe.removeEventListener("test",ul,n)}catch(r){}return i}();function Gn(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function cl(i,n){if(Gn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(Ow){e:{try{T_(n.nodeName);var l=!0;break e}catch(h){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Uw[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&cl.Z.h.call(this)}}Gn.prototype.h=function(){this.defaultPrevented=!0},sr(cl,Gn);var Uw={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ra="closure_listenable_"+(1e6*Math.random()|0),oT=0;function Bw(i,n,r,a,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=l,this.key=++oT,this.ca=this.fa=!1}function A_(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function _f(i){this.src=i,this.g={},this.h=0}function Vg(i,n){var r=n.type;if(r in i.g){var h,a=i.g[r],l=tT(a,n);(h=0<=l)&&Array.prototype.splice.call(a,l,1),h&&(A_(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function S_(i,n,r,a){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==n&&h.capture==!!r&&h.ia==a)return l}return-1}_f.prototype.add=function(i,n,r,a,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var m=S_(i,n,a,l);return-1<m?(n=i[m],r||(n.fa=!1)):((n=new Bw(n,this.src,h,!!a,l)).fa=r,i.push(n)),n};var Ug="closure_lm_"+(1e6*Math.random()|0),x_={};function jw(i,n,r,a,l){if(a&&a.once)return $w(i,n,r,a,l);if(Array.isArray(n)){for(var h=0;h<n.length;h++)jw(i,n[h],r,a,l);return null}return r=Bg(r),i&&i[Ra]?i.N(n,r,Rg(a)?!!a.capture:!!a,l):Jr(i,n,r,!1,a,l)}function Jr(i,n,r,a,l,h){if(!n)throw Error("Invalid event type");var m=Rg(l)?!!l.capture:!!l,E=R_(i);if(E||(i[Ug]=E=new _f(i)),(r=E.add(n,r,a,m,h)).proxy)return r;if(a=function(){var n=kx;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)Vw||(l=m),void 0===l&&(l=!1),i.addEventListener(n.toString(),a,l);else if(i.attachEvent)i.attachEvent(N_(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function $w(i,n,r,a,l){if(Array.isArray(n)){for(var h=0;h<n.length;h++)$w(i,n[h],r,a,l);return null}return r=Bg(r),i&&i[Ra]?i.O(n,r,Rg(a)?!!a.capture:!!a,l):Jr(i,n,r,!0,a,l)}function uT(i,n,r,a,l){if(Array.isArray(n))for(var h=0;h<n.length;h++)uT(i,n[h],r,a,l);else a=Rg(a)?!!a.capture:!!a,r=Bg(r),i&&i[Ra]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=S_(h=i.g[n],r,a,l))&&(A_(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete i.g[n],i.h--))):i&&(i=R_(i))&&(n=i.g[n.toString()],i=-1,n&&(i=S_(n,r,a,l)),(r=-1<i?n[i]:null)&&Hw(r))}function Hw(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[Ra])Vg(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(N_(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=R_(n))?(Vg(r,i),0==r.h&&(r.src=null,n[Ug]=null)):A_(i)}}}function N_(i){return i in x_?x_[i]:x_[i]="on"+i}function kx(i,n){if(i.ca)i=!0;else{n=new cl(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&Hw(i),i=r.call(a,n)}return i}function R_(i){return(i=i[Ug])instanceof _f?i:null}var vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bg(i){return"function"==typeof i?i:(i[vf]||(i[vf]=function(n){return i.handleEvent(n)}),i[vf])}function qn(){Fs.call(this),this.i=new _f(this),this.P=this,this.I=null}function or(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new Gn(n,i);else if(n instanceof Gn)n.target=n.target||i;else{var l=n;Fg(n=new Gn(a,i),l)}if(l=!0,r)for(var h=r.length-1;0<=h;h--){var m=n.g=r[h];l=jg(m,a,!0,n)&&l}if(l=jg(m=n.g=i,a,!0,n)&&l,l=jg(m,a,!1,n)&&l,r)for(h=0;h<r.length;h++)l=jg(m=n.g=r[h],a,!1,n)&&l}function jg(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,h=0;h<n.length;++h){var m=n[h];if(m&&!m.ca&&m.capture==r){var E=m.listener,D=m.ia||m.src;m.fa&&Vg(i.i,m),l=!1!==E.call(D,a)&&l}}return l&&!a.defaultPrevented}sr(qn,Fs),qn.prototype[Ra]=!0,qn.prototype.removeEventListener=function(i,n,r,a){uT(this,i,n,r,a)},qn.prototype.M=function(){if(qn.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)A_(r[a]);delete i.g[n],i.h--}}this.I=null},qn.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},qn.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var $g=Qe.JSON.stringify;function lT(){var i=zw;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var M_,qw=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new cT,i=>i.reset());class cT{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ww(i){Qe.setTimeout(()=>{throw i},0)}function Hg(i,n){M_||function(){var i=Qe.Promise.resolve(void 0);M_=function(){i.then(dT)}}(),Ef||(M_(),Ef=!0),zw.add(i,n)}var Ef=!1,zw=new class{constructor(){this.h=this.g=null}add(n,r){const a=qw.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}};function dT(){for(var i;i=lT();){try{i.h.call(i.g)}catch(r){Ww(r)}var n=qw;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Ef=!1}function O_(i,n){qn.call(this),this.h=i||1,this.g=n||Qe,this.j=Hn(this.kb,this),this.l=Date.now()}function Gg(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function P_(i,n,r){if("function"==typeof i)r&&(i=Hn(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Hn(i.handleEvent,i)}return 2147483647<Number(n)?-1:Qe.setTimeout(i,n||0)}function Kw(i){i.g=P_(()=>{i.g=null,i.i&&(i.i=!1,Kw(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}sr(O_,qn),(Le=O_.prototype).da=!1,Le.S=null,Le.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),or(this,"tick"),this.da&&(Gg(this),this.start()))}},Le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Le.M=function(){O_.Z.M.call(this),Gg(this),delete this.g};class hT extends Fs{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Kw(this)}M(){super.M(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(i){Fs.call(this),this.h=i,this.g={}}sr(dl,Fs);var Zw=[];function Yw(i,n,r,a){Array.isArray(r)||(r&&(Zw[0]=r.toString()),r=Zw);for(var l=0;l<r.length;l++){var h=jw(n,r[l],a||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function wf(i){Pg(i.g,function(n,r){this.g.hasOwnProperty(r)&&Hw(n)},i),i.g={}}function ud(){this.g=!0}function Ma(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<l.length;m++)l[m]=""}}}return $g(r)}catch(E){return n}}(i,r)+(a?" "+a:"")})}dl.prototype.M=function(){dl.Z.M.call(this),wf(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ud.prototype.Aa=function(){this.g=!1},ud.prototype.info=function(){};var hl={},qg=null;function F_(){return qg=qg||new qn}function Jw(i){Gn.call(this,hl.Ma,i)}function ld(i){const n=F_();or(n,new Jw(n,i))}function L_(i,n){Gn.call(this,hl.STAT_EVENT,i),this.stat=n}function Cr(i){const n=F_();or(n,new L_(n,i))}function V_(i,n){Gn.call(this,hl.Na,i),this.size=n}function cd(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){i()},n)}hl.Ma="serverreachability",sr(Jw,Gn),hl.STAT_EVENT="statevent",sr(L_,Gn),hl.Na="timingevent",sr(V_,Gn);var bi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function U_(){}function gT(){}U_.prototype.h=null;var pl,Vs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wg(){Gn.call(this,"d")}function fl(){Gn.call(this,"c")}function zg(){}function gl(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new dl(this),this.P=mT,this.W=new O_(i=gf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new B_}function B_(){this.i=null,this.g="",this.h=!1}sr(Wg,Gn),sr(fl,Gn),sr(zg,U_),zg.prototype.g=function(){return new XMLHttpRequest},zg.prototype.i=function(){return{}},pl=new zg;var mT=45e3,Kg={},Zg={};function If(i,n,r){i.K=1,i.v=Df(ar(n)),i.s=r,i.U=!0,eC(i,null)}function eC(i,n){i.F=Date.now(),hd(i),i.A=ar(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),dC(r.h,"t",a),i.C=0,r=i.l.H,i.h=new B_,i.g=sv(i.l,r?n:null,!i.s),0<i.O&&(i.L=new hT(Hn(i.Ia,i,i.g),i.O)),Yw(i.V,i.g,"readystatechange",i.gb),n=i.H?kg(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),ld(1),function(i,n,r,a,l,h){i.info(function(){if(i.g)if(h)for(var m="",E=h.split("&"),D=0;D<E.length;D++){var S=E[D].split("=");if(1<S.length){var N=S[0];S=S[1];var M=N.split("_");m=2<=M.length&&"type"==M[1]?m+(N+"=")+S+"&":m+(N+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+n+"\n"+r+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function tC(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function j_(i,n,r){let l,a=!0;for(;!i.I&&i.C<r.length;){if(l=dd(i,r),l==Zg){4==n&&(i.o=4,Cr(14),a=!1),Ma(i.j,i.m,null,"[Incomplete Response]");break}if(l==Kg){i.o=4,Cr(15),Ma(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}Ma(i.j,i.m,l,null),$_(i,l)}tC(i)&&l!=Zg&&l!=Kg&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Cr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),La(n),n.L=!0,Cr(11))):(Ma(i.j,i.m,r,"[Invalid Chunked Response]"),ml(i),Us(i))}function dd(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?Zg:(r=Number(n.substring(r,a)),isNaN(r)?Kg:(a+=1)+r>n.length?Zg:(n=n.substr(a,r),i.C=a+r,n))}function hd(i){i.Y=Date.now()+i.P,nC(i,i.P)}function nC(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=cd(Hn(i.eb,i),n)}function Yg(i){i.B&&(Qe.clearTimeout(i.B),i.B=null)}function Us(i){0==i.l.G||i.I||bl(i.l,i)}function ml(i){Yg(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,Gg(i.W),wf(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function $_(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Af(r.i,i)))if(r.I=i.N,!i.J&&Af(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(S){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=cd(Hn(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Do(r),Fn(r)}Fa(r),Cr(18)}if(1>=wT(r.i)&&r.ka){try{r.ka()}catch(S){}r.ka=void 0}}else Va(r,11)}else if((i.J||r.g==i)&&Do(r),!b_(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){let S=l[n];if(r.U=S[0],S=S[1],2==r.G)if("c"==S[0]){r.J=S[1],r.la=S[2];const N=S[3];null!=N&&(r.ma=N,r.h.info("VER="+r.ma));const M=S[4];null!=M&&(r.za=M,r.h.info("SVER="+r.za));const B=S[5];null!=B&&"number"==typeof B&&0<B&&(r.K=a=1.5*B,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;const G=i.g;if(G){const ce=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ce){var h=a.i;!h.g&&(Qr(ce,"spdy")||Qr(ce,"quic")||Qr(ce,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(K_(h,h.h),h.h=null))}if(a.D){const Ie=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(a.sa=Ie,ln(a.F,a.D,Ie))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var m=i;if((a=r).oa=iv(a,a.H?a.la:null,a.W),m.J){Z_(a.i,m);var E=m,D=a.K;D&&E.setTimeout(D),E.B&&(Yg(E),hd(E)),a.g=m}else Cl(a);0<r.l.length&&Lr(r)}else"stop"!=S[0]&&"close"!=S[0]||Va(r,7);else 3==r.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Va(r,7):vl(r):"noop"!=S[0]&&r.j&&r.j.wa(S),r.A=0)}ld(4)}catch(S){}}function H_(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(ff(i)||"string"==typeof i)nT(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(ff(i)||"string"==typeof i){r=[];for(var a=i.length,l=0;l<a;l++)r.push(l)}else for(l in r=[],a=0,i)r[a++]=l;l=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ff(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var h=0;h<l;h++)n.call(void 0,a[h],r&&r[h],i)}}function bf(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof bf)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function G_(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];Oa(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)Oa(l,a=i.g[n])||(i.g[r++]=a,l[a]=1),n++;i.g.length=r}}function Oa(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(Le=gl.prototype).setTimeout=function(i){this.P=i},Le.gb=function(i){i=i.target;const n=this.L;n&&3==kn(i)?n.l():this.Ia(i)},Le.Ia=function(i){try{if(i==this.g)e:{const N=kn(this.g);var n=this.g.Da();const M=this.g.ba();if(!(3>N)&&(3!=N||gf||this.g&&(this.h.h||this.g.ga()||wd(this.g)))){this.I||4!=N||7==n||ld(8==n||0>=M?3:2),Yg(this);var r=this.g.ba();this.N=r;t:if(tC(this)){var a=wd(this.g);i="";var l=a.length,h=4==kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ml(this),Us(this);var m="";break t}this.h.i=new Qe.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,i+=this.h.i.decode(a[n],{stream:h&&n==l-1});a.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==r,function(i,n,r,a,l,h,m){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,N,r),this.i){if(this.$&&!this.J){t:{if(this.g){var E,D=this.g;if((E=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b_(E)){var S=E;break t}}S=null}if(!(r=S)){this.i=!1,this.o=3,Cr(12),ml(this),Us(this);break e}Ma(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$_(this,r)}this.U?(j_(this,N,m),gf&&this.i&&3==N&&(Yw(this.V,this.W,"tick",this.fb),this.W.start())):(Ma(this.j,this.m,m,null),$_(this,m)),4==N&&ml(this),this.i&&!this.I&&(4==N?bl(this.l,this):(this.i=!1,hd(this)))}else 400==r&&0<m.indexOf("Unknown SID")?(this.o=3,Cr(12)):(this.o=0,Cr(13)),ml(this),Us(this)}}}catch(N){}},Le.fb=function(){if(this.g){var i=kn(this.g),n=this.g.ga();this.C<n.length&&(Yg(this),j_(this,i,n),this.i&&4!=i&&hd(this))}},Le.cancel=function(){this.I=!0,ml(this)},Le.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(ld(3),Cr(17)),ml(this),this.o=2,Us(this)):nC(this,this.Y-i)},(Le=bf.prototype).R=function(){G_(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},Le.T=function(){return G_(this),this.g.concat()},Le.get=function(i,n){return Oa(this.h,i)?this.h[i]:n},Le.set=function(i,n){Oa(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},Le.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var l=r[a],h=this.get(l);i.call(n,h,l,this)}};var Jt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fd(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof fd){this.g=void 0!==n?n:i.g,pd(this,i.j),this.s=i.s,gd(this,i.i),W_(this,i.m),this.l=i.l,n=i.h;var r=new _d;r.i=n.i,n.g&&(r.g=new bf(n.g),r.h=n.h),rC(this,r),this.o=i.o}else i&&(r=String(i).match(Jt))?(this.g=!!n,pd(this,r[1]||"",!0),this.s=md(r[2]||""),gd(this,r[3]||"",!0),W_(this,r[4]),this.l=md(r[5]||"",!0),rC(this,r[6]||"",!0),this.o=md(r[7]||"")):(this.g=!!n,this.h=new _d(null,this.g))}function ar(i){return new fd(i)}function pd(i,n,r){i.j=r?md(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function gd(i,n,r){i.i=r?md(n,!0):n}function W_(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function rC(i,n,r){n instanceof _d?(i.h=n,function(i,n){n&&!i.j&&(Pa(i),i.i=null,i.g.forEach(function(r,a){var l=a.toLowerCase();a!=l&&(lC(this,a),dC(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Tf(n,aC)),i.h=new _d(n,i.g))}function ln(i,n,r){i.h.set(n,r)}function Df(i){return ln(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function md(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Tf(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,_T),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function _T(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}fd.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Tf(n,yd,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Tf(n,yd,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Tf(r,"/"==r.charAt(0)?oC:z_,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Tf(r,uC)),i.join("")};var yd=/[#\/\?@]/g,z_=/[#\?:]/g,oC=/[#\?]/g,aC=/[#\?@]/g,uC=/#/g;function _d(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Pa(i){i.g||(i.g=new bf,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),l=null;if(0<=a){var h=i[r].substring(0,a);l=i[r].substring(a+1)}else h=i[r];n(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function lC(i,n){Pa(i),n=yl(i,n),Oa(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Oa((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&G_(i)))}function cC(i,n){return Pa(i),n=yl(i,n),Oa(i.g.h,n)}function dC(i,n,r){lC(i,n),0<r.length&&(i.i=null,i.g.set(yl(i,n),xw(r)),i.h+=r.length)}function yl(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function fC(i){this.l=i||vT,i=Qe.PerformanceNavigationTiming?0<(i=Qe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Qe.g&&Qe.g.Ea&&Qe.g.Ea()&&Qe.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Le=_d.prototype).add=function(i,n){Pa(this),this.i=null,i=yl(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},Le.forEach=function(i,n){Pa(this),this.g.forEach(function(r,a){nT(r,function(l){i.call(n,l,a,this)},this)},this)},Le.T=function(){Pa(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var l=i[a],h=0;h<l.length;h++)r.push(n[a]);return r},Le.R=function(i){Pa(this);var n=[];if("string"==typeof i)cC(this,i)&&(n=rT(n,this.g.get(yl(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=rT(n,i[r])}return n},Le.set=function(i,n){return Pa(this),this.i=null,cC(this,i=yl(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},Le.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},Le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],l=encodeURIComponent(String(a));a=this.R(a);for(var h=0;h<a.length;h++){var m=l;""!==a[h]&&(m+="="+encodeURIComponent(String(a[h]))),i.push(m)}}return this.i=i.join("&")};var vT=10;function ET(i){return!!i.h||!!i.g&&i.g.size>=i.j}function wT(i){return i.h?1:i.g?i.g.size:0}function Af(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function K_(i,n){i.g?i.g.add(n):i.h=n}function Z_(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function Y_(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return xw(i.i)}function pC(){}function Xi(){this.g=new pC}function Lx(i,n,r){const a=r||"";try{H_(i,function(l,h){let m=l;Rg(l)&&(m=$g(l)),n.push(a+h+"="+encodeURIComponent(m))})}catch(l){throw n.push(a+"type="+encodeURIComponent("_badmap")),l}}function Q_(i,n,r,a,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(a)}catch(h){}}function vd(i){this.l=i.$b||null,this.j=i.ib||!1}function Sf(i,n){qn.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fC.prototype.cancel=function(){if(this.i=Y_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},pC.prototype.stringify=function(i){return Qe.JSON.stringify(i,void 0)},pC.prototype.parse=function(i){return Qe.JSON.parse(i,void 0)},sr(vd,U_),vd.prototype.g=function(){return new Sf(this.l,this.j)},vd.prototype.i=function(i){return function(){return i}}({}),sr(Sf,qn);var Qg=0;function gC(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Jg(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ed(i)}function Ed(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Le=Sf.prototype).open=function(i,n){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Ed(this)},Le.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||Qe).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jg(this)),this.readyState=Qg},Le.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ed(this)),this.g&&(this.readyState=3,Ed(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Qe.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gC(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Le.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?Jg(this):Ed(this),3==this.readyState&&gC(this)}},Le.Ua=function(i){this.g&&(this.response=this.responseText=i,Jg(this))},Le.Ta=function(i){this.g&&(this.response=i,Jg(this))},Le.ha=function(){this.g&&Jg(this)},Le.setRequestHeader=function(i,n){this.v.append(i,n)},Le.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var J_=Qe.JSON.parse;function An(i){qn.call(this),this.headers=new bf,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xg,this.K=this.L=!1}sr(An,qn);var Xg="",CT=/^https?$/i,IT=["POST","PUT"];function DT(i){return"content-type"==i.toLowerCase()}function mC(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,yC(i),bo(i)}function yC(i){i.D||(i.D=!0,or(i,"complete"),or(i,"error"))}function xf(i){if(i.h&&void 0!==Ji&&(!i.C[1]||4!=kn(i)||2!=i.ba()))if(i.v&&4==kn(i))P_(i.Fa,0,i);else if(or(i,"readystatechange"),4==kn(i)){i.h=!1;try{const E=i.ba();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=0===E){var l=String(i.H).match(Jt)[1]||null;if(!l&&Qe.self&&Qe.self.location){var h=Qe.self.location.protocol;l=h.substr(0,h.length-1)}a=!CT.test(l?l.toLowerCase():"")}r=a}if(r)or(i,"complete"),or(i,"success");else{i.m=6;try{var m=2<kn(i)?i.g.statusText:""}catch(D){m=""}i.j=m+" ["+i.ba()+"]",yC(i)}}finally{bo(i)}}}function bo(i,n){if(i.g){X_(i);const r=i.g,a=i.C[0]?ul:null;i.g=null,i.C=null,n||or(i,"ready");try{r.onreadystatechange=a}catch(l){}}}function X_(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Qe.clearTimeout(i.A),i.A=null)}function kn(i){return i.g?i.g.readyState:0}function wd(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Xg:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function ev(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){let n="";return Pg(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):ln(i,n,r))}function _l(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function es(i){this.za=0,this.l=[],this.h=new ud,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_l("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_l("baseRetryDelayMs",5e3,i),this.$a=_l("retryDelaySeedMs",1e4,i),this.Ya=_l("forwardChannelMaxRetries",2,i),this.ra=_l("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new fC(i&&i.concurrentRequestLimit),this.Ca=new Xi,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function vl(i){if(ka(i),3==i.G){var n=i.V++,r=ar(i.F);ln(r,"SID",i.J),ln(r,"RID",n),ln(r,"TYPE","terminate"),Bs(i,r),(n=new gl(i,i.h,n,void 0)).K=2,n.v=Df(ar(r)),r=!1,Qe.navigator&&Qe.navigator.sendBeacon&&(r=Qe.navigator.sendBeacon(n.v.toString(),"")),!r&&Qe.Image&&((new Image).src=n.v,r=!0),r||(n.g=sv(n.l,null),n.g.ea(n.v)),n.F=Date.now(),hd(n)}rv(i)}function Fn(i){i.g&&(La(i),i.g.cancel(),i.g=null)}function ka(i){Fn(i),i.u&&(Qe.clearTimeout(i.u),i.u=null),Do(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Qe.clearTimeout(i.m),i.m=null)}function Cd(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&Lr(i)}function Lr(i){ET(i.i)||i.m||(i.m=!0,Hg(i.Ha,i),i.C=0)}function El(i,n){var r;r=n?n.m:i.V++;const a=ar(i.F);ln(a,"SID",i.J),ln(a,"RID",r),ln(a,"AID",i.U),Bs(i,a),i.o&&i.s&&ev(a,i.o,i.s),r=new gl(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=wl(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),K_(i.i,r),If(r,a,n)}function Bs(i,n){i.j&&H_({},function(r,a){ln(n,a,r)})}function wl(i,n,r){r=Math.min(i.l.length,r);var a=i.j?Hn(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const m=["count="+r];-1==h?0<r?(h=l[0].h,m.push("ofs="+h)):h=0:m.push("ofs="+h);let E=!0;for(let D=0;D<r;D++){let S=l[D].h;const N=l[D].g;if(S-=h,0>S)h=Math.max(0,l[D].h-100),E=!1;else try{Lx(N,m,"req"+S+"_")}catch(M){a&&a(N)}}if(E){a=m.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,a}function Cl(i){i.g||i.u||(i.Y=1,Hg(i.Ga,i),i.A=0)}function Fa(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=cd(Hn(i.Ga,i),nv(i,i.A)),i.A++,0))}function La(i){null!=i.B&&(Qe.clearTimeout(i.B),i.B=null)}function Il(i){i.g=new gl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=ar(i.oa);ln(n,"RID","rpc"),ln(n,"SID",i.J),ln(n,"CI",i.N?"0":"1"),ln(n,"AID",i.U),Bs(i,n),ln(n,"TYPE","xmlhttp"),i.o&&i.s&&ev(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Df(ar(n)),r.s=null,r.U=!0,eC(r,i)}function Do(i){null!=i.v&&(Qe.clearTimeout(i.v),i.v=null)}function bl(i,n){var r=null;if(i.g==n){Do(i),La(i),i.g=null;var a=2}else{if(!Af(i.i,n))return;r=n.D,Z_(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;or(a=F_(),new V_(a,r,n,l)),Lr(i)}else Cl(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==a&&function(i,n){return!(wT(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=cd(Hn(i.Ha,i,n),nv(i,i.C)),i.C++,0)))}(i,n)||2==a&&Fa(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:Va(i,5);break;case 4:Va(i,10);break;case 3:Va(i,6);break;default:Va(i,2)}}function nv(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Va(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=Hn(i.jb,i);r||(r=new fd("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||pd(r,"https"),Df(r)),function(i,n){const r=new ud;if(Qe.Image){const a=new Image;a.onload=pf(Q_,r,a,"TestLoadImage: loaded",!0,n),a.onerror=pf(Q_,r,a,"TestLoadImage: error",!1,n),a.onabort=pf(Q_,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=pf(Q_,r,a,"TestLoadImage: timeout",!1,n),Qe.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Cr(2);i.G=0,i.j&&i.j.va(n),rv(i),ka(i)}function rv(i){i.G=0,i.I=-1,i.j&&((0!=Y_(i.i).length||0!=i.l.length)&&(i.i.i.length=0,xw(i.l),i.l.length=0),i.j.ua())}function iv(i,n,r){let a=function(i){return i instanceof fd?ar(i):new fd(i,void 0)}(r);if(""!=a.i)n&&gd(a,n+"."+a.i),W_(a,a.m);else{const l=Qe.location;a=function(i,n,r,a){var l=new fd(null,void 0);return i&&pd(l,i),n&&gd(l,n),r&&W_(l,r),a&&(l.l=a),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&Pg(i.aa,function(l,h){ln(a,h,l)}),r=i.sa,(n=i.D)&&r&&ln(a,n,r),ln(a,"VER",i.ma),Bs(i,a),a}function sv(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new An(r&&i.Ba&&!i.qa?new vd({ib:!0}):i.qa)).L=i.H,n}function ov(){}function Nf(){if(od&&!(10<=Number(Lw)))throw Error("Environmental error: no available transport.")}function Xr(i,n){qn.call(this),this.g=new es(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!b_(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!b_(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Dl(this)}function av(i){Wg.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function _C(){fl.call(this),this.status=1}function Dl(i){this.g=i}(Le=An.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pl.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:pl),this.g.onreadystatechange=Hn(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(h){return void mC(this,h)}i=r||"";const l=new bf(this.headers);a&&H_(a,function(h,m){l.set(m,h)}),a=function(i){e:{var n=DT;const r=i.length,a="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in a&&n.call(void 0,a[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=Qe.FormData&&i instanceof Qe.FormData,!(0<=tT(IT,n))||a||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{X_(this),0<this.B&&((this.K=function(i){return od&&yf()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hn(this.pa,this)):this.A=P_(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){mC(this,h)}},Le.pa=function(){void 0!==Ji&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},Le.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,or(this,"complete"),or(this,"abort"),bo(this))},Le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bo(this,!0)),An.Z.M.call(this)},Le.Fa=function(){this.s||(this.F||this.v||this.l?xf(this):this.cb())},Le.cb=function(){xf(this)},Le.ba=function(){try{return 2<kn(this)?this.g.status:-1}catch(i){return-1}},Le.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Le.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),J_(n)}},Le.Da=function(){return this.m},Le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Le=es.prototype).ma=8,Le.G=1,Le.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},Le.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new gl(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=kg(h),Fg(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var a=this.l[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=wl(this,l,n),ln(r=ar(this.F),"RID",i),ln(r,"CVER",22),this.D&&ln(r,"X-HTTP-Session-Id",this.D),Bs(this,r),this.o&&h&&ev(r,this.o,h),K_(this.i,l),this.Ra&&ln(r,"TYPE","init"),this.ja?(ln(r,"$req",n),ln(r,"SID","null"),l.$=!0,If(l,r,null)):If(l,r,n),this.G=2}}else 3==this.G&&(i?El(this,i):0==this.l.length||ET(this.i)||El(this))},Le.Ga=function(){if(this.u=null,Il(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=cd(Hn(this.bb,this),i)}},Le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cr(10),Fn(this),Il(this))},Le.ab=function(){null!=this.v&&(this.v=null,Fn(this),Fa(this),Cr(19))},Le.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Cr(2)):(this.h.info("Failed to ping google.com"),Cr(1))},(Le=ov.prototype).xa=function(){},Le.wa=function(){},Le.va=function(){},Le.ua=function(){},Le.Oa=function(){},Nf.prototype.g=function(i,n){return new Xr(i,n)},sr(Xr,qn),Xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Hg(Hn(i.hb,i,n))),Cr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=iv(i,null,i.W),Lr(i)},Xr.prototype.close=function(){vl(this.g)},Xr.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Cd(this.g,n)}else this.v?((n={}).__data__=$g(i),Cd(this.g,n)):Cd(this.g,i)},Xr.prototype.M=function(){this.g.j=null,delete this.j,vl(this.g),delete this.g,Xr.Z.M.call(this)},sr(av,Wg),sr(_C,fl),sr(Dl,ov),Dl.prototype.xa=function(){or(this.g,"a")},Dl.prototype.wa=function(i){or(this.g,new av(i))},Dl.prototype.va=function(i){or(this.g,new _C(i))},Dl.prototype.ua=function(){or(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Cf.COMPLETE="complete",gT.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",qn.prototype.listen=qn.prototype.N,An.prototype.listenOnce=An.prototype.O,An.prototype.getLastError=An.prototype.La,An.prototype.getLastErrorCode=An.prototype.Da,An.prototype.getStatus=An.prototype.ba,An.prototype.getResponseJson=An.prototype.Qa,An.prototype.getResponseText=An.prototype.ga,An.prototype.send=An.prototype.ea;var AT=ks.createWebChannelTransport=function(){return new Nf},ST=ks.getStatEventTarget=function(){return F_()},em=ks.ErrorCode=bi,xT=ks.EventType=Cf,Ux=ks.Event=hl,vC=ks.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},EC=ks.FetchXmlHttpFactory=vd,tm=ks.WebChannel=gT,wC=ks.XhrIo=An;class ur{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let Id="9.1.0";const Tl=new Aa.Yd("@firebase/firestore");function uv(){return Tl.logLevel}function De(i,...n){if(Tl.logLevel<=Aa.in.DEBUG){const r=n.map(lv);Tl.debug(`Firestore (${Id}): ${i}`,...r)}}function Ln(i,...n){if(Tl.logLevel<=Aa.in.ERROR){const r=n.map(lv);Tl.error(`Firestore (${Id}): ${i}`,...r)}}function nm(i,...n){if(Tl.logLevel<=Aa.in.WARN){const r=n.map(lv);Tl.warn(`Firestore (${Id}): ${i}`,...r)}}function lv(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function He(i="Unexpected state"){const n=`FIRESTORE (${Id}) INTERNAL ASSERTION FAILED: `+i;throw Ln(n),new Error(n)}function Je(i,n){i||He()}function Ae(i,n){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class RT{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class Bx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(ur.UNAUTHENTICATED))}shutdown(){}}class MT{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class IC{constructor(n){this.t=n,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let l=this.i;const h=S=>this.i!==l?(l=this.i,r(S)):Promise.resolve();let m=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new lr,n.enqueueRetryable(()=>h(this.currentUser))};const E=()=>{const S=m;n.enqueueRetryable((0,de.Z)(function*(){yield S.promise,yield h(a.currentUser)}))},D=S=>{De("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(S=>D(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?D(S):(De("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new lr)}},0),E()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(De("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je("string"==typeof a.accessToken),new RT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Je(null===n||"string"==typeof n),new ur(n)}}class jx{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=ur.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class OT{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new jx(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wn{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function PT(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}Wn.T=-1;class cv{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const l=PT(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<r&&(a+=n.charAt(l[h]%n.length))}return a}}function yt(i,n){return i<n?-1:i>n?1:0}function Al(i,n,r){return i.length===n.length&&i.every((a,l)=>r(a,n[l]))}function Rf(i){return i+"\0"}class zn{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ve(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ve(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return zn.fromMillis(Date.now())}static fromDate(n){return zn.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new zn(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?yt(this.nanoseconds,n.nanoseconds):yt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ut{constructor(n){this.timestamp=n}static fromTimestamp(n){return new ut(n)}static min(){return new ut(new zn(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function bC(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Sl(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function DC(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Mf{constructor(n,r,a){void 0===r?r=0:r>n.length&&He(),void 0===a?a=n.length-r:a>n.length-r&&He(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===Mf.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Mf?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let l=0;l<a;l++){const h=n.get(l),m=r.get(l);if(h<m)return-1;if(h>m)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class At extends Mf{construct(n,r,a){return new At(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new At(r)}static emptyPath(){return new At([])}}const TC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Mf{construct(n,r,a){return new cr(n,r,a)}static isValidIdentifier(n){return TC.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(n){const r=[];let a="",l=0;const h=()=>{if(0===a.length)throw new ve(ne.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let m=!1;for(;l<n.length;){const E=n[l];if("\\"===E){if(l+1===n.length)throw new ve(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const D=n[l+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new ve(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=D,l+=2}else"`"===E?(m=!m,l++):"."!==E||m?(a+=E,l++):(h(),l++)}if(h(),m)throw new ve(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new cr(r)}static emptyPath(){return new cr([])}}class xl{constructor(n){this.fields=n,n.sort(cr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Al(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class Sn{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Sn(r)}static fromUint8Array(n){const r=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(n);return new Sn(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return yt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const $x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(i){if(Je(!!i),"string"==typeof i){let n=0;const r=$x.exec(i);if(Je(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:xn(i.seconds),nanos:xn(i.nanos)}}function xn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Of(i){return"string"==typeof i?Sn.fromBase64String(i):Sn.fromUint8Array(i)}function Nl(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function SC(i){const n=i.mapValue.fields.__previous_value__;return Nl(n)?SC(n):n}function Rl(i){const n=js(i.mapValue.fields.__local_write_time__.timestampValue);return new zn(n.seconds,n.nanos)}function To(i){return null==i}function rm(i){return 0===i&&1/i==-1/0}function im(i){return"number"==typeof i&&Number.isInteger(i)&&!rm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ue{constructor(n){this.path=n}static fromPath(n){return new Ue(At.fromString(n))}static fromName(n){return new Ue(At.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===At.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return At.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ue(new At(n.slice()))}}function Ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nl(i)?4:10:He()}function Ao(i,n){const r=Ua(i);if(r!==Ua(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Rl(i).isEqual(Rl(n));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=js(a.timestampValue),m=js(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,Of(i.bytesValue).isEqual(Of(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,l){return xn(a.geoPointValue.latitude)===xn(l.geoPointValue.latitude)&&xn(a.geoPointValue.longitude)===xn(l.geoPointValue.longitude)}(i,n);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return xn(a.integerValue)===xn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=xn(a.doubleValue),m=xn(l.doubleValue);return h===m?rm(h)===rm(m):isNaN(h)&&isNaN(m)}return!1}(i,n);case 9:return Al(i.arrayValue.values||[],n.arrayValue.values||[],Ao);case 10:return function(a,l){const h=a.mapValue.fields||{},m=l.mapValue.fields||{};if(bC(h)!==bC(m))return!1;for(const E in h)if(h.hasOwnProperty(E)&&(void 0===m[E]||!Ao(h[E],m[E])))return!1;return!0}(i,n);default:return He()}var l}function Pf(i,n){return void 0!==(i.values||[]).find(r=>Ao(r,n))}function Ml(i,n){const r=Ua(i),a=Ua(n);if(r!==a)return yt(r,a);switch(r){case 0:return 0;case 1:return yt(i.booleanValue,n.booleanValue);case 2:return function(l,h){const m=xn(l.integerValue||l.doubleValue),E=xn(h.integerValue||h.doubleValue);return m<E?-1:m>E?1:m===E?0:isNaN(m)?isNaN(E)?0:-1:1}(i,n);case 3:return dv(i.timestampValue,n.timestampValue);case 4:return dv(Rl(i),Rl(n));case 5:return yt(i.stringValue,n.stringValue);case 6:return function(l,h){const m=Of(l),E=Of(h);return m.compareTo(E)}(i.bytesValue,n.bytesValue);case 7:return function(l,h){const m=l.split("/"),E=h.split("/");for(let D=0;D<m.length&&D<E.length;D++){const S=yt(m[D],E[D]);if(0!==S)return S}return yt(m.length,E.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,h){const m=yt(xn(l.latitude),xn(h.latitude));return 0!==m?m:yt(xn(l.longitude),xn(h.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,h){const m=l.values||[],E=h.values||[];for(let D=0;D<m.length&&D<E.length;++D){const S=Ml(m[D],E[D]);if(S)return S}return yt(m.length,E.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,h){const m=l.fields||{},E=Object.keys(m),D=h.fields||{},S=Object.keys(D);E.sort(),S.sort();for(let N=0;N<E.length&&N<S.length;++N){const M=yt(E[N],S[N]);if(0!==M)return M;const B=Ml(m[E[N]],D[S[N]]);if(0!==B)return B}return yt(E.length,S.length)}(i.mapValue,n.mapValue);default:throw He()}}function dv(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return yt(i,n);const r=js(i),a=js(n),l=yt(r.seconds,a.seconds);return 0!==l?l:yt(r.nanos,a.nanos)}function hv(i){return fv(i)}function fv(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const l=js(a);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Of(i.bytesValue).toBase64():"referenceValue"in i?Ue.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let l="[",h=!0;for(const m of a.values||[])h?h=!1:l+=",",l+=fv(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(a){const l=Object.keys(a.fields||{}).sort();let h="{",m=!0;for(const E of l)m?m=!1:h+=",",h+=`${E}:${fv(a.fields[E])}`;return h+"}"}(i.mapValue):He();var n}function bd(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function sm(i){return!!i&&"integerValue"in i}function kf(i){return!!i&&"arrayValue"in i}function om(i){return!!i&&"nullValue"in i}function pv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function am(i){return!!i&&"mapValue"in i}function Dd(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Sl(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=Dd(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dd(i.arrayValue.values[r]);return n}return Object.assign({},i)}class dr{constructor(n){this.value=n}static empty(){return new dr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!am(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Dd(r)}setAll(n){let r=cr.emptyPath(),a={},l=[];n.forEach((m,E)=>{if(!r.isImmediateParentOf(E)){const D=this.getFieldsMap(r);this.applyChanges(D,a,l),a={},l=[],r=E.popLast()}m?a[E.lastSegment()]=Dd(m):l.push(E.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,l)}delete(n){const r=this.field(n.popLast());am(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Ao(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=r.mapValue.fields[n.get(a)];am(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,a){Sl(r,(l,h)=>n[l]=h);for(const l of a)delete n[l]}clone(){return new dr(Dd(this.value))}}function um(i){const n=[];return Sl(i.fields,(r,a)=>{const l=new cr([r]);if(am(a)){const h=um(a.mapValue).fields;if(0===h.length)n.push(l);else for(const m of h)n.push(l.child(m))}else n.push(l)}),new xl(n)}class cn{constructor(n,r,a,l,h){this.key=n,this.documentType=r,this.version=a,this.data=l,this.documentState=h}static newInvalidDocument(n){return new cn(n,0,ut.min(),dr.empty(),0)}static newFoundDocument(n,r,a){return new cn(n,1,r,a,0)}static newNoDocument(n,r){return new cn(n,2,r,dr.empty(),0)}static newUnknownDocument(n,r){return new cn(n,3,r,dr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof cn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new cn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kT{constructor(n,r=null,a=[],l=[],h=null,m=null,E=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=E,this.A=null}}function xC(i,n=null,r=[],a=[],l=null,h=null,m=null){return new kT(i,n,r,a,l,h,m)}function Ff(i){const n=Ae(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+hv(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),To(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=lm(n.startAt)),n.endAt&&(r+="|ub:",r+=lm(n.endAt)),n.A=r}return n.A}function Td(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!FC(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(a=n.filters[l]).op||!r.field.isEqual(a.field)||!Ao(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!VC(i.startAt,n.startAt)&&VC(i.endAt,n.endAt)}function Lf(i){return Ue.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ir extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new MC(n,r,a):"array-contains"===r?new kC(n,a):"in"===r?new Hx(n,a):"not-in"===r?new FT(n,a):"array-contains-any"===r?new LT(n,a):new Ir(n,r,a)}static R(n,r,a){return"in"===r?new OC(n,a):new PC(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Ml(r,this.value)):null!==r&&Ua(this.value)===Ua(r)&&this.P(Ml(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return He()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MC extends Ir{constructor(n,r,a){super(n,r,a),this.key=Ue.fromName(a.referenceValue)}matches(n){const r=Ue.comparator(n.key,this.key);return this.P(r)}}class OC extends Ir{constructor(n,r){super(n,"in",r),this.keys=gv(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class PC extends Ir{constructor(n,r){super(n,"not-in",r),this.keys=gv(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function gv(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ue.fromName(a.referenceValue))}class kC extends Ir{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return kf(r)&&Pf(r.arrayValue,this.value)}}class Hx extends Ir{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&Pf(this.value.arrayValue,r)}}class FT extends Ir{constructor(n,r){super(n,"not-in",r)}matches(n){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!Pf(this.value.arrayValue,r)}}class LT extends Ir{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!kf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Pf(this.value.arrayValue,a))}}class Ad{constructor(n,r){this.position=n,this.before=r}}function lm(i){return`${i.before?"b":"a"}:${i.position.map(n=>hv(n)).join(",")}`}class dn{constructor(n,r="asc"){this.field=n,this.dir=r}}function FC(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function LC(i,n,r){let a=0;for(let l=0;l<i.position.length;l++){const h=n[l],m=i.position[l];if(a=h.field.isKeyField()?Ue.comparator(Ue.fromName(m.referenceValue),r.key):Ml(m,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function VC(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Ao(i.position[r],n.position[r]))return!1;return!0}class $s{constructor(n,r=null,a=[],l=[],h=null,m="F",E=null,D=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=E,this.endAt=D,this.V=null,this.S=null}}function UC(i,n,r,a,l,h,m,E){return new $s(i,n,r,a,l,h,m,E)}function Ol(i){return new $s(i)}function Vf(i){return!To(i.limit)&&"F"===i.limitType}function So(i){return!To(i.limit)&&"L"===i.limitType}function mv(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function yv(i){for(const n of i.filters)if(n.v())return n.field;return null}function cm(i){return null!==i.collectionGroup}function Sd(i){const n=Ae(i);if(null===n.V){n.V=[];const r=yv(n),a=mv(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new dn(r)),n.V.push(new dn(cr.keyField(),"asc"));else{let l=!1;for(const h of n.explicitOrderBy)n.V.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new dn(cr.keyField(),h))}}}return n.V}function pi(i){const n=Ae(i);if(!n.S)if("F"===n.limitType)n.S=xC(n.path,n.collectionGroup,Sd(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const h of Sd(n))r.push(new dn(h.field,"desc"===h.dir?"asc":"desc"));const a=n.endAt?new Ad(n.endAt.position,!n.endAt.before):null,l=n.startAt?new Ad(n.startAt.position,!n.startAt.before):null;n.S=xC(n.path,n.collectionGroup,r,n.filters,n.limit,a,l)}return n.S}function VT(i,n,r){return new $s(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function xd(i,n){return Td(pi(i),pi(n))&&i.limitType===n.limitType}function dm(i){return`${Ff(pi(i))}|lt:${i.limitType}`}function Di(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${hv(a.value)}`;var a}).join(", ")}]`),To(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+lm(i.startAt)),i.endAt&&(n+=", endAt: "+lm(i.endAt)),`Target(${n})`}(pi(i))}; limitType=${i.limitType})`}function Uf(i,n){return n.isFoundDocument()&&function(r,a){const l=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ue.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,a){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(i,n)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!LC(r.startAt,Sd(r),a)||r.endAt&&LC(r.endAt,Sd(r),a)));var r,a}function BC(i){return(n,r)=>{let a=!1;for(const l of Sd(i)){const h=Hs(l,n,r);if(0!==h)return h;a=a||l.field.isKeyField()}return 0}}function Hs(i,n,r){const a=i.field.isKeyField()?Ue.comparator(n.key,r.key):function(l,h,m){const E=h.data.field(l),D=m.data.field(l);return null!==E&&null!==D?Ml(E,D):He()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return He()}}function Ti(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rm(n)?"-0":n}}function Ai(i){return{integerValue:""+i}}function _v(i,n){return im(n)?Ai(n):Ti(i,n)}class Bf{constructor(){this._=void 0}}function UT(i,n,r){return i instanceof Nd?function(a,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(r,n):i instanceof xo?Rd(i,n):i instanceof Pl?vv(i,n):function(a,l){const h=jC(a,l),m=Ev(h)+Ev(a.C);return sm(h)&&sm(a.C)?Ai(m):Ti(a.N,m)}(i,n)}function BT(i,n,r){return i instanceof xo?Rd(i,n):i instanceof Pl?vv(i,n):r}function jC(i,n){return i instanceof Md?sm(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class Nd extends Bf{}class xo extends Bf{constructor(n){super(),this.elements=n}}function Rd(i,n){const r=wv(n);for(const a of i.elements)r.some(l=>Ao(l,a))||r.push(a);return{arrayValue:{values:r}}}class Pl extends Bf{constructor(n){super(),this.elements=n}}function vv(i,n){let r=wv(n);for(const a of i.elements)r=r.filter(l=>!Ao(l,a));return{arrayValue:{values:r}}}class Md extends Bf{constructor(n,r){super(),this.N=n,this.C=r}}function Ev(i){return xn(i.integerValue||i.doubleValue)}function wv(i){return kf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ba{constructor(n,r){this.field=n,this.transform=r}}class $C{constructor(n,r){this.version=n,this.transformResults=r}}class Cn{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new Cn}static exists(n){return new Cn(void 0,n)}static updateTime(n){return new Cn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Od(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class Pd{}function HC(i,n,r){i instanceof kd?function(a,l,h){const m=a.value.clone(),E=qC(a.fieldTransforms,l,h.transformResults);m.setAll(E),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,n,r):i instanceof No?function(a,l,h){if(!Od(a.precondition,l))return void l.convertToUnknownDocument(h.version);const m=qC(a.fieldTransforms,l,h.transformResults),E=l.data;E.setAll(bv(a)),E.setAll(m),l.convertToFoundDocument(h.version,E).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function hm(i,n,r){var l;i instanceof kd?function(a,l,h){if(!Od(a.precondition,l))return;const m=a.value.clone(),E=WC(a.fieldTransforms,h,l);m.setAll(E),l.convertToFoundDocument(Iv(l),m).setHasLocalMutations()}(i,n,r):i instanceof No?function(a,l,h){if(!Od(a.precondition,l))return;const m=WC(a.fieldTransforms,h,l),E=l.data;E.setAll(bv(a)),E.setAll(m),l.convertToFoundDocument(Iv(l),E).setHasLocalMutations()}(i,n,r):Od(i.precondition,l=n)&&l.convertToNoDocument(ut.min())}function GC(i,n){let r=null;for(const a of i.fieldTransforms){const l=n.data.field(a.field),h=jC(a.transform,l||null);null!=h&&(null==r&&(r=dr.empty()),r.set(a.field,h))}return r||null}function Cv(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&Al(r,a,(l,h)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof xo&&a instanceof xo||r instanceof Pl&&a instanceof Pl?Al(r.elements,a.elements,Ao):r instanceof Md&&a instanceof Md?Ao(r.C,a.C):r instanceof Nd&&a instanceof Nd);var r,a}(l,h))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function Iv(i){return i.isFoundDocument()?i.version:ut.min()}class kd extends Pd{constructor(n,r,a,l=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}}class No extends Pd{constructor(n,r,a,l,h=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}}function bv(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function qC(i,n,r){const a=new Map;Je(i.length===r.length);for(let l=0;l<r.length;l++){const h=i[l],m=h.transform,E=n.data.field(h.field);a.set(h.field,BT(m,E,r[l]))}return a}function WC(i,n,r){const a=new Map;for(const l of i){const h=l.transform,m=r.data.field(l.field);a.set(l.field,UT(h,m,n))}return a}class jf extends Pd{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Dv extends Pd{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class $T{constructor(n){this.count=n}}var Nn,Et;function zC(i){switch(i){case ne.OK:return He();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return He()}}function KC(i){if(void 0===i)return Ln("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Nn.OK:return ne.OK;case Nn.CANCELLED:return ne.CANCELLED;case Nn.UNKNOWN:return ne.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return ne.INTERNAL;case Nn.UNAVAILABLE:return ne.UNAVAILABLE;case Nn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nn.NOT_FOUND:return ne.NOT_FOUND;case Nn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nn.ABORTED:return ne.ABORTED;case Nn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nn.DATA_LOSS:return ne.DATA_LOSS;default:return He()}}(Et=Nn||(Nn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";class Vn{constructor(n,r){this.comparator=n,this.root=r||hr.EMPTY}insert(n,r){return new Vn(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(n){return new Vn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,hr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(0===l)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new fm(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new fm(this.root,n,this.comparator,!1)}getReverseIterator(){return new fm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new fm(this.root,n,this.comparator,!0)}}class fm{constructor(n,r,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=r?a(n.key,r):1,l&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class hr{constructor(n,r,a,l,h){this.key=n,this.value=r,this.color=null!=a?a:hr.RED,this.left=null!=l?l:hr.EMPTY,this.right=null!=h?h:hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,l,h){return new hr(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let l=this;const h=a(n,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(n,r,a),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return hr.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const n=this.left.check();if(n!==this.right.check())throw He();return n+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1,hr.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(i,n,r,a,l){return this}insert(i,n,r){return new hr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(n){this.comparator=n,this.data=new Vn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new ZC(this.data.getIterator())}getIteratorFrom(n){return new ZC(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof vn)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new vn(this.comparator);return r.data=n,r}}class ZC{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const HT=new Vn(Ue.comparator);function Si(){return HT}const GT=new Vn(Ue.comparator);function Tv(){return GT}const YC=new Vn(Ue.comparator);function Av(){return YC}const QC=new vn(Ue.comparator);function xt(...i){let n=QC;for(const r of i)n=n.add(r);return n}const JC=new vn(yt);function $f(){return JC}class Fd{constructor(n,r,a,l,h){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,Ld.createSynthesizedTargetChangeForCurrentChange(n,r)),new Fd(ut.min(),a,$f(),Si(),xt())}}class Ld{constructor(n,r,a,l,h){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Ld(Sn.EMPTY_BYTE_STRING,r,xt(),xt(),xt())}}class Hf{constructor(n,r,a,l){this.k=n,this.removedTargetIds=r,this.key=a,this.$=l}}class pm{constructor(n,r){this.targetId=n,this.O=r}}class Sv{constructor(n,r,a=Sn.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=l}}class ja{constructor(){this.F=0,this.M=kl(),this.L=Sn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=xt(),r=xt(),a=xt();return this.M.forEach((l,h)=>{switch(h){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:He()}}),new Ld(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=kl()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class qT{constructor(n){this.tt=n,this.et=new Map,this.nt=Si(),this.st=XC(),this.it=new vn(yt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:He()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,a=n.O.count,l=this.dt(r);if(l){const h=l.target;if(Lf(h))if(0===a){const m=new Ue(h.path);this.at(r,m,cn.newNoDocument(m,ut.min()))}else Je(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((h,m)=>{const E=this.dt(m);if(E){if(h.current&&Lf(E.target)){const D=new Ue(E.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,cn.newNoDocument(D,n))}h.K&&(r.set(m,h.W()),h.G())}});let a=xt();this.st.forEach((h,m)=>{let E=!0;m.forEachWhile(D=>{const S=this.dt(D);return!S||2===S.purpose||(E=!1,!1)}),E&&(a=a.add(h))});const l=new Fd(n,r,this.it,this.nt,a);return this.nt=Si(),this.st=XC(),this.it=new vn(yt),l}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new ja,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new vn(yt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||De("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new ja),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function XC(){return new Vn(Ue.comparator)}function kl(){return new Vn(Ue.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},xv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qx{constructor(n,r){this.databaseId=n,this.D=r}}function Vd(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Nv(i,n){return i.D?n.toBase64():n.toUint8Array()}function Wx(i,n){return Vd(i,n.toTimestamp())}function Pe(i){return Je(!!i),ut.fromTimestamp(function(n){const r=js(n);return new zn(r.seconds,r.nanos)}(i))}function Rv(i,n){return(r=i,new At(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function eI(i){const n=At.fromString(i);return Je(Bd(n)),n}function Gf(i,n){return Rv(i.databaseId,n.path)}function gi(i,n){const r=eI(n);if(r.get(1)!==i.databaseId.projectId)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ve(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Ue(mn(r))}function Mv(i,n){return Rv(i.databaseId,n)}function qf(i){const n=eI(i);return 4===n.length?At.emptyPath():mn(n)}function $a(i){return new At(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mn(i){return Je(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function WT(i,n,r){return{name:Gf(i,n),fields:r.value.mapValue.fields}}function Ov(i,n,r){const a=gi(i,n.name),l=Pe(n.updateTime),h=new dr({mapValue:{fields:n.fields}}),m=cn.newFoundDocument(a,l,h);return r&&m.setHasCommittedMutations(),r?m.setHasCommittedMutations():m}function Wf(i,n){let r;if(n instanceof kd)r={update:WT(i,n.key,n.value)};else if(n instanceof jf)r={delete:Gf(i,n.key)};else if(n instanceof No)r={update:WT(i,n.key,n.data),updateMask:zf(n.fieldMask)};else{if(!(n instanceof Dv))return He();r={verify:Gf(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(l,h){const m=h.transform;if(m instanceof Nd)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Pl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Md)return{fieldPath:h.field.canonicalString(),increment:m.C};throw He()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:Wx(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:He()),r;var l}function kv(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?Cn.updateTime(Pe(l.updateTime)):void 0!==l.exists?Cn.exists(l.exists):Cn.none():Cn.none(),a=n.updateTransforms?n.updateTransforms.map(l=>function(h,m){let E=null;"setToServerValue"in m?(Je("REQUEST_TIME"===m.setToServerValue),E=new Nd):"appendMissingElements"in m?E=new xo(m.appendMissingElements.values||[]):"removeAllFromArray"in m?E=new Pl(m.removeAllFromArray.values||[]):"increment"in m?E=new Md(h,m.increment):He();const D=cr.fromServerFormat(m.fieldPath);return new Ba(D,E)}(i,l)):[];var l;if(n.update){const l=gi(i,n.update.name),h=new dr({mapValue:{fields:n.update.fields}});if(n.updateMask){const m=new xl((n.updateMask.fieldPaths||[]).map(S=>cr.fromServerFormat(S)));return new No(l,h,m,r,a)}return new kd(l,h,r,a)}if(n.delete){const l=gi(i,n.delete);return new jf(l,r)}if(n.verify){const l=gi(i,n.verify);return new Dv(l,r)}return He()}function Fv(i,n){return{documents:[Mv(i,n.path)]}}function nI(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=Mv(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Mv(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(E){if(0===E.length)return;const D=E.map(S=>function(N){if("=="===N.op){if(pv(N.value))return{unaryFilter:{field:Fl(N.field),op:"IS_NAN"}};if(om(N.value))return{unaryFilter:{field:Fl(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(pv(N.value))return{unaryFilter:{field:Fl(N.field),op:"IS_NOT_NAN"}};if(om(N.value))return{unaryFilter:{field:Fl(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(N.field),op:gm(N.op),value:N.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(n.filters);l&&(r.structuredQuery.where=l);const h=function(E){if(0!==E.length)return E.map(D=>{return{field:Fl((S=D).field),direction:ZT(S.dir)};var S})}(n.orderBy);h&&(r.structuredQuery.orderBy=h);const m=(D=n.limit,i.D||To(D)?D:{value:D});var D;return null!==m&&(r.structuredQuery.limit=m),n.startAt&&(r.structuredQuery.startAt=iI(n.startAt)),n.endAt&&(r.structuredQuery.endAt=iI(n.endAt)),r}function rI(i){let n=qf(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Je(1===a);const N=r.from[0];N.allDescendants?l=N.collectionId:n=n.child(N.collectionId)}let h=[];r.where&&(h=Ud(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(N=>{return new dn(Ll((M=N).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let E=null;r.limit&&(E=function(N){let M;return M="object"==typeof N?N.value:N,To(M)?null:M}(r.limit));let D=null;r.startAt&&(D=sI(r.startAt));let S=null;return r.endAt&&(S=sI(r.endAt)),UC(n,l,m,h,E,"F",D,S)}function Ud(i){return i?void 0!==i.unaryFilter?[YT(i)]:void 0!==i.fieldFilter?[oI(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>Ud(n)).reduce((n,r)=>n.concat(r)):He():[]}function iI(i){return{before:i.before,values:i.position}}function sI(i){return new Ad(i.values||[],!!i.before)}function ZT(i){return Gx[i]}function gm(i){return xv[i]}function Fl(i){return{fieldPath:i.canonicalString()}}function Ll(i){return cr.fromServerFormat(i.fieldPath)}function oI(i){return Ir.create(Ll(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return He()}}(i.fieldFilter.op),i.fieldFilter.value)}function YT(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Ll(i.unaryFilter.field);return Ir.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ll(i.unaryFilter.field);return Ir.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ll(i.unaryFilter.field);return Ir.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ll(i.unaryFilter.field);return Ir.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return He()}}function zf(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function Bd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ts(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=aI(n)),n=QT(i.get(r),n);return aI(n)}function QT(i,n){let r=n;const a=i.length;for(let l=0;l<a;l++){const h=i.charAt(l);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function aI(i){return i+"\x01\x01"}function Gs(i){const n=i.length;if(Je(n>=2),2===n)return Je("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),At.emptyPath();const r=n-2,a=[];let l="";for(let h=0;h<n;){const m=i.indexOf("\x01",h);switch((m<0||m>r)&&He(),i.charAt(m+1)){case"\x01":const E=i.substring(h,m);let D;0===l.length?D=E:(l+=E,D=l,l=""),a.push(D);break;case"\x10":l+=i.substring(h,m),l+="\0";break;case"\x11":l+=i.substring(h,m+1);break;default:He()}h=m+2}return new At(a)}class uI{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class ei{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}ei.store="owner",ei.key="owner";class Ha{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}Ha.store="mutationQueues",Ha.keyPath="userId";class Gt{constructor(n,r,a,l,h){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=h}}Gt.store="mutations",Gt.keyPath="batchId",Gt.userMutationsIndex="userMutationsIndex",Gt.userMutationsKeyPath=["userId","batchId"];class br{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,ts(r)]}static key(n,r,a){return[n,ts(r),a]}}br.store="documentMutations",br.PLACEHOLDER=new br;class JT{constructor(n,r){this.path=n,this.readTime=r}}class zx{constructor(n,r){this.path=n,this.version=r}}class In{constructor(n,r,a,l,h,m){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=l,this.readTime=h,this.parentPath=m}}In.store="remoteDocuments",In.readTimeIndex="readTimeIndex",In.readTimeIndexPath="readTime",In.collectionReadTimeIndex="collectionReadTimeIndex",In.collectionReadTimeIndexPath=["parentPath","readTime"];class Ro{constructor(n){this.byteSize=n}}Ro.store="remoteDocumentGlobal",Ro.key="remoteDocumentGlobalKey";class mi{constructor(n,r,a,l,h,m,E){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=E}}mi.store="targets",mi.keyPath="targetId",mi.queryTargetsIndexName="queryTargetsIndex",mi.queryTargetsKeyPath=["canonicalId","targetId"];class Kn{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}Kn.store="targetDocuments",Kn.keyPath=["targetId","path"],Kn.documentTargetsIndex="documentTargetsIndex",Kn.documentTargetsKeyPath=["path","targetId"];class Dr{constructor(n,r,a,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}Dr.key="targetGlobalKey",Dr.store="targetGlobal";class Vl{constructor(n,r){this.collectionId=n,this.parent=r}}Vl.store="collectionParents",Vl.keyPath=["collectionId","parent"];class Mo{constructor(n,r,a,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=l}}Mo.store="clientMetadata",Mo.keyPath="clientId";class Ul{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}Ul.store="bundles",Ul.keyPath="bundleId";class qs{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}qs.store="namedQueries",qs.keyPath="name";const XT=[Ha.store,Gt.store,br.store,In.store,mi.store,ei.store,Dr.store,Kn.store,Mo.store,Ro.store,Vl.store,Ul.store,qs.store],lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class ye{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new ye((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof ye?r:ye.resolve(r)}catch(r){return ye.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):ye.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):ye.reject(r)}static resolve(n){return new ye((r,a)=>{r(n)})}static reject(n){return new ye((r,a)=>{a(n)})}static waitFor(n){return new ye((r,a)=>{let l=0,h=0,m=!1;n.forEach(E=>{++l,E.next(()=>{++h,m&&h===l&&r()},D=>a(D))}),m=!0,h===l&&r()})}static or(n){let r=ye.resolve(!1);for(const a of n)r=r.next(l=>l?ye.resolve(l):a());return r}static forEach(n,r){const a=[];return n.forEach((l,h)=>{a.push(r.call(this,l,h))}),this.waitFor(a)}}class mm{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new lr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Kf(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const l=ym(a.target.error);this.Tt.reject(new Kf(n,l))}}static open(n,r,a,l){try{return new mm(r,n.transaction(l,a))}catch(h){throw new Kf(r,h)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(De("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new tA(r)}}class xi{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===xi.Rt((0,vt.z$)())&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return De("SimpleDb","Removing database:",n),Ga(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,vt.hl)())return!1;if(xi.Pt())return!0;const n=(0,vt.z$)(),r=xi.Rt(n),a=0<r&&r<10,l=xi.vt(n),h=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||h)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,de.Z)(function*(){return r.db||(De("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,l)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=m=>{a(m.target.result)},h.onblocked=()=>{l(new Kf(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const E=m.target.error;l("VersionError"===E.name?new ve(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new ve(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new Kf(n,E))},h.onupgradeneeded=m=>{De("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.At.Ct(m.target.result,h.transaction,m.oldVersion,r.version).next(()=>{De("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,l){var h=this;return(0,de.Z)(function*(){const m="readonly"===r;let E=0;for(;;){++E;try{h.db=yield h.Dt(n);const D=mm.open(h.db,n,m?"readonly":"readwrite",a),S=l(D).catch(N=>(D.abort(N),ye.reject(N))).toPromise();return S.catch(()=>{}),yield D.It,S}catch(D){const S="FirebaseError"!==D.name&&E<3;if(De("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),h.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eA{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Ga(this.kt.delete())}}class Kf extends ve{constructor(n,r){super(ne.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ni(i){return"IndexedDbTransactionError"===i.name}class tA{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(De("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Ga(a)}add(n){return De("SimpleDb","ADD",this.store.name,n,n),Ga(this.store.add(n))}get(n){return Ga(this.store.get(n)).next(r=>(void 0===r&&(r=null),De("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return De("SimpleDb","DELETE",this.store.name,n),Ga(this.store.delete(n))}count(){return De("SimpleDb","COUNT",this.store.name),Ga(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),l=[];return this.Bt(a,(h,m)=>{l.push(m)}).next(()=>l)}Ut(n,r){De("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(h,m,E)=>E.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const l=this.cursor(a);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new ye((a,l)=>{r.onerror=h=>{const m=ym(h.target.error);l(m)},r.onsuccess=h=>{const m=h.target.result;m?n(m.primaryKey,m.value).next(E=>{E?m.continue():a()}):a()}})}Bt(n,r){const a=[];return new ye((l,h)=>{n.onerror=m=>{h(m.target.error)},n.onsuccess=m=>{const E=m.target.result;if(!E)return void l();const D=new eA(E),S=r(E.primaryKey,E.value,D);if(S instanceof ye){const N=S.catch(M=>(D.done(),ye.reject(M)));a.push(N)}D.isDone?l():null===D.Ft?E.continue():E.continue(D.Ft)}}).next(()=>ye.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function Ga(i){return new ye((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const l=ym(a.target.error);r(l)}})}let dI=!1;function ym(i){const n=xi.Rt((0,vt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dI||(dI=!0,setTimeout(()=>{throw a},0)),a}}return i}class hI extends cI{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Vr(i,n){const r=Ae(i);return xi.St(r.Qt,n)}class Lv{constructor(n,r,a,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(n.key)&&HC(h,n,a[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&hm(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&hm(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(ut.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),xt())}isEqual(n){return this.batchId===n.batchId&&Al(this.mutations,n.mutations,(r,a)=>Cv(r,a))&&Al(this.baseMutations,n.baseMutations,(r,a)=>Cv(r,a))}}class Zf{constructor(n,r,a,l){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(n,r,a){Je(n.mutations.length===a.length);let l=Av();const h=n.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new Zf(n,r,a,l)}}class qa{constructor(n,r,a,l,h=ut.min(),m=ut.min(),E=Sn.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=E}withSequenceNumber(n){return new qa(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Vv{constructor(n){this.Wt=n}}function _m(i,n){if(n.document)return Ov(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Ue.fromSegments(n.noDocument.path),a=jd(n.noDocument.readTime),l=cn.newNoDocument(r,a);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=Ue.fromSegments(n.unknownDocument.path),a=jd(n.unknownDocument.version);return cn.newUnknownDocument(r,a)}return He()}function fI(i,n,r){const a=Uv(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const h={name:Gf(E=i.Wt,(D=n).key),fields:D.data.value.mapValue.fields,updateTime:Vd(E,D.version.toTimestamp())};return new In(null,null,h,n.hasCommittedMutations,a,l)}var E,D;if(n.isNoDocument()){const h=n.key.path.toArray(),m=Wa(n.version),E=n.hasCommittedMutations;return new In(null,new JT(h,m),null,E,a,l)}if(n.isUnknownDocument()){const h=n.key.path.toArray(),m=Wa(n.version);return new In(new zx(h,m),null,null,!0,a,l)}return He()}function Uv(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function pI(i){const n=new zn(i[0],i[1]);return ut.fromTimestamp(n)}function Wa(i){const n=i.toTimestamp();return new uI(n.seconds,n.nanoseconds)}function jd(i){const n=new zn(i.seconds,i.nanoseconds);return ut.fromTimestamp(n)}function Bl(i,n){const r=(n.baseMutations||[]).map(h=>kv(i.Wt,h));for(let h=0;h<n.mutations.length-1;++h){const m=n.mutations[h];h+1<n.mutations.length&&void 0!==n.mutations[h+1].transform&&(m.updateTransforms=n.mutations[h+1].transform.fieldTransforms,n.mutations.splice(h+1,1),++h)}const a=n.mutations.map(h=>kv(i.Wt,h)),l=zn.fromMillis(n.localWriteTimeMs);return new Lv(n.batchId,l,r,a)}function Yf(i){const n=jd(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?jd(i.lastLimboFreeSnapshotVersion):ut.min();let a;var l;return void 0!==i.query.documents?(Je(1===(l=i.query).documents.length),a=pi(Ol(qf(l.documents[0])))):a=pi(rI(i.query)),new qa(a,i.targetId,0,i.lastListenSequenceNumber,n,r,Sn.fromBase64String(i.resumeToken))}function gI(i,n){const r=Wa(n.snapshotVersion),a=Wa(n.lastLimboFreeSnapshotVersion);let l;l=Lf(n.target)?Fv(i.Wt,n.target):nI(i.Wt,n.target);const h=n.resumeToken.toBase64();return new mi(n.targetId,Ff(n.target),r,h,n.sequenceNumber,a,l)}function Bv(i){const n=rI({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?VT(n,n.limit,"L"):n}class nA{getBundleMetadata(n,r){return mI(n).get(r).next(a=>{if(a)return{id:(l=a).bundleId,createTime:jd(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return mI(n).put({bundleId:(a=r).id,createTime:Wa(Pe(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return yI(n).get(r).next(a=>{if(a)return{name:(l=a).name,query:Bv(l.bundledQuery),readTime:jd(l.readTime)};var l})}saveNamedQuery(n,r){return yI(n).put({name:(a=r).name,readTime:Wa(Pe(a.readTime)),bundledQuery:a.bundledQuery});var a}}function mI(i){return Vr(i,Ul.store)}function yI(i){return Vr(i,qs.store)}class rA{constructor(){this.Gt=new jv}addToCollectionParentIndex(n,r){return this.Gt.add(r),ye.resolve()}getCollectionParents(n,r){return ye.resolve(this.Gt.getEntries(r))}}class jv{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r]||new vn(At.comparator),h=!l.has(a);return this.index[r]=l.add(a),h}has(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(n){return(this.index[n]||new vn(At.comparator)).toArray()}}class _I{constructor(){this.zt=new jv}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const h={collectionId:a,parent:ts(l)};return $v(n).put(h)}return ye.resolve()}getCollectionParents(n,r){const a=[],l=IDBKeyRange.bound([r,""],[Rf(r),""],!1,!0);return $v(n).Lt(l).next(h=>{for(const m of h){if(m.collectionId!==r)break;a.push(Gs(m.parent))}return a})}}function $v(i){return Vr(i,Vl.store)}const vI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ti{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new ti(n,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hv(i,n,r){const a=i.store(Gt.store),l=i.store(br.store),h=[],m=IDBKeyRange.only(r.batchId);let E=0;const D=a.Kt({range:m},(N,M,B)=>(E++,B.delete()));h.push(D.next(()=>{Je(1===E)}));const S=[];for(const N of r.mutations){const M=br.key(n,N.key.path,r.batchId);h.push(l.delete(M)),S.push(N.key)}return ye.waitFor(h).next(()=>S)}function vm(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw He();n=i.noDocument}return JSON.stringify(n).length}ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(41943040,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);class Gv{constructor(n,r,a,l){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,a,l){Je(""!==n.uid);const h=n.isAuthenticated()?n.uid:"";return new Gv(h,r,a,l)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ws(n).Kt({index:Gt.userMutationsIndex,range:a},(l,h,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(n,r,a,l){const h=za(n),m=Ws(n);return m.add({}).next(E=>{Je("number"==typeof E);const D=new Lv(E,r,a,l),S=function(B,G,ce){const Ie=ce.baseMutations.map(ht=>Wf(B.Wt,ht)),Oe=ce.mutations.map(ht=>Wf(B.Wt,ht));return new Gt(G,ce.batchId,ce.localWriteTime.toMillis(),Ie,Oe)}(this.N,this.userId,D),N=[];let M=new vn((B,G)=>yt(B.canonicalString(),G.canonicalString()));for(const B of l){const G=br.key(this.userId,B.key.path,E);M=M.add(B.key.path.popLast()),N.push(m.put(S)),N.push(h.put(G,br.PLACEHOLDER))}return M.forEach(B=>{N.push(this.Ht.addToCollectionParentIndex(n,B))}),n.addOnCommittedListener(()=>{this.Jt[E]=D.keys()}),ye.waitFor(N).next(()=>D)})}lookupMutationBatch(n,r){return Ws(n).get(r).next(a=>a?(Je(a.userId===this.userId),Bl(this.N,a)):null)}Xt(n,r){return this.Jt[r]?ye.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const l=a.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,l=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return Ws(n).Kt({index:Gt.userMutationsIndex,range:l},(m,E,D)=>{E.userId===this.userId&&(Je(E.batchId>=a),h=Bl(this.N,E)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ws(n).Kt({index:Gt.userMutationsIndex,range:r,reverse:!0},(l,h,m)=>{a=h.batchId,m.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ws(n).Lt(Gt.userMutationsIndex,r).next(a=>a.map(l=>Bl(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=br.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(a),h=[];return za(n).Kt({range:l},(m,E,D)=>{const[S,N,M]=m,B=Gs(N);if(S===this.userId&&r.path.isEqual(B))return Ws(n).get(M).next(G=>{if(!G)throw He();Je(G.userId===this.userId),h.push(Bl(this.N,G))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new vn(yt);const l=[];return r.forEach(h=>{const m=br.prefixForPath(this.userId,h.path),E=IDBKeyRange.lowerBound(m),D=za(n).Kt({range:E},(S,N,M)=>{const[B,G,ce]=S,Ie=Gs(G);B===this.userId&&h.path.isEqual(Ie)?a=a.add(ce):M.done()});l.push(D)}),ye.waitFor(l).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1,h=br.prefixForPath(this.userId,a),m=IDBKeyRange.lowerBound(h);let E=new vn(yt);return za(n).Kt({range:m},(D,S,N)=>{const[M,B,G]=D,ce=Gs(B);M===this.userId&&a.isPrefixOf(ce)?ce.length===l&&(E=E.add(G)):N.done()}).next(()=>this.Zt(n,E))}Zt(n,r){const a=[],l=[];return r.forEach(h=>{l.push(Ws(n).get(h).next(m=>{if(null===m)throw He();Je(m.userId===this.userId),a.push(Bl(this.N,m))}))}),ye.waitFor(l).next(()=>a)}removeMutationBatch(n,r){return Hv(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),ye.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return ye.resolve();const a=IDBKeyRange.lowerBound(br.prefixForUser(this.userId)),l=[];return za(n).Kt({range:a},(h,m,E)=>{if(h[0]===this.userId){const D=Gs(h[1]);l.push(D)}else E.done()}).next(()=>{Je(0===l.length)})})}containsKey(n,r){return EI(n,this.userId,r)}ee(n){return qv(n).get(this.userId).next(r=>r||new Ha(this.userId,-1,""))}}function EI(i,n,r){const a=br.prefixForPath(n,r.path),l=a[1],h=IDBKeyRange.lowerBound(a);let m=!1;return za(i).Kt({range:h,qt:!0},(E,D,S)=>{const[N,M,B]=E;N===n&&M===l&&(m=!0),S.done()}).next(()=>m)}function Ws(i){return Vr(i,Gt.store)}function za(i){return Vr(i,br.store)}function qv(i){return Vr(i,Ha.store)}class Oo{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Oo(0)}static ie(){return new Oo(-1)}}class iA{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new Oo(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>ut.fromTimestamp(new zn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>$d(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(Je(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let l=0;const h=[];return $d(n).Kt((m,E)=>{const D=Yf(E);D.sequenceNumber<=r&&null===a.get(D.targetId)&&(l++,h.push(this.removeTargetData(n,D)))}).next(()=>ye.waitFor(h)).next(()=>l)}forEachTarget(n,r){return $d(n).Kt((a,l)=>{const h=Yf(l);r(h)})}re(n){return Em(n).get(Dr.key).next(r=>(Je(null!==r),r))}oe(n,r){return Em(n).put(Dr.key,r)}ae(n,r){return $d(n).put(gI(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=Ff(r),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return $d(n).Kt({range:l,index:mi.queryTargetsIndexName},(m,E,D)=>{const S=Yf(E);Td(r,S.target)&&(h=S,D.done())}).next(()=>h)}addMatchingKeys(n,r,a){const l=[],h=Ka(n);return r.forEach(m=>{const E=ts(m.path);l.push(h.put(new Kn(a,E))),l.push(this.referenceDelegate.addReference(n,a,m))}),ye.waitFor(l)}removeMatchingKeys(n,r,a){const l=Ka(n);return ye.forEach(r,h=>{const m=ts(h.path);return ye.waitFor([l.delete([a,m]),this.referenceDelegate.removeReference(n,a,h)])})}removeMatchingKeysForTargetId(n,r){const a=Ka(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),l=Ka(n);let h=xt();return l.Kt({range:a,qt:!0},(m,E,D)=>{const S=Gs(m[1]),N=new Ue(S);h=h.add(N)}).next(()=>h)}containsKey(n,r){const a=ts(r.path),l=IDBKeyRange.bound([a],[Rf(a)],!1,!0);let h=0;return Ka(n).Kt({index:Kn.documentTargetsIndex,qt:!0,range:l},([m,E],D,S)=>{0!==m&&(h++,S.done())}).next(()=>h>0)}Et(n,r){return $d(n).get(r).next(a=>a?Yf(a):null)}}function $d(i){return Vr(i,mi.store)}function Em(i){return Vr(i,Dr.store)}function Ka(i){return Vr(i,Kn.store)}function Za(i){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,de.Z)(function*(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==lI)throw i;De("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function zv([i,n],[r,a]){const l=yt(i,r);return 0===l?yt(n,a):l}class wI{constructor(n){this.ue=n,this.buffer=new vn(zv),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();zv(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class CI{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;De("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,de.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){Ni(l)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Za(l)}yield r._e(n)}))}}class Kx{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return ye.resolve(Wn.T);const a=new wI(r);return this.me.forEachTarget(n,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(vI)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vI):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,l,h,m,E,D,S;const N=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),l=this.params.maximumSequenceNumbersToCollect):l=M,m=Date.now(),this.nthSequenceNumber(n,l))).next(M=>(a=M,E=Date.now(),this.removeTargets(n,a,r))).next(M=>(h=M,D=Date.now(),this.removeOrphanedDocuments(n,a))).next(M=>(S=Date.now(),uv()<=Aa.in.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-N}ms\n\tDetermined least recently used ${l} in `+(E-m)+`ms\n\tRemoved ${h} targets in `+(D-E)+`ms\n\tRemoved ${M} documents in `+(S-D)+`ms\nTotal Duration: ${S-N}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:M})))}}class sA{constructor(n,r){this.db=n,this.garbageCollector=new Kx(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(l=>a+l))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,l)=>r(l))}addReference(n,r,a){return Po(n,a)}removeReference(n,r,a){return Po(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return Po(n,r)}Ie(n,r){return function(a,l){let h=!1;return qv(a).jt(m=>EI(a,m,l).next(E=>(E&&(h=!0),ye.resolve(!E)))).next(()=>h)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Te(n,(m,E)=>{if(E<=r){const D=this.Ie(n,m).next(S=>{if(!S)return h++,a.getEntry(n,m).next(()=>(a.removeEntry(m),Ka(n).delete([0,ts(m.path)])))});l.push(D)}}).next(()=>ye.waitFor(l)).next(()=>a.apply(n)).next(()=>h)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return Po(n,r)}Te(n,r){const a=Ka(n);let l,h=Wn.T;return a.Kt({index:Kn.documentTargetsIndex},([m,E],{path:D,sequenceNumber:S})=>{0===m?(h!==Wn.T&&r(new Ue(Gs(l)),h),h=S,l=D):h=Wn.T}).next(()=>{h!==Wn.T&&r(new Ue(Gs(l)),h)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Po(i,n){return Ka(i).put((a=i.currentSequenceNumber,new Kn(0,ts(n.path),a)));var a}class Qf{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[l,h]of a)if(this.equalsFn(l,n))return h}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),l=this.inner[a];if(void 0!==l){for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],n))return void(l[h]=[n,r]);l.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return 1===a.length?delete this.inner[r]:a.splice(l,1),!0;return!1}forEach(n){Sl(this.inner,(r,a)=>{for(const[l,h]of a)n(l,h)})}isEmpty(){return DC(this.inner)}}class wm{constructor(){this.changes=new Qf(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:ut.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:cn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?ye.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Cm{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return Ya(n).put(Kv(r),a)}removeEntry(n,r){const a=Ya(n),l=Kv(r);return a.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return Ya(n).get(Kv(r)).next(a=>this.Re(r,a))}be(n,r){return Ya(n).get(Kv(r)).next(a=>({document:this.Re(r,a),size:vm(a)}))}getEntries(n,r){let a=Si();return this.Pe(n,r,(l,h)=>{const m=this.Re(l,h);a=a.insert(l,m)}).next(()=>a)}ve(n,r){let a=Si(),l=new Vn(Ue.comparator);return this.Pe(n,r,(h,m)=>{const E=this.Re(h,m);a=a.insert(h,E),l=l.insert(h,vm(m))}).next(()=>({documents:a,Ve:l}))}Pe(n,r,a){if(r.isEmpty())return ye.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),h=r.getIterator();let m=h.getNext();return Ya(n).Kt({range:l},(E,D,S)=>{const N=Ue.fromSegments(E);for(;m&&Ue.comparator(m,N)<0;)a(m,null),m=h.getNext();m&&m.isEqual(N)&&(a(m,D),m=h.hasNext()?h.getNext():null),m?S.Mt(m.path.toArray()):S.done()}).next(()=>{for(;m;)a(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(n,r,a){let l=Si();const h=r.path.length+1,m={};if(a.isEqual(ut.min())){const E=r.path.toArray();m.range=IDBKeyRange.lowerBound(E)}else{const E=r.path.toArray(),D=Uv(a);m.range=IDBKeyRange.lowerBound([E,D],!0),m.index=In.collectionReadTimeIndex}return Ya(n).Kt(m,(E,D,S)=>{if(E.length!==h)return;const N=_m(this.N,D);r.path.isPrefixOf(N.key.path)?Uf(r,N)&&(l=l.insert(N.key,N)):S.done()}).next(()=>l)}newChangeBuffer(n){return new oA(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return jl(n).get(Ro.key).next(r=>(Je(!!r),r))}Ae(n,r){return jl(n).put(Ro.key,r)}Re(n,r){if(r){const a=_m(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(ut.min()))return a}return cn.newInvalidDocument(n)}}class oA extends wm{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Qf(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(n){const r=[];let a=0,l=new vn((h,m)=>yt(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const E=this.De.get(h);if(m.document.isValidDocument()){const D=fI(this.Se.N,m.document,this.getReadTime(h));l=l.add(h.path.popLast()),a+=vm(D)-E,r.push(this.Se.addEntry(n,h,D))}else if(a-=E,this.trackRemovals){const D=fI(this.Se.N,cn.newNoDocument(h,ut.min()),this.getReadTime(h));r.push(this.Se.addEntry(n,h,D))}else r.push(this.Se.removeEntry(n,h))}),l.forEach(h=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,h))}),r.push(this.Se.updateMetadata(n,a)),ye.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:l})=>(l.forEach((h,m)=>{this.De.set(h,m)}),a))}}function jl(i){return Vr(i,Ro.store)}function Ya(i){return Vr(i,In.store)}function Kv(i){return i.path.toArray()}class aA{constructor(n){this.N=n}Ct(n,r,a,l){Je(a<l&&a>=0&&l<=11);const h=new mm("createOrUpgrade",r);var E;a<1&&l>=1&&(n.createObjectStore(ei.store),(E=n).createObjectStore(Ha.store,{keyPath:Ha.keyPath}),E.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0}),E.createObjectStore(br.store),ns(n),function(E){E.createObjectStore(In.store)}(n));let m=ye.resolve();return a<3&&l>=3&&(0!==a&&(function(E){E.deleteObjectStore(Kn.store),E.deleteObjectStore(mi.store),E.deleteObjectStore(Dr.store)}(n),ns(n)),m=m.next(()=>function(E){const D=E.store(Dr.store),S=new Dr(0,0,ut.min().toTimestamp(),0);return D.put(Dr.key,S)}(h))),a<4&&l>=4&&(0!==a&&(m=m.next(()=>function(E,D){return D.store(Gt.store).Lt().next(S=>{E.deleteObjectStore(Gt.store),E.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0});const N=D.store(Gt.store),M=S.map(B=>N.put(B));return ye.waitFor(M)})}(n,h))),m=m.next(()=>{!function(E){E.createObjectStore(Mo.store,{keyPath:Mo.keyPath})}(n)})),a<5&&l>=5&&(m=m.next(()=>this.Ce(h))),a<6&&l>=6&&(m=m.next(()=>(function(E){E.createObjectStore(Ro.store)}(n),this.Ne(h)))),a<7&&l>=7&&(m=m.next(()=>this.xe(h))),a<8&&l>=8&&(m=m.next(()=>this.ke(n,h))),a<9&&l>=9&&(m=m.next(()=>{(function(E){E.objectStoreNames.contains("remoteDocumentChanges")&&E.deleteObjectStore("remoteDocumentChanges")})(n),function(E){const D=E.objectStore(In.store);D.createIndex(In.readTimeIndex,In.readTimeIndexPath,{unique:!1}),D.createIndex(In.collectionReadTimeIndex,In.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&l>=10&&(m=m.next(()=>this.$e(h))),a<11&&l>=11&&(m=m.next(()=>{(function(E){E.createObjectStore(Ul.store,{keyPath:Ul.keyPath})})(n),function(E){E.createObjectStore(qs.store,{keyPath:qs.keyPath})}(n)})),m}Ne(n){let r=0;return n.store(In.store).Kt((a,l)=>{r+=vm(l)}).next(()=>{const a=new Ro(r);return n.store(Ro.store).put(Ro.key,a)})}Ce(n){const r=n.store(Ha.store),a=n.store(Gt.store);return r.Lt().next(l=>ye.forEach(l,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.Lt(Gt.userMutationsIndex,m).next(E=>ye.forEach(E,D=>{Je(D.userId===h.userId);const S=Bl(this.N,D);return Hv(n,h.userId,S).next(()=>{})}))}))}xe(n){const r=n.store(Kn.store),a=n.store(In.store);return n.store(Dr.store).get(Dr.key).next(l=>{const h=[];return a.Kt((m,E)=>{const D=new At(m),S=[0,ts(D)];h.push(r.get(S).next(N=>N?ye.resolve():r.put(new Kn(0,ts(D),l.highestListenSequenceNumber))))}).next(()=>ye.waitFor(h))})}ke(n,r){n.createObjectStore(Vl.store,{keyPath:Vl.keyPath});const a=r.store(Vl.store),l=new jv,h=m=>{if(l.add(m)){const E=m.lastSegment(),D=m.popLast();return a.put({collectionId:E,parent:ts(D)})}};return r.store(In.store).Kt({qt:!0},(m,E)=>{const D=new At(m);return h(D.popLast())}).next(()=>r.store(br.store).Kt({qt:!0},([m,E,D],S)=>{const N=Gs(E);return h(N.popLast())}))}$e(n){const r=n.store(mi.store);return r.Kt((a,l)=>{const h=Yf(l),m=gI(this.N,h);return r.put(m)})}}function ns(i){i.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.documentTargetsIndex,Kn.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(mi.store,{keyPath:mi.keyPath}).createIndex(mi.queryTargetsIndexName,mi.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Dr.store)}const Im="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class II{constructor(n,r,a,l,h,m,E,D,S,N){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=h,this.window=m,this.document=E,this.Fe=S,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=M=>Promise.resolve(),!II.bt())throw new ve(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sA(this,l),this.We=r+"main",this.N=new Vv(D),this.Ge=new xi(this.We,11,new aA(this.N)),this.ze=new iA(this.referenceDelegate,this.N),this.Ht=new _I,this.He=new Cm(this.N,this.Ht),this.Je=new nA,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&Ln("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ve(ne.FAILED_PRECONDITION,Im);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Wn(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,de.Z)(function*(l){if(r.started)return n(l)});return function(l){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,de.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,de.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>bm(n).put(new Mo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Ni(n))return De("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Qa(n).get(ei.key).next(r=>ye.resolve(this.cn(r)))}un(n){return bm(n).delete(this.clientId)}hn(){var n=this;return(0,de.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=Vr(a,Mo.store);return l.Lt().next(h=>{const m=n.fn(h,18e5),E=h.filter(D=>-1===m.indexOf(D));return ye.forEach(E,D=>l.delete(D.clientId)).next(()=>E)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?ye.resolve(!0):Qa(n).get(ei.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new ve(ne.FAILED_PRECONDITION,Im);return!1}}return!(!this.networkEnabled||!this.inForeground)||bm(n).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,E=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&E)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&De("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,de.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[ei.store,Mo.store],r=>{const a=new hI(r,Wn.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>bm(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Gv.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let h;return De("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",XT,m=>(h=new hI(m,this.Le?this.Le.next():Wn.T),"readwrite-primary"===r?this.sn(h).next(E=>!!E||this.rn(h)).next(E=>{if(!E)throw Ln(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ve(ne.FAILED_PRECONDITION,lI);return a(h)}).next(E=>this.an(h).next(()=>E)):this.En(h).next(()=>a(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(n){return Qa(n).get(ei.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ve(ne.FAILED_PRECONDITION,Im)})}an(n){const r=new ei(this.clientId,this.allowTabSynchronization,Date.now());return Qa(n).put(ei.key,r)}static bt(){return xi.bt()}on(n){const r=Qa(n);return r.get(ei.key).next(a=>this.cn(a)?(De("IndexedDbPersistence","Releasing primary lease."),r.delete(ei.key)):ye.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(Ln(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,vt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return De("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Ln("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Ln("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Qa(i){return Vr(i,ei.store)}function bm(i){return Vr(i,Mo.store)}function Zv(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class Zx{constructor(n,r){this.progress=n,this.Tn=r}}class bI{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(l=>{for(const h of a)h.applyToLocalView(l);return l})}bn(n,r){n.forEach((a,l)=>{for(const h of r)h.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return Ue.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):cm(r)?this.Sn(n,r,a):this.Dn(n,r,a);var l}Vn(n,r){return this.An(n,new Ue(r)).next(a=>{let l=Tv();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(n,r,a){const l=r.collectionGroup;let h=Tv();return this.Ht.getCollectionParents(n,l).next(m=>ye.forEach(m,E=>{const D=(S=r,N=E.child(l),new $s(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.Dn(n,D,a).next(S=>{S.forEach((N,M)=>{h=h.insert(N,M)})})}).next(()=>h))}Dn(n,r,a){let l,h;return this.He.getDocumentsMatchingQuery(n,r,a).next(m=>(l=m,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(m=>(h=m,this.Cn(n,h,l).next(E=>{l=E;for(const D of h)for(const S of D.mutations){const N=S.key;let M=l.get(N);null==M&&(M=cn.newInvalidDocument(N),l=l.insert(N,M)),hm(S,M,D.localWriteTime),M.isFoundDocument()||(l=l.remove(N))}}))).next(()=>(l.forEach((m,E)=>{Uf(r,E)||(l=l.remove(m))}),l))}Cn(n,r,a){let l=xt();for(const m of r)for(const E of m.mutations)E instanceof No&&null===a.get(E.key)&&(l=l.add(E.key));let h=a;return this.He.getEntries(n,l).next(m=>(m.forEach((E,D)=>{D.isFoundDocument()&&(h=h.insert(E,D))}),h))}}class Yv{constructor(n,r,a,l){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=l}static kn(n,r){let a=xt(),l=xt();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Yv(n,r.fromCache,a,l)}}class DI{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,l){return 0===(h=r).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||a.isEqual(ut.min())?this.Fn(n,r):this.On.Pn(n,l).next(h=>{const m=this.Mn(r,h);return(Vf(r)||So(r))&&this.Ln(r.limitType,m,l,a)?this.Fn(n,r):(uv()<=Aa.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Di(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(E=>(m.forEach(D=>{E=E.insert(D.key,D)}),E)))});var h}Mn(n,r){let a=new vn(BC(n));return r.forEach((l,h)=>{Uf(n,h)&&(a=a.add(h))}),a}Ln(n,r,a,l){if(a.size!==r.size)return!0;const h="F"===n?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Fn(n,r){return uv()<=Aa.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Di(r)),this.On.getDocumentsMatchingQuery(n,r,ut.min())}}class Qv{constructor(n,r,a,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Vn(yt),this.qn=new Qf(h=>Ff(h),Td),this.Kn=ut.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new bI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function Jv(i,n,r,a){return new Qv(i,n,r,a)}function Dm(i,n){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,de.Z)(function*(i,n){const r=Ae(i);let a=r.In,l=r.Qn;const h=yield r.persistence.runTransaction("Handle user change","readonly",m=>{let E;return r.In.getAllMutationBatches(m).next(D=>(E=D,a=r.persistence.getMutationQueue(n),l=new bI(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(m))).next(D=>{const S=[],N=[];let M=xt();for(const B of E){S.push(B.batchId);for(const G of B.mutations)M=M.add(G.key)}for(const B of D){N.push(B.batchId);for(const G of B.mutations)M=M.add(G.key)}return l.Pn(m,M).next(B=>({Wn:B,removedBatchIds:S,addedBatchIds:N}))})});return r.In=a,r.Qn=l,r.Bn.$n(r.Qn),h})).apply(this,arguments)}function uA(i,n){const r=Ae(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=n.batch.keys(),h=r.jn.newChangeBuffer({trackRemovals:!0});return function(m,E,D,S){const N=D.batch,M=N.keys();let B=ye.resolve();return M.forEach(G=>{B=B.next(()=>S.getEntry(E,G)).next(ce=>{const Ie=D.docVersions.get(G);Je(null!==Ie),ce.version.compareTo(Ie)<0&&(N.applyToRemoteDocument(ce,D),ce.isValidDocument()&&S.addEntry(ce,D.commitVersion))})}),B.next(()=>m.In.removeMutationBatch(E,N))}(r,a,n,h).next(()=>h.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,l))})}function lA(i){const n=Ae(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function cA(i,n){const r=Ae(i),a=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const E=[];n.targetChanges.forEach((S,N)=>{const M=l.get(N);if(!M)return;E.push(r.ze.removeMatchingKeys(h,S.removedDocuments,N).next(()=>r.ze.addMatchingKeys(h,S.addedDocuments,N)));const B=S.resumeToken;if(B.approximateByteSize()>0){const G=M.withResumeToken(B,a).withSequenceNumber(h.currentSequenceNumber);l=l.insert(N,G),ce=M,Oe=S,Je((Ie=G).resumeToken.approximateByteSize()>0),(0===ce.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-ce.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&E.push(r.ze.updateTargetData(h,G))}var ce,Ie,Oe});let D=Si();if(n.documentUpdates.forEach((S,N)=>{n.resolvedLimboDocuments.has(S)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(h,S))}),E.push(TI(h,m,n.documentUpdates,a,void 0).next(S=>{D=S})),!a.isEqual(ut.min())){const S=r.ze.getLastRemoteSnapshotVersion(h).next(N=>r.ze.setTargetsMetadata(h,h.currentSequenceNumber,a));E.push(S)}return ye.waitFor(E).next(()=>m.apply(h)).next(()=>r.Qn.vn(h,D)).next(()=>D)}).then(h=>(r.Un=l,h))}function TI(i,n,r,a,l){let h=xt();return r.forEach(m=>h=h.add(m)),n.getEntries(i,h).next(m=>{let E=Si();return r.forEach((D,S)=>{const N=m.get(D),M=(null==l?void 0:l.get(D))||a;S.isNoDocument()&&S.version.isEqual(ut.min())?(n.removeEntry(D,M),E=E.insert(D,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(n.addEntry(S,M),E=E.insert(D,S)):De("LocalStore","Ignoring outdated watch update for ",D,". Current version:",N.version," Watch version:",S.version)}),E})}function dA(i,n){const r=Ae(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function $l(i,n){const r=Ae(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.ze.getTargetData(a,n).next(h=>h?(l=h,ye.resolve(l)):r.ze.allocateTargetId(a).next(m=>(l=new qa(n,m,0,a.currentSequenceNumber),r.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function Hl(i,n,r){return Am.apply(this,arguments)}function Am(){return(Am=(0,de.Z)(function*(i,n,r){const a=Ae(i),l=a.Un.get(n),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!Ni(m))throw m;De("LocalStore",`Failed to update sequence numbers for target ${n}: ${m}`)}a.Un=a.Un.remove(n),a.qn.delete(l.target)})).apply(this,arguments)}function Sm(i,n,r){const a=Ae(i);let l=ut.min(),h=xt();return a.persistence.runTransaction("Execute query","readonly",m=>function(E,D,S){const N=Ae(E),M=N.qn.get(S);return void 0!==M?ye.resolve(N.Un.get(M)):N.ze.getTargetData(D,S)}(a,m,pi(n)).next(E=>{if(E)return l=E.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(m,E.targetId).next(D=>{h=D})}).next(()=>a.Bn.getDocumentsMatchingQuery(m,n,r?l:ut.min(),r?h:xt())).next(E=>({documents:E,Gn:h})))}function AI(i,n){const r=Ae(i),a=Ae(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",h=>a.Et(h,n).next(m=>m?m.target:null))}function Xv(i){const n=Ae(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,l,h){const m=Ae(a);let E=Si(),D=Uv(h);const S=Ya(l),N=IDBKeyRange.lowerBound(D,!0);return S.Kt({index:In.readTimeIndex,range:N},(M,B)=>{const G=_m(m.N,B);E=E.insert(G.key,G),D=B.readTime}).next(()=>({Tn:E,readTime:pI(D)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function eE(){return(eE=(0,de.Z)(function*(i){const n=Ae(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const l=Ya(a);let h=ut.min();return l.Kt({index:In.readTimeIndex,reverse:!0},(m,E,D)=>{E.readTime&&(h=pI(E.readTime)),D.done()}).next(()=>h)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Hd(){return(Hd=(0,de.Z)(function*(i,n,r,a){const l=Ae(i);let h=xt(),m=Si(),E=Av();for(const N of r){const M=n.zn(N.metadata.name);N.document&&(h=h.add(M)),m=m.insert(M,n.Hn(N)),E=E.insert(M,n.Jn(N.metadata.readTime))}const D=l.jn.newChangeBuffer({trackRemovals:!0}),S=yield $l(l,(N=a,pi(Ol(At.fromString(`__bundle__/docs/${N}`)))));var N;return l.persistence.runTransaction("Apply bundle documents","readwrite",N=>TI(N,D,m,ut.min(),E).next(M=>(D.apply(N),M)).next(M=>l.ze.removeMatchingKeysForTargetId(N,S.targetId).next(()=>l.ze.addMatchingKeys(N,h,S.targetId)).next(()=>l.Qn.vn(N,M)).next(()=>M)))})).apply(this,arguments)}function Nm(i,n){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,de.Z)(function*(i,n,r=xt()){const a=yield $l(i,pi(Bv(n.bundledQuery))),l=Ae(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const m=Pe(n.readTime);if(a.snapshotVersion.compareTo(m)>=0)return l.Je.saveNamedQuery(h,n);const E=a.withResumeToken(Sn.EMPTY_BYTE_STRING,m);return l.Un=l.Un.insert(E.targetId,E),l.ze.updateTargetData(h,E).next(()=>l.ze.removeMatchingKeysForTargetId(h,a.targetId)).next(()=>l.ze.addMatchingKeys(h,r,a.targetId)).next(()=>l.Je.saveNamedQuery(h,n))})})).apply(this,arguments)}class hA{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return ye.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:Pe(a.createTime)}),ye.resolve()}getNamedQuery(n,r){return ye.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:Bv(a.bundledQuery),readTime:Pe(a.readTime)}),ye.resolve();var a}}class tE{constructor(){this.Zn=new vn(fr.ts),this.es=new vn(fr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new fr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new fr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new Ue(new At([])),a=new fr(r,n),l=new fr(r,n+1),h=[];return this.es.forEachInRange([a,l],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Ue(new At([])),a=new fr(r,n),l=new fr(r,n+1);let h=xt();return this.es.forEachInRange([a,l],m=>{h=h.add(m.key)}),h}containsKey(n){const r=new fr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class fr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Ue.comparator(n.key,r.key)||yt(n.ls,r.ls)}static ns(n,r){return yt(n.ls,r.ls)||Ue.comparator(n.key,r.key)}}class fA{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new vn(fr.ts)}checkEmpty(n){return ye.resolve(0===this.In.length)}addMutationBatch(n,r,a,l){const h=this.fs;this.fs++;const m=new Lv(h,r,a,l);this.In.push(m);for(const E of l)this.ds=this.ds.add(new fr(E.key,h)),this.Ht.addToCollectionParentIndex(n,E.key.path.popLast());return ye.resolve(m)}lookupMutationBatch(n,r){return ye.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),h=l<0?0:l;return ye.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return ye.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new fr(r,0),l=new fr(r,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([a,l],m=>{const E=this.ws(m.ls);h.push(E)}),ye.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new vn(yt);return r.forEach(l=>{const h=new fr(l,0),m=new fr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],E=>{a=a.add(E.ls)})}),ye.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1;let h=a;Ue.isDocumentKey(h)||(h=h.child(""));const m=new fr(new Ue(h),0);let E=new vn(yt);return this.ds.forEachWhile(D=>{const S=D.key.path;return!!a.isPrefixOf(S)&&(S.length===l&&(E=E.add(D.ls)),!0)},m),ye.resolve(this.gs(E))}gs(n){const r=[];return n.forEach(a=>{const l=this.ws(a);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){Je(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return ye.forEach(r.mutations,l=>{const h=new fr(l.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new fr(r,0),l=this.ds.firstAfterOrEqual(a);return ye.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return ye.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class pA{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Vn(Ue.comparator),this.size=0}addEntry(n,r,a){const l=r.key,h=this.docs.get(l),m=h?h.size:0,E=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:E,readTime:a}),this.size+=E-m,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return ye.resolve(a?a.document.clone():cn.newInvalidDocument(r))}getEntries(n,r){let a=Si();return r.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.clone():cn.newInvalidDocument(l))}),ye.resolve(a)}getDocumentsMatchingQuery(n,r,a){let l=Si();const h=new Ue(r.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:E,value:{document:D,readTime:S}}=m.getNext();if(!r.path.isPrefixOf(E.path))break;S.compareTo(a)<=0||Uf(r,D)&&(l=l.insert(D.key,D.clone()))}return ye.resolve(l)}Es(n,r){return ye.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new gA(this)}getSize(n){return ye.resolve(this.size)}}class gA extends wm{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),ye.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class mA{constructor(n){this.persistence=n,this.Ts=new Qf(r=>Ff(r),Td),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Is=0,this.As=new tE,this.targetCount=0,this.Rs=Oo.se()}forEachTarget(n,r){return this.Ts.forEach((a,l)=>r(l)),ye.resolve()}getLastRemoteSnapshotVersion(n){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ye.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),ye.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Oo(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,ye.resolve()}updateTargetData(n,r){return this.ae(r),ye.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,ye.resolve()}removeTargets(n,r,a){let l=0;const h=[];return this.Ts.forEach((m,E)=>{E.sequenceNumber<=r&&null===a.get(E.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(n,E.targetId)),l++)}),ye.waitFor(h).next(()=>l)}getTargetCount(n){return ye.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return ye.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),ye.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const l=this.persistence.referenceDelegate,h=[];return l&&r.forEach(m=>{h.push(l.markPotentiallyOrphaned(n,m))}),ye.waitFor(h)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),ye.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return ye.resolve(a)}containsKey(n,r){return ye.resolve(this.As.containsKey(r))}}class yA{constructor(n,r){this.bs={},this.Le=new Wn(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new mA(this),this.Ht=new rA,this.He=new pA(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new Vv(r),this.Je=new hA(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new fA(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){De("MemoryPersistence","Starting transaction:",n);const l=new _A(this.Le.next());return this.referenceDelegate.vs(),a(l).next(h=>this.referenceDelegate.Vs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ss(n,r){return ye.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class _A extends cI{constructor(n){super(),this.currentSequenceNumber=n}}class nE{constructor(n){this.persistence=n,this.Ds=new tE,this.Cs=null}static Ns(n){return new nE(n)}get xs(){if(this.Cs)return this.Cs;throw He()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),ye.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),ye.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),ye.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(h=>this.xs.add(h.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.xs,a=>{const l=Ue.fromPath(a);return this.ks(n,l).next(h=>{h||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return ye.or([()=>ye.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function xI(i,n){return`firestore_clients_${i}_${n}`}function NI(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function RI(i,n){return`firestore_targets_${i}_${n}`}class Rm{constructor(n,r,a,l){this.user=n,this.batchId=r,this.state=a,this.error=l}static $s(n,r,a){const l=JSON.parse(a);let h,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new ve(l.error.code,l.error.message))),m?new Rm(n,r,l.state,h):(Ln("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ko{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new ve(a.error.code,a.error.message))),h?new ko(n,a.state,l):(Ln("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Mm{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let l="object"==typeof a&&a.activeTargetIds instanceof Array,h=$f();for(let m=0;l&&m<a.activeTargetIds.length;++m)l=im(a.activeTargetIds[m]),h=h.add(a.activeTargetIds[m]);return l?new Mm(n,h):(Ln("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class rE{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new rE(r.clientId,r.onlineState):(Ln("SharedClientState",`Failed to parse online state: ${n}`),null)}}class iE{constructor(){this.activeTargetIds=$f()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Gd{constructor(n,r,a,l,h){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Vn(yt),this.started=!1,this.Ks=[];const m=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=xI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new iE),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(E){return`firestore_bundle_loaded_${E}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,de.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const h=n.getItem(xI(n.persistenceKey,l));if(h){const m=Mm.$s(l,h);m&&(n.qs=n.qs.insert(m.clientId,m))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const l=n.Xs(a);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(RI(this.persistenceKey,n));if(a){const l=ko.$s(n,a);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(RI(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(l=>{this.ni(l)}),this.currentUser=n,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return De("SharedClientState","READ",n,r),r}setItem(n,r){De("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){De("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(De("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,de.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const l=r.ai(a.key);return r.ci(l,null)}{const l=r.ui(a.key,a.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const l=r.hi(a.key,a.newValue);if(l)return r.li(l)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const l=r.fi(a.key,a.newValue);if(l)return r.di(l)}}else if(a.key===r.Hs){if(null!==a.newValue){const l=r.Xs(a.newValue);if(l)return r.Zs(l)}}else if(a.key===r.Qs){const l=function(h){let m=Wn.T;if(null!=h)try{const E=JSON.parse(h);Je("number"==typeof E),m=E}catch(E){Ln("SharedClientState","Failed to read sequence number from WebStorage",E)}return m}(a.newValue);l!==Wn.T&&r.sequenceNumberHandler(l)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const l=new Rm(this.currentUser,n,r,a),h=NI(this.persistenceKey,this.currentUser,n);this.setItem(h,l.Os())}ni(n){const r=NI(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const l=RI(this.persistenceKey,n),h=new ko(n,r,a);this.setItem(l,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Mm.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),l=Number(a[1]);return Rm.$s(new ur(void 0!==a[2]?a[2]:null),l,r)}fi(n,r){const a=this.zs.exec(n),l=Number(a[1]);return ko.$s(l,r)}Xs(n){return rE.$s(n)}li(n){var r=this;return(0,de.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);De("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),h=this.ti(a),m=[],E=[];return h.forEach(D=>{l.has(D)||m.push(D)}),l.forEach(D=>{h.has(D)||E.push(D)}),this.syncEngine.gi(m,E).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=$f();return n.forEach((a,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class Ja{constructor(){this.yi=new iE,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new iE,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class MI{Ei(n){}shutdown(){}}class OI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vA{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class Om extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,l){const h=this.Bi(n,r);De("RestConnection","Sending: ",h,a);const m={};return this.Ui(m,l),this.qi(n,h,m,a).then(E=>(De("RestConnection","Received: ",E),E),E=>{throw nm("RestConnection",`${n} failed with error: `,E,"url: ",h,"request:",a),E})}Ki(n,r,a,l){return this.Li(n,r,a,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Id,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${Yx[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,l){return new Promise((h,m)=>{const E=new wC;E.listenOnce(xT.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case em.NO_ERROR:const S=E.getResponseJson();De("Connection","XHR received:",JSON.stringify(S)),h(S);break;case em.TIMEOUT:De("Connection",'RPC "'+n+'" timed out'),m(new ve(ne.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const N=E.getStatus();if(De("Connection",'RPC "'+n+'" failed with status:',N,"response text:",E.getResponseText()),N>0){const M=E.getResponseJson().error;if(M&&M.status&&M.message){const B=function(G){const ce=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ce)>=0?ce:ne.UNKNOWN}(M.status);m(new ve(B,M.message))}else m(new ve(ne.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new ve(ne.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{De("Connection",'RPC "'+n+'" completed.')}});const D=JSON.stringify(l);E.send(r,"POST",D,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=AT(),h=ST(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new EC({})),this.Ui(m.initMessageHeaders,r),(0,vt.uI)()||(0,vt.b$)()||(0,vt.d)()||(0,vt.w1)()||(0,vt.Mn)()||(0,vt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=a.join("");De("Connection","Creating WebChannel: "+E,m);const D=l.createWebChannel(E,m);let S=!1,N=!1;const M=new vA({vi:G=>{N?De("Connection","Not sending because WebChannel is closed:",G):(S||(De("Connection","Opening WebChannel transport."),D.open(),S=!0),De("Connection","WebChannel sending:",G),D.send(G))},Vi:()=>D.close()}),B=(G,ce,Ie)=>{G.listen(ce,Oe=>{try{Ie(Oe)}catch(ht){setTimeout(()=>{throw ht},0)}})};return B(D,tm.EventType.OPEN,()=>{N||De("Connection","WebChannel transport opened.")}),B(D,tm.EventType.CLOSE,()=>{N||(N=!0,De("Connection","WebChannel transport closed"),M.$i())}),B(D,tm.EventType.ERROR,G=>{N||(N=!0,nm("Connection","WebChannel transport errored:",G),M.$i(new ve(ne.UNAVAILABLE,"The operation could not be completed")))}),B(D,tm.EventType.MESSAGE,G=>{var ce;if(!N){const Ie=G.data[0];Je(!!Ie);const Oe=Ie,ht=Oe.error||(null===(ce=Oe[0])||void 0===ce?void 0:ce.error);if(ht){De("Connection","WebChannel received error:",ht);const gt=ht.status;let ct=function(Qn){const xD=Nn[Qn];if(void 0!==xD)return KC(xD)}(gt),St=ht.message;void 0===ct&&(ct=ne.INTERNAL,St="Unknown error status: "+gt+" with message "+ht.message),N=!0,M.$i(new ve(ct,St)),D.close()}else De("Connection","WebChannel received:",Ie),M.Oi(Ie)}}),B(h,Ux.STAT_EVENT,G=>{G.stat===vC.PROXY?De("Connection","Detected buffering proxy"):G.stat===vC.NOPROXY&&De("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ki()},0),M}}function PI(){return"undefined"!=typeof window?window:null}function Pm(){return"undefined"!=typeof document?document:null}function qd(i){return new qx(i,!0)}class km{constructor(n,r,a=1e3,l=1.5,h=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=l,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-a);l>0&&De("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Fm{constructor(n,r,a,l,h,m){this.Oe=n,this.er=a,this.nr=l,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new km(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,de.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,de.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,de.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(Ln(r.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===ne.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const l=new ve(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,de.Z)(function*(){n.state=0,n.start()}))}pr(n){return De("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kI extends Fm{constructor(n,r,a,l,h){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,h),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(D=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:He(),l=n.targetChange.targetIds||[],h=function(D,S){return D.D?(Je(void 0===S||"string"==typeof S),Sn.fromBase64String(S||"")):(Je(void 0===S||S instanceof Uint8Array),Sn.fromUint8Array(S||new Uint8Array))}(i,n.targetChange.resumeToken),m=n.targetChange.cause,E=m&&function(D){const S=void 0===D.code?ne.UNKNOWN:KC(D.code);return new ve(S,D.message||"")}(m);r=new Sv(a,l,h,E||null)}else if("documentChange"in n){const a=n.documentChange,l=gi(i,a.document.name),h=Pe(a.document.updateTime),m=new dr({mapValue:{fields:a.document.fields}}),E=cn.newFoundDocument(l,h,m);r=new Hf(a.targetIds||[],a.removedTargetIds||[],E.key,E)}else if("documentDelete"in n){const a=n.documentDelete,l=gi(i,a.document),h=a.readTime?Pe(a.readTime):ut.min(),m=cn.newNoDocument(l,h);r=new Hf([],a.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const a=n.documentRemove,l=gi(i,a.document);r=new Hf([],a.removedTargetIds||[],l,null)}else{if(!("filter"in n))return He();{const a=n.filter,h=new $T(a.count||0);r=new pm(a.targetId,h)}}var D;return r}(this.N,n),a=function(l){if(!("targetChange"in l))return ut.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?ut.min():h.readTime?Pe(h.readTime):ut.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=$a(this.N),r.addTarget=function(l,h){let m;const E=h.target;return m=Lf(E)?{documents:Fv(l,E)}:{query:nI(l,E)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=Nv(l,h.resumeToken):h.snapshotVersion.compareTo(ut.min())>0&&(m.readTime=Vd(l,h.snapshotVersion.toTimestamp())),m}(this.N,n);const a=function(i,n){const r=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return He()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=$a(this.N),r.removeTarget=n,this.wr(r)}}class FI extends Fm{constructor(n,r,a,l,h){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,h),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(Je(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(Je(void 0!==n),i.map(r=>function(a,l){let h=Pe(a.updateTime?a.updateTime:l);return h.isEqual(ut.min())&&(h=Pe(l)),new $C(h,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=Pe(n.commitTime);return this.listener.vr(a,r)}return Je(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=$a(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>Wf(this.N,a))};this.wr(r)}}class EA extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ne.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new ve(ne.UNKNOWN,l.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ne.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new ve(ne.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class wA{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Ln(r),this.$r=!1):De("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class LI{constructor(n,r,a,l,h){var m=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(E=>{a.enqueueAndForget((0,de.Z)(function*(){var D;Wl(m)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,de.Z)(function*(S){const N=Ae(S);N.Kr.add(4),yield Fo(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield Jf(N)}),function(S){return D.apply(this,arguments)})(m))}))}),this.Wr=new wA(a,l)}}function Jf(i){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,de.Z)(function*(i){if(Wl(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function Fo(i){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,de.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function sE(i,n){const r=Ae(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),ql(r)?Xa(r):Yl(r).cr()&&bt(r,n))}function Lo(i,n){const r=Ae(i),a=Yl(r);r.qr.delete(n),a.cr()&&Vo(r,n),0===r.qr.size&&(a.cr()?a.lr():Wl(r)&&r.Wr.set("Unknown"))}function bt(i,n){i.Gr.Y(n.targetId),Yl(i).Ir(n)}function Vo(i,n){i.Gr.Y(n),Yl(i).Ar(n)}function Xa(i){i.Gr=new qT({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),Yl(i).start(),i.Wr.Or()}function ql(i){return Wl(i)&&!Yl(i).ar()&&i.qr.size>0}function Wl(i){return 0===Ae(i).Kr.size}function Xe(i){i.Gr=void 0}function Ri(i){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,de.Z)(function*(i){i.qr.forEach((n,r)=>{bt(i,n)})})).apply(this,arguments)}function zl(i,n){return VI.apply(this,arguments)}function VI(){return(VI=(0,de.Z)(function*(i,n){Xe(i),ql(i)?(i.Wr.Lr(n),Xa(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function UI(i,n,r){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,de.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof Sv&&2===n.state&&n.cause)try{yield(a=(0,de.Z)(function*(l,h){const m=h.cause;for(const E of h.targetIds)l.qr.has(E)&&(yield l.remoteSyncer.rejectListen(E,m),l.qr.delete(E),l.Gr.removeTarget(E))}),function(l,h){return a.apply(this,arguments)})(i,n)}catch(a){De("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield oE(i,a)}else if(n instanceof Hf?i.Gr.rt(n):n instanceof pm?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(ut.min()))try{const a=yield lA(i.localStore);r.compareTo(a)>=0&&(yield function(l,h){const m=l.Gr._t(h);return m.targetChanges.forEach((E,D)=>{if(E.resumeToken.approximateByteSize()>0){const S=l.qr.get(D);S&&l.qr.set(D,S.withResumeToken(E.resumeToken,h))}}),m.targetMismatches.forEach(E=>{const D=l.qr.get(E);if(!D)return;l.qr.set(E,D.withResumeToken(Sn.EMPTY_BYTE_STRING,D.snapshotVersion)),Vo(l,E);const S=new qa(D.target,E,1,D.sequenceNumber);bt(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(i,r))}catch(a){De("RemoteStore","Failed to raise snapshot:",a),yield oE(i,a)}var a})).apply(this,arguments)}function oE(i,n,r){return aE.apply(this,arguments)}function aE(){return(aE=(0,de.Z)(function*(i,n,r){if(!Ni(n))throw n;i.Kr.add(1),yield Fo(i),i.Wr.set("Offline"),r||(r=()=>lA(i.localStore)),i.asyncQueue.enqueueRetryable((0,de.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Jf(i)}))})).apply(this,arguments)}function BI(i,n){return n().catch(r=>oE(i,r,n))}function pr(i){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,de.Z)(function*(i){const n=Ae(i),r=yi(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;rs(n);)try{const l=yield dA(n.localStore,a);if(null===l){0===n.Ur.length&&r.lr();break}a=l.batchId,jI(n,l)}catch(l){yield oE(n,l)}$I(n)&&uE(n)})).apply(this,arguments)}function rs(i){return Wl(i)&&i.Ur.length<10}function jI(i,n){i.Ur.push(n);const r=yi(i);r.cr()&&r.br&&r.Pr(n.mutations)}function $I(i){return Wl(i)&&!yi(i).ar()&&i.Ur.length>0}function uE(i){yi(i).start()}function lE(i){return eu.apply(this,arguments)}function eu(){return(eu=(0,de.Z)(function*(i){yi(i).Sr()})).apply(this,arguments)}function ep(i){return cE.apply(this,arguments)}function cE(){return(cE=(0,de.Z)(function*(i){const n=yi(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function Kl(i,n,r){return dE.apply(this,arguments)}function dE(){return(dE=(0,de.Z)(function*(i,n,r){const a=i.Ur.shift(),l=Zf.from(a,n,r);yield BI(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield pr(i)})).apply(this,arguments)}function HI(i,n){return tp.apply(this,arguments)}function tp(){return(tp=(0,de.Z)(function*(i,n){var r;n&&yi(i).br&&(yield(r=(0,de.Z)(function*(a,l){if(zC(h=l.code)&&h!==ne.ABORTED){const m=a.Ur.shift();yi(a).hr(),yield BI(a,()=>a.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield pr(a)}var h}),function(a,l){return r.apply(this,arguments)})(i,n)),$I(i)&&uE(i)})).apply(this,arguments)}function Zl(i,n){return np.apply(this,arguments)}function np(){return(np=(0,de.Z)(function*(i,n){const r=Ae(i);n?(r.Kr.delete(2),yield Jf(r)):n||(r.Kr.add(2),yield Fo(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Yl(i){return i.zr||(i.zr=function(n,r,a){const l=Ae(n);return l.Cr(),new kI(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:Ri.bind(null,i),Ci:zl.bind(null,i),Tr:UI.bind(null,i)}),i.jr.push(function(){var n=(0,de.Z)(function*(r){r?(i.zr.hr(),ql(i)?Xa(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Xe(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function yi(i){return i.Hr||(i.Hr=function(n,r,a){const l=Ae(n);return l.Cr(),new FI(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:lE.bind(null,i),Ci:HI.bind(null,i),Vr:ep.bind(null,i),vr:Kl.bind(null,i)}),i.jr.push(function(){var n=(0,de.Z)(function*(r){r?(i.Hr.hr(),yield pr(i)):(yield i.Hr.stop(),i.Ur.length>0&&(De("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class hE{constructor(n,r,a,l,h){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(n,r,a,l,h){const m=Date.now()+a,E=new hE(n,r,m,l,h);return E.start(a),E}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ve(ne.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uo(i,n){if(Ln("AsyncQueue",`${n}: ${i}`),Ni(i))return new ve(ne.UNAVAILABLE,`${n}: ${i}`);throw i}class Ql{constructor(n){this.comparator=n?(r,a)=>n(r,a)||Ue.comparator(r.key,a.key):(r,a)=>Ue.comparator(r.key,a.key),this.keyedMap=Tv(),this.sortedSet=new Vn(this.comparator)}static emptySet(n){return new Ql(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof Ql)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new Ql;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class fE{constructor(){this.Jr=new Vn(Ue.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):He():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class Jl{constructor(n,r,a,l,h,m,E,D){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=E,this.excludesMetadataChanges=D}static fromInitialDocuments(n,r,a,l){const h=[];return r.forEach(m=>{h.push({type:0,doc:m})}),new Jl(n,r,Ql.emptySet(r),h,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&xd(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class Um{constructor(){this.Xr=void 0,this.listeners=[]}}class CA{constructor(){this.queries=new Qf(n=>dm(n),xd),this.onlineState="Unknown",this.Zr=new Set}}function rp(i,n){return ip.apply(this,arguments)}function ip(){return(ip=(0,de.Z)(function*(i,n){const r=Ae(i),a=n.query;let l=!1,h=r.queries.get(a);if(h||(l=!0,h=new Um),l)try{h.Xr=yield r.onListen(a)}catch(m){const E=Uo(m,`Initialization of query '${Di(n.query)}' failed`);return void n.onError(E)}r.queries.set(a,h),h.listeners.push(n),n.eo(r.onlineState),h.Xr&&n.no(h.Xr)&&Xl(r)})).apply(this,arguments)}function GI(i,n){return qI.apply(this,arguments)}function qI(){return(qI=(0,de.Z)(function*(i,n){const r=Ae(i),a=n.query;let l=!1;const h=r.queries.get(a);if(h){const m=h.listeners.indexOf(n);m>=0&&(h.listeners.splice(m,1),l=0===h.listeners.length)}if(l)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function et(i,n){const r=Ae(i);let a=!1;for(const l of n){const m=r.queries.get(l.query);if(m){for(const E of m.listeners)E.no(l)&&(a=!0);m.Xr=l}}a&&Xl(r)}function Qx(i,n,r){const a=Ae(i),l=a.queries.get(n);if(l)for(const h of l.listeners)h.onError(r);a.queries.delete(n)}function Xl(i){i.Zr.forEach(n=>{n.next()})}class pE{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)3!==l.type&&a.push(l);n=new Jl(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Jl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class IA{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class WI{constructor(n){this.N=n}zn(n){return gi(this.N,n)}Hn(n){return n.metadata.exists?Ov(this.N,n.document,!1):cn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Pe(n)}}class Jx{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=bA(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new WI(this.N);for(const l of n)if(l.metadata.queries){const h=a.zn(l.metadata.name);for(const m of l.metadata.queries){const E=(r.get(m)||xt()).add(h);r.set(m,E)}}return r}complete(){var n=this;return(0,de.Z)(function*(){const r=yield function(i,n,r,a){return Hd.apply(this,arguments)}(n.localStore,new WI(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const l of n.queries)yield Nm(n.localStore,l,a.get(l.name));return n.progress.taskState="Success",new Zx(Object.assign({},n.progress),r)})()}}function bA(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class zI{constructor(n){this.key=n}}class gr{constructor(n){this.key=n}}class KI{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=xt(),this.mutatedKeys=xt(),this.po=BC(n),this.Eo=new Ql(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new fE,l=r?r.Eo:this.Eo;let h=r?r.mutatedKeys:this.mutatedKeys,m=l,E=!1;const D=Vf(this.query)&&l.size===this.query.limit?l.last():null,S=So(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((N,M)=>{const B=l.get(N),G=Uf(this.query,M)?M:null,ce=!!B&&this.mutatedKeys.has(B.key),Ie=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Oe=!1;B&&G?B.data.isEqual(G.data)?ce!==Ie&&(a.track({type:3,doc:G}),Oe=!0):this.Ro(B,G)||(a.track({type:2,doc:G}),Oe=!0,(D&&this.po(G,D)>0||S&&this.po(G,S)<0)&&(E=!0)):!B&&G?(a.track({type:0,doc:G}),Oe=!0):B&&!G&&(a.track({type:1,doc:B}),Oe=!0,(D||S)&&(E=!0)),Oe&&(G?(m=m.add(G),h=Ie?h.add(N):h.delete(N)):(m=m.delete(N),h=h.delete(N)))}),Vf(this.query)||So(this.query))for(;m.size>this.query.limit;){const N=Vf(this.query)?m.last():m.first();m=m.delete(N.key),h=h.delete(N.key),a.track({type:1,doc:N})}return{Eo:m,Ao:a,Ln:E,mutatedKeys:h}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const h=n.Ao.Yr();h.sort((S,N)=>function(M,B){const G=ce=>{switch(ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return G(M)-G(B)}(S.type,N.type)||this.po(S.doc,N.doc)),this.bo(a);const m=r?this.Po():[],E=0===this.yo.size&&this.current?1:0,D=E!==this.mo;return this.mo=E,0!==h.length||D?{snapshot:new Jl(this.query,n.Eo,l,h,n.mutatedKeys,0===E,D,!1),vo:m}:{vo:m}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new fE,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=xt(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new gr(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new zI(a))}),r}So(n){this._o=n.Gn,this.yo=xt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Jl.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class DA{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class gE{constructor(n){this.key=n,this.Co=!1}}class TA{constructor(n,r,a,l,h,m){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Qf(E=>dm(E),xd),this.ko=new Map,this.$o=new Set,this.Oo=new Vn(Ue.comparator),this.Fo=new Map,this.Mo=new tE,this.Lo={},this.Bo=new Map,this.Uo=Oo.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function AA(i,n){return mE.apply(this,arguments)}function mE(){return(mE=(0,de.Z)(function*(i,n){const r=Zn(i);let a,l;const h=r.xo.get(n);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),l=h.view.Do();else{const m=yield $l(r.localStore,pi(n)),E=r.sharedClientState.addLocalQueryTarget(m.targetId);a=m.targetId,l=yield yE(r,n,a,"current"===E),r.isPrimaryClient&&sE(r.remoteStore,m)}return l})).apply(this,arguments)}function yE(i,n,r,a){return _E.apply(this,arguments)}function _E(){return(_E=(0,de.Z)(function*(i,n,r,a){i.Ko=(N,M,B)=>{return(G=(0,de.Z)(function*(ce,Ie,Oe,ht){let gt=Ie.view.Io(Oe);gt.Ln&&(gt=yield Sm(ce.localStore,Ie.query,!1).then(({documents:Qn})=>Ie.view.Io(Qn,gt)));const ct=ht&&ht.targetChanges.get(Ie.targetId),St=Ie.view.applyChanges(gt,ce.isPrimaryClient,ct);return YI(ce,Ie.targetId,St.vo),St.snapshot}),function(ce,Ie,Oe,ht){return G.apply(this,arguments)})(i,N,M,B);var G};const l=yield Sm(i.localStore,n,!0),h=new KI(n,l.Gn),m=h.Io(l.documents),E=Ld.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),D=h.applyChanges(m,i.isPrimaryClient,E);YI(i,r,D.vo);const S=new DA(n,r,h);return i.xo.set(n,S),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),D.snapshot})).apply(this,arguments)}function SA(i,n){return sp.apply(this,arguments)}function sp(){return(sp=(0,de.Z)(function*(i,n){const r=Ae(i),a=r.xo.get(n),l=r.ko.get(a.targetId);if(l.length>1)return r.ko.set(a.targetId,l.filter(h=>!xd(h,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Hl(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),Lo(r.remoteStore,a.targetId),tc(r,a.targetId)}).catch(Za))):(tc(r,a.targetId),yield Hl(r.localStore,a.targetId,!0))})).apply(this,arguments)}function vE(){return(vE=(0,de.Z)(function*(i,n,r){const a=Bm(i);try{const l=yield function(h,m){const E=Ae(h),D=zn.now(),S=m.reduce((M,B)=>M.add(B.key),xt());let N;return E.persistence.runTransaction("Locally write mutations","readwrite",M=>E.Qn.Pn(M,S).next(B=>{N=B;const G=[];for(const ce of m){const Ie=GC(ce,N.get(ce.key));null!=Ie&&G.push(new No(ce.key,Ie,um(Ie.value.mapValue),Cn.exists(!0)))}return E.In.addMutationBatch(M,D,G,m)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(a.localStore,n);a.sharedClientState.addPendingMutation(l.batchId),function(h,m,E){let D=h.Lo[h.currentUser.toKey()];D||(D=new Vn(yt)),D=D.insert(m,E),h.Lo[h.currentUser.toKey()]=D}(a,l.batchId,r),yield Bo(a,l.changes),yield pr(a.remoteStore)}catch(l){const h=Uo(l,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function EE(i,n){return op.apply(this,arguments)}function op(){return(op=(0,de.Z)(function*(i,n){const r=Ae(i);try{const a=yield cA(r.localStore,n);n.targetChanges.forEach((l,h)=>{const m=r.Fo.get(h);m&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Co=!0:l.modifiedDocuments.size>0?Je(m.Co):l.removedDocuments.size>0&&(Je(m.Co),m.Co=!1))}),yield Bo(r,a,n)}catch(a){yield Za(a)}})).apply(this,arguments)}function ZI(i,n,r){const a=Ae(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const l=[];a.xo.forEach((h,m)=>{const E=m.view.eo(n);E.snapshot&&l.push(E.snapshot)}),function(h,m){const E=Ae(h);E.onlineState=m;let D=!1;E.queries.forEach((S,N)=>{for(const M of N.listeners)M.eo(m)&&(D=!0)}),D&&Xl(E)}(a.eventManager,n),l.length&&a.No.Tr(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function Xx(i,n,r){return wE.apply(this,arguments)}function wE(){return(wE=(0,de.Z)(function*(i,n,r){const a=Ae(i);a.sharedClientState.updateQueryState(n,"rejected",r);const l=a.Fo.get(n),h=l&&l.key;if(h){let m=new Vn(Ue.comparator);m=m.insert(h,cn.newNoDocument(h,ut.min()));const E=xt().add(h),D=new Fd(ut.min(),new Map,new vn(yt),m,E);yield EE(a,D),a.Oo=a.Oo.remove(h),a.Fo.delete(n),TE(a)}else yield Hl(a.localStore,n,!1).then(()=>tc(a,n,r)).catch(Za)})).apply(this,arguments)}function NA(i,n){return CE.apply(this,arguments)}function CE(){return(CE=(0,de.Z)(function*(i,n){const r=Ae(i),a=n.batch.batchId;try{const l=yield uA(r.localStore,n);DE(r,a,null),bE(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield Bo(r,l)}catch(l){yield Za(l)}})).apply(this,arguments)}function RA(i,n,r){return IE.apply(this,arguments)}function IE(){return(IE=(0,de.Z)(function*(i,n,r){const a=Ae(i);try{const l=yield function(h,m){const E=Ae(h);return E.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let S;return E.In.lookupMutationBatch(D,m).next(N=>(Je(null!==N),S=N.keys(),E.In.removeMutationBatch(D,N))).next(()=>E.In.performConsistencyCheck(D)).next(()=>E.Qn.Pn(D,S))})}(a.localStore,n);DE(a,n,r),bE(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield Bo(a,l)}catch(l){yield Za(l)}})).apply(this,arguments)}function ec(){return(ec=(0,de.Z)(function*(i,n){const r=Ae(i);Wl(r.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(h){const m=Ae(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",E=>m.In.getHighestUnacknowledgedBatchId(E))}(r.localStore);if(-1===a)return void n.resolve();const l=r.Bo.get(a)||[];l.push(n),r.Bo.set(a,l)}catch(a){const l=Uo(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function bE(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function DE(i,n,r){const a=Ae(i);let l=a.Lo[a.currentUser.toKey()];if(l){const h=l.get(n);h&&(r?h.reject(r):h.resolve(),l=l.remove(n)),a.Lo[a.currentUser.toKey()]=l}}function tc(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||zd(i,a)})}function zd(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(Lo(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),TE(i))}function YI(i,n,r){for(const a of r)a instanceof zI?(i.Mo.addReference(a.key,n),QI(i,a)):a instanceof gr?(De("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||zd(i,a.key)):He()}function QI(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(De("SyncEngine","New document in limbo: "+r),i.$o.add(a),TE(i))}function TE(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Ue(At.fromString(n)),a=i.Uo.next();i.Fo.set(a,new gE(r)),i.Oo=i.Oo.insert(r,a),sE(i.remoteStore,new qa(pi(Ol(r.path)),a,2,Wn.T))}}function Bo(i,n,r){return AE.apply(this,arguments)}function AE(){return(AE=(0,de.Z)(function*(i,n,r){const a=Ae(i),l=[],h=[],m=[];var E;a.xo.isEmpty()||(a.xo.forEach((E,D)=>{m.push(a.Ko(D,n,r).then(S=>{if(S){a.isPrimaryClient&&a.sharedClientState.updateQueryState(D.targetId,S.fromCache?"not-current":"current"),l.push(S);const N=Yv.kn(D.targetId,S);h.push(N)}}))}),yield Promise.all(m),a.No.Tr(l),yield(E=(0,de.Z)(function*(D,S){const N=Ae(D);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ye.forEach(S,B=>ye.forEach(B.Nn,G=>N.persistence.referenceDelegate.addReference(M,B.targetId,G)).next(()=>ye.forEach(B.xn,G=>N.persistence.referenceDelegate.removeReference(M,B.targetId,G)))))}catch(M){if(!Ni(M))throw M;De("LocalStore","Failed to update sequence numbers: "+M)}for(const M of S){const B=M.targetId;if(!M.fromCache){const G=N.Un.get(B),Ie=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);N.Un=N.Un.insert(B,Ie)}}}),function(D,S){return E.apply(this,arguments)})(a.localStore,h))})).apply(this,arguments)}function OA(i,n){return SE.apply(this,arguments)}function SE(){return(SE=(0,de.Z)(function*(i,n){const r=Ae(i);if(!r.currentUser.isEqual(n)){De("SyncEngine","User change. New user:",n.toKey());const a=yield Dm(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(m=>{m.forEach(E=>{E.reject(new ve(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield Bo(r,a.Wn)}var l})).apply(this,arguments)}function JI(i,n){const r=Ae(i),a=r.Fo.get(n);if(a&&a.Co)return xt().add(a.key);{let l=xt();const h=r.ko.get(n);if(!h)return l;for(const m of h){const E=r.xo.get(m);l=l.unionWith(E.view.To)}return l}}function PA(i,n){return xE.apply(this,arguments)}function xE(){return(xE=(0,de.Z)(function*(i,n){const r=Ae(i),a=yield Sm(r.localStore,n.query,!0),l=n.view.So(a);return r.isPrimaryClient&&YI(r,n.targetId,l.vo),l})).apply(this,arguments)}function eN(i){return XI.apply(this,arguments)}function XI(){return(XI=(0,de.Z)(function*(i){const n=Ae(i);return Xv(n.localStore).then(r=>Bo(n,r))})).apply(this,arguments)}function tN(i,n,r,a){return ap.apply(this,arguments)}function ap(){return(ap=(0,de.Z)(function*(i,n,r,a){const l=Ae(i),h=yield function(m,E){const D=Ae(m),S=Ae(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Xt(N,E).next(M=>M?D.Qn.Pn(N,M):ye.resolve(null)))}(l.localStore,n);var E;null!==h?("pending"===r?yield pr(l.remoteStore):"acknowledged"===r||"rejected"===r?(DE(l,n,a||null),bE(l,n),E=n,Ae(Ae(l.localStore).In).te(E)):He(),yield Bo(l,h)):De("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function NE(){return(NE=(0,de.Z)(function*(i,n){const r=Ae(i);if(Zn(r),Bm(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),l=yield eb(r,a.toArray());r.qo=!0,yield Zl(r.remoteStore,!0);for(const h of l)sE(r.remoteStore,h)}else if(!1===n&&!1!==r.qo){const a=[];let l=Promise.resolve();r.ko.forEach((h,m)=>{r.sharedClientState.isLocalQueryTarget(m)?a.push(m):l=l.then(()=>(tc(r,m),Hl(r.localStore,m,!0))),Lo(r.remoteStore,m)}),yield l,yield eb(r,a),function(h){const m=Ae(h);m.Fo.forEach((E,D)=>{Lo(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Vn(Ue.comparator)}(r),r.qo=!1,yield Zl(r.remoteStore,!1)}})).apply(this,arguments)}function eb(i,n,r){return RE.apply(this,arguments)}function RE(){return(RE=(0,de.Z)(function*(i,n,r){const a=Ae(i),l=[],h=[];for(const m of n){let E;const D=a.ko.get(m);if(D&&0!==D.length){E=yield $l(a.localStore,pi(D[0]));for(const S of D){const N=a.xo.get(S),M=yield PA(a,N);M.snapshot&&h.push(M.snapshot)}}else{const S=yield AI(a.localStore,m);E=yield $l(a.localStore,S),yield yE(a,tb(S),m,!1)}l.push(E)}return a.No.Tr(h),l})).apply(this,arguments)}function tb(i){return UC(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function FA(i){const n=Ae(i);return Ae(Ae(n.localStore).persistence).pn()}function nb(i,n,r,a){return up.apply(this,arguments)}function up(){return(up=(0,de.Z)(function*(i,n,r,a){const l=Ae(i);if(l.qo)De("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const h=yield Xv(l.localStore),m=Fd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield Bo(l,h,m);break}case"rejected":yield Hl(l.localStore,n,!0),tc(l,n,a);break;default:He()}})).apply(this,arguments)}function LA(i,n,r){return tu.apply(this,arguments)}function tu(){return(tu=(0,de.Z)(function*(i,n,r){const a=Zn(i);if(a.qo){for(const l of n){if(a.ko.has(l)){De("SyncEngine","Adding an already active target "+l);continue}const h=yield AI(a.localStore,l),m=yield $l(a.localStore,h);yield yE(a,tb(h),m.targetId,!1),sE(a.remoteStore,m)}for(const l of r)a.ko.has(l)&&(yield Hl(a.localStore,l,!1).then(()=>{Lo(a.remoteStore,l),tc(a,l)}).catch(Za))}})).apply(this,arguments)}function Zn(i){const n=Ae(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=JI.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Xx.bind(null,n),n.No.Tr=et.bind(null,n.eventManager),n.No.jo=Qx.bind(null,n.eventManager),n}function Bm(i){const n=Ae(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=NA.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=RA.bind(null,n),n}class jm{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,de.Z)(function*(){r.N=qd(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return Jv(this.persistence,new DI,n.initialUser,this.N)}Go(n){return new yA(nE.Ns,this.N)}Wo(n){return new Ja}terminate(){var n=this;return(0,de.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class rb extends jm{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,de.Z)(function*(){yield r().call(a,n),yield function(i){return eE.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield Bm(a.Jo.syncEngine),yield pr(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return Jv(this.persistence,new DI,n.initialUser,this.N)}zo(n){return new CI(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=Zv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new II(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,PI(),Pm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new Ja}}class ib extends rb{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,de.Z)(function*(){yield r().call(a,n);const l=a.Jo.syncEngine;a.sharedClientState instanceof Gd&&(a.sharedClientState.syncEngine={_i:tN.bind(null,l),mi:nb.bind(null,l),gi:LA.bind(null,l),pn:FA.bind(null,l),wi:eN.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var h=(0,de.Z)(function*(m){yield function(i,n){return NE.apply(this,arguments)}(a.Jo.syncEngine,m),a.gcScheduler&&(m&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):m||a.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(n){const r=PI();if(!Gd.bt(r))throw new ve(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Zv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Gd(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class $m{initialize(n,r){var a=this;return(0,de.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>ZI(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=OA.bind(null,a.syncEngine),yield Zl(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new CA}createDatastore(n){const r=qd(n.databaseInfo.databaseId),a=new Om(n.databaseInfo);return new EA(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,l=n.asyncQueue,h=E=>ZI(this.syncEngine,E,0),m=OI.bt()?new OI:new MI,new LI(r,a,l,h,m);var r,a,l,h,m}createSyncEngine(n,r){return function(a,l,h,m,E,D,S){const N=new TA(a,l,h,m,E,D);return S&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,de.Z)(function*(r){const a=Ae(r);De("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield Fo(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function ME(i,n=10240){let r=0;return{read:()=>(0,de.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hm{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class VA{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new lr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,de.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,de.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,de.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),l=Number(a);isNaN(l)&&n.sa(`length string (${a}) is not valid number`);const h=yield n.ia(l);return new IA(JSON.parse(h),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,de.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,de.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,de.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class UA{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,de.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new ve(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,de.Z)(function*(h,m){const E=Ae(h),D=$a(E.N)+"/documents",S={documents:m.map(G=>Gf(E.N,G))},N=yield E.Ki("BatchGetDocuments",D,S),M=new Map;N.forEach(G=>{const ce=function(i,n){return"found"in n?function(r,a){Je(!!a.found);const l=gi(r,a.found.name),h=Pe(a.found.updateTime),m=new dr({mapValue:{fields:a.found.fields}});return cn.newFoundDocument(l,h,m)}(i,n):"missing"in n?function(r,a){Je(!!a.missing),Je(!!a.readTime);const l=gi(r,a.missing),h=Pe(a.readTime);return cn.newNoDocument(l,h)}(i,n):He()}(E.N,G);M.set(ce.key.toString(),ce)});const B=[];return m.forEach(G=>{const ce=M.get(G.toString());Je(!!ce),B.push(ce)}),B}),function(h,m){return l.apply(this,arguments)})(r.datastore,n);var l;return a.forEach(l=>r.recordVersion(l)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new jf(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,de.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,l)=>{const h=Ue.fromPath(l);n.mutations.push(new Dv(h,n.precondition(h)))}),yield(a=(0,de.Z)(function*(l,h){const m=Ae(l),E=$a(m.N)+"/documents",D={writes:h.map(S=>Wf(m.N,S))};yield m.Li("Commit",E,D)}),function(l,h){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw He();r=ut.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new ve(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?Cn.updateTime(r):Cn.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(ut.min()))throw new ve(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(r)}return Cn.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class sb{constructor(n,r,a,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=l,this.aa=5,this.rr=new km(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,de.Z)(function*(){const r=new UA(n.datastore),a=n.ua(r);a&&a.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(h=>{n.ha(h)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!To(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!zC(r)}return!1}}class BA{constructor(n,r,a){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ur.UNAUTHENTICATED,this.clientId=cv.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var h=(0,de.Z)(function*(m){De("FirestoreClient","Received user=",m.uid),yield l.credentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,de.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const l=Uo(a,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function jA(i,n){return OE.apply(this,arguments)}function OE(){return(OE=(0,de.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,de.Z)(function*(h){a.isEqual(h)||(yield Dm(n.localStore,h),a=h)});return function(h){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function ob(i,n){return nu.apply(this,arguments)}function nu(){return(nu=(0,de.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield ab(i);De("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(l=>{return(h=(0,de.Z)(function*(m,E){const D=Ae(m);D.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const S=Wl(D);D.Kr.add(3),yield Fo(D),S&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(E),D.Kr.delete(3),yield Jf(D)}),function(m,E){return h.apply(this,arguments)})(n.remoteStore,l);var h}),i.onlineComponents=n})).apply(this,arguments)}function ab(i){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,de.Z)(function*(i){return i.offlineComponents||(De("FirestoreClient","Using default OfflineComponentProvider"),yield jA(i,new jm)),i.offlineComponents})).apply(this,arguments)}function qm(i){return ub.apply(this,arguments)}function ub(){return(ub=(0,de.Z)(function*(i){return i.onlineComponents||(De("FirestoreClient","Using default OnlineComponentProvider"),yield ob(i,new $m)),i.onlineComponents})).apply(this,arguments)}function PE(i){return ab(i).then(n=>n.persistence)}function kE(i){return ab(i).then(n=>n.localStore)}function Wm(i){return qm(i).then(n=>n.remoteStore)}function FE(i){return qm(i).then(n=>n.syncEngine)}function Kd(i){return LE.apply(this,arguments)}function LE(){return(LE=(0,de.Z)(function*(i){const n=yield qm(i),r=n.eventManager;return r.onListen=AA.bind(null,n.syncEngine),r.onUnlisten=SA.bind(null,n.syncEngine),r})).apply(this,arguments)}function lb(i,n,r={}){const a=new lr;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(l,h,m,E,D){const S=new Hm({next:M=>{h.enqueueAndForget(()=>GI(l,N));const B=M.docs.has(m);!B&&M.fromCache?D.reject(new ve(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&M.fromCache&&E&&"server"===E.source?D.reject(new ve(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(M)},error:M=>D.reject(M)}),N=new pE(Ol(m.path),S,{includeMetadataChanges:!0,uo:!0});return rp(l,N)}(yield Kd(i),i.asyncQueue,n,r,a)})),a.promise}function cb(i,n,r={}){const a=new lr;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(l,h,m,E,D){const S=new Hm({next:M=>{h.enqueueAndForget(()=>GI(l,N)),M.fromCache&&"server"===E.source?D.reject(new ve(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(M)},error:M=>D.reject(M)}),N=new pE(m,S,{includeMetadataChanges:!0,uo:!0});return rp(l,N)}(yield Kd(i),i.asyncQueue,n,r,a)})),a.promise}class fb{constructor(n,r,a,l,h,m,E,D){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=E,this.useFetchStreams=D}}class nc{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof nc&&n.projectId===this.projectId&&n.database===this.database}}const VE=new Map;function UE(i,n,r){if(!r)throw new ve(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function pb(i,n,r,a){if(!0===n&&!0===a)throw new ve(ne.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function gb(i){if(!Ue.isDocumentKey(i))throw new ve(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mb(i){if(Ue.isDocumentKey(i))throw new ve(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zm(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":He()}function wt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new ve(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=zm(i);throw new ve(ne.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function yb(i,n){if(n<=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class Zd{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new ve(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ve(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,pb("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class jo{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1,n instanceof nc?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ve(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(a.options.projectId)}(n))}get app(){if(!this._app)throw new ve(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new Bx;switch(r.type){case"gapi":const a=r.client;return Je(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new OT(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new ve(ne.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VE.get(n);r&&(De("ComponentProvider","Removing Datastore"),VE.delete(n),r.terminate())}(this),Promise.resolve()}}class Ft{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Ft(this.firestore,n,this._key)}}class en{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new en(this.firestore,n,this._query)}}class zs extends en{constructor(n,r,a){super(n,r,Ol(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Ft(this.firestore,null,new Ue(n))}withConverter(n){return new zs(this.firestore,n,this._path)}}function cp(i,n,...r){if(i=(0,vt.m9)(i),UE("collection","path",n),i instanceof jo){const a=At.fromString(n,...r);return mb(a),new zs(i,null,a)}{if(!(i instanceof Ft||i instanceof zs))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(n,...r));return mb(a),new zs(i.firestore,null,a)}}function Km(i,n,...r){if(i=(0,vt.m9)(i),1===arguments.length&&(n=cv.I()),UE("doc","path",n),i instanceof jo){const a=At.fromString(n,...r);return gb(a),new Ft(i,null,new Ue(a))}{if(!(i instanceof Ft||i instanceof zs))throw new ve(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(At.fromString(n,...r));return gb(a),new Ft(i.firestore,i instanceof zs?i.converter:null,new Ue(a))}}function ZA(i,n){return i=(0,vt.m9)(i),n=(0,vt.m9)(n),(i instanceof Ft||i instanceof zs)&&(n instanceof Ft||n instanceof zs)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function Zm(i,n){return i=(0,vt.m9)(i),n=(0,vt.m9)(n),i instanceof en&&n instanceof en&&i.firestore===n.firestore&&xd(i._query,n._query)&&i.converter===n.converter}class BE{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new km(this,"async_queue_retry"),this.Ea=()=>{const r=Pm();r&&De("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Pm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Pm();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new lr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,de.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Ni(r))throw r;De("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=hE.createAndSchedule(this,n,r,a,h=>this.Ra(h));return this._a.push(l),l}Ta(){this.ma&&He()}verifyOperationInProgress(){}ba(){var n=this;return(0,de.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function Ym(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(i)}class jE{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class En extends jo{constructor(n,r){super(n,r),this.type="firestore",this._queue=new BE,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||HE(this),this._firestoreClient.terminate()}}function Un(i){return i._firestoreClient||HE(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function HE(i){var n;const r=i._freezeSettings(),a=(h=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new fb(i._databaseId,h,i._persistenceKey,(E=r).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var h,E;i._firestoreClient=new BA(i._credentials,i._queue,a)}function vb(i,n,r){const a=new lr;return i.asyncQueue.enqueue((0,de.Z)(function*(){try{yield jA(i,r),yield ob(i,n),a.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===ne.FAILED_PRECONDITION||h.code===ne.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var h})).then(()=>a.promise)}function bb(i){if(i._initialized||i._terminated)throw new ve(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new ve(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Ur{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Ur(Sn.fromBase64String(n))}catch(r){throw new ve(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new Ur(Sn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class rc{constructor(n){this._methodName=n}}class Qm{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new ve(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new ve(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return yt(this._lat,n._lat)||yt(this._long,n._long)}}const iN=/^__.*__$/;class dp{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new No(n,this.data,this.fieldMask,r,this.fieldTransforms):new kd(n,this.data,r,this.fieldTransforms)}}class Db{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new No(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function Jm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class Xm{constructor(n,r,a,l,h,m){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=l,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new Xm(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.ka(n),l}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return pp(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(Jm(this.Da)&&iN.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class Tb{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||qd(n)}Ba(n,r,a,l=!1){return new Xm({Da:n,methodName:r,La:a,path:cr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ic(i){const n=i._freezeSettings(),r=qd(i._databaseId);return new Tb(i._databaseId,!!n.ignoreUndefinedProperties,r)}function ey(i,n,r,a,l,h={}){const m=i.Ba(h.merge||h.mergeFields?2:0,n,r,l);hp("Data must be an object, but it was:",m,a);const E=ZE(a,m);let D,S;if(h.merge)D=new xl(m.fieldMask),S=m.fieldTransforms;else if(h.mergeFields){const N=[];for(const M of h.mergeFields){const B=fp(n,M,r);if(!m.contains(B))throw new ve(ne.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);QE(N,B)||N.push(B)}D=new xl(N),S=m.fieldTransforms.filter(M=>D.covers(M.field))}else D=null,S=m.fieldTransforms;return new dp(new dr(E),D,S)}class sc extends rc{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof sc}}function qE(i,n,r){return new Xm({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class ty extends rc{_toFieldTransform(n){return new Ba(n.path,new Nd)}isEqual(n){return n instanceof ty}}class ny extends rc{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=qE(this,n,!0),a=this.Ua.map(h=>Ks(h,r)),l=new xo(a);return new Ba(n.path,l)}isEqual(n){return this===n}}class WE extends rc{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=qE(this,n,!0),a=this.Ua.map(h=>Ks(h,r)),l=new Pl(a);return new Ba(n.path,l)}isEqual(n){return this===n}}class sN extends rc{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Md(n.N,_v(n.N,this.qa));return new Ba(n.path,r)}isEqual(n){return this===n}}function ry(i,n,r,a){const l=i.Ba(1,n,r);hp("Data must be an object, but it was:",l,a);const h=[],m=dr.empty();Sl(a,(D,S)=>{const N=YE(n,D,r);S=(0,vt.m9)(S);const M=l.$a(N);if(S instanceof sc)h.push(N);else{const B=Ks(S,M);null!=B&&(h.push(N),m.set(N,B))}});const E=new xl(h);return new Db(m,E,l.fieldTransforms)}function zE(i,n,r,a,l,h){const m=i.Ba(1,n,r),E=[fp(n,a,r)],D=[l];if(h.length%2!=0)throw new ve(ne.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<h.length;B+=2)E.push(fp(n,h[B])),D.push(h[B+1]);const S=[],N=dr.empty();for(let B=E.length-1;B>=0;--B)if(!QE(S,E[B])){const G=E[B];let ce=D[B];ce=(0,vt.m9)(ce);const Ie=m.$a(G);if(ce instanceof sc)S.push(G);else{const Oe=Ks(ce,Ie);null!=Oe&&(S.push(G),N.set(G,Oe))}}const M=new xl(S);return new Db(N,M,m.fieldTransforms)}function KE(i,n,r,a=!1){return Ks(r,i.Ba(a?4:3,n))}function Ks(i,n){if(Ab(i=(0,vt.m9)(i)))return hp("Unsupported field value:",n,i),ZE(i,n);if(i instanceof rc)return function(r,a){if(!Jm(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const l=[];let h=0;for(const m of r){let E=Ks(m,a.Oa(h));null==E&&(E={nullValue:"NULL_VALUE"}),l.push(E),h++}return{arrayValue:{values:l}}}(i,n)}return function(r,a){if(null===(r=(0,vt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return _v(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=zn.fromDate(r);return{timestampValue:Vd(a.N,l)}}if(r instanceof zn){const l=new zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vd(a.N,l)}}if(r instanceof Qm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:Nv(a.N,r._byteString)};if(r instanceof Ft){const l=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(l))throw a.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Rv(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${zm(r)}`)}(i,n)}function ZE(i,n){const r={};return DC(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Sl(i,(a,l)=>{const h=Ks(l,n.Na(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function Ab(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof zn||i instanceof Qm||i instanceof Ur||i instanceof Ft||i instanceof rc)}function hp(i,n,r){if(!Ab(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=zm(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function fp(i,n,r){if((n=(0,vt.m9)(n))instanceof ru)return n._internalPath;if("string"==typeof n)return YE(i,n);throw pp("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const XA=new RegExp("[~\\*/\\[\\]]");function YE(i,n,r){if(n.search(XA)>=0)throw pp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ru(...n.split("."))._internalPath}catch(a){throw pp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function pp(i,n,r,a,l){const h=a&&!a.isEmpty(),m=void 0!==l;let E=`Function ${n}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let D="";return(h||m)&&(D+=" (found",h&&(D+=` in field ${a}`),m&&(D+=` in document ${l}`),D+=")"),new ve(ne.INVALID_ARGUMENT,E+i+D)}function QE(i,n){return i.some(r=>r.isEqual(n))}class Yd{constructor(n,r,a,l,h){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new eS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class eS extends Yd{data(){return super.data()}}function gp(i,n){return"string"==typeof n?YE(i,n):n instanceof ru?n._internalPath:n._delegate._internalPath}class iu{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class $o extends Yd{constructor(n,r,a,l,h,m){super(n,r,a,l,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(gp("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class mp extends $o{data(n={}){return super.data(n)}}class Ho{constructor(n,r,a,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new iu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new mp(this._firestore,this._userDataWriter,a.key,a,new iu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ve(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>({type:"added",doc:new mp(a._firestore,a._userDataWriter,m.doc.key,m.doc,new iu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const E=new mp(a._firestore,a._userDataWriter,m.doc.key,m.doc,new iu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let D=-1,S=-1;return 0!==m.type&&(D=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),S=h.indexOf(m.doc.key)),{type:tS(m.type),doc:E,oldIndex:D,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function tS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}function JE(i,n){return i instanceof $o&&n instanceof $o?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof Ho&&n instanceof Ho&&i._firestore===n._firestore&&Zm(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function XE(i){if(So(i)&&0===i.explicitOrderBy.length)throw new ve(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}function Go(i,...n){for(const r of n)i=r._apply(i);return i}class nS extends Qd{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=ic(n.firestore),a=function(l,h,m,E,D,S,N){let M;if(D.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){cS(N,S);const G=[];for(const ce of N)G.push(lS(E,l,ce));M={arrayValue:{values:G}}}else M=lS(E,l,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||cS(N,S),M=KE(m,"where",N,"in"===S||"not-in"===S);const B=Ir.create(D,S,M);return function(G,ce){if(ce.v()){const Oe=yv(G);if(null!==Oe&&!Oe.isEqual(ce.field))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${ce.field.toString()}'`);const ht=mv(G);null!==ht&&dS(0,ce.field,ht)}const Ie=function(Oe,ht){for(const gt of Oe.filters)if(ht.indexOf(gt.op)>=0)return gt.op;return null}(G,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ce.op));if(null!==Ie)throw new ve(ne.INVALID_ARGUMENT,Ie===ce.op?`Invalid query. You cannot use more than one '${ce.op.toString()}' filter.`:`Invalid query. You cannot use '${ce.op.toString()}' filters with '${Ie.toString()}' filters.`)}(l,B),B}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new en(n.firestore,n.converter,function(l,h){const m=l.filters.concat([h]);return new $s(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,a))}}class iS extends Qd{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,l,h){if(null!==a.startAt)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new dn(l,h);return function(E,D){if(null===mv(E)){const S=yv(E);null!==S&&dS(0,S,D.field)}}(a,m),m}(n._query,this.Ka,this.Wa);return new en(n.firestore,n.converter,function(a,l){const h=a.explicitOrderBy.concat([l]);return new $s(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class sS extends Qd{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new en(n.firestore,n.converter,VT(n._query,this.Ga,this.za))}}class oS extends Qd{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=uS(n,this.type,this.Ha,this.Ja);return new en(n.firestore,n.converter,(l=r,new $s((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}class aS extends Qd{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=uS(n,this.type,this.Ha,this.Ja);return new en(n.firestore,n.converter,(l=r,new $s((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function uS(i,n,r,a){if(r[0]=(0,vt.m9)(r[0]),r[0]instanceof Yd)return function(l,h,m,E,D){if(!E)throw new ve(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const N of Sd(l))if(N.field.isKeyField())S.push(bd(h,E.key));else{const M=E.data.field(N.field);if(Nl(M))throw new ve(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const B=N.field.canonicalString();throw new ve(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}S.push(M)}return new Ad(S,D)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const l=ic(i.firestore);return function(h,m,E,D,S,N){const M=h.explicitOrderBy;if(S.length>M.length)throw new ve(ne.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let G=0;G<S.length;G++){const ce=S[G];if(M[G].field.isKeyField()){if("string"!=typeof ce)throw new ve(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof ce}`);if(!cm(h)&&-1!==ce.indexOf("/"))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${ce}' contains a slash.`);const Ie=h.path.child(At.fromString(ce));if(!Ue.isDocumentKey(Ie))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Ie}' is not because it contains an odd number of segments.`);const Oe=new Ue(Ie);B.push(bd(m,Oe))}else{const Ie=KE(E,D,ce);B.push(Ie)}}return new Ad(B,N)}(i._query,i.firestore._databaseId,l,n,r,a)}}function lS(i,n,r){if("string"==typeof(r=(0,vt.m9)(r))){if(""===r)throw new ve(ne.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cm(n)&&-1!==r.indexOf("/"))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(At.fromString(r));if(!Ue.isDocumentKey(a))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return bd(i,new Ue(a))}if(r instanceof Ft)return bd(i,r._key);throw new ve(ne.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(r)}.`)}function cS(i,n){if(!Array.isArray(i)||0===i.length)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new ve(ne.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function dS(i,n,r){if(!r.isEqual(n))throw new ve(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class xb{convertValue(n,r="none"){switch(Ua(n)){case 0:return null;case 1:return n.booleanValue;case 2:return xn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Of(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw He()}}convertObject(n,r){const a={};return Sl(n.fields,(l,h)=>{a[l]=this.convertValue(h,r)}),a}convertGeoPoint(n){return new Qm(xn(n.latitude),xn(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=SC(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Rl(n));default:return null}}convertTimestamp(n){const r=js(n);return new zn(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=At.fromString(n);Je(Bd(a));const l=new nc(a.get(1),a.get(3)),h=new Ue(a.popFirst(5));return l.isEqual(r)||Ln(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function e0(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class hN extends xb{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ur(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ft(this.firestore,null,r)}}class hS{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ic(n)}set(n,r,a){this._verifyNotCommitted();const l=su(n,this._firestore),h=e0(l.converter,r,a),m=ey(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,a);return this._mutations.push(m.toMutation(l._key,Cn.none())),this}update(n,r,a,...l){this._verifyNotCommitted();const h=su(n,this._firestore);let m;return m="string"==typeof(r=(0,vt.m9)(r))||r instanceof ru?zE(this._dataReader,"WriteBatch.update",h._key,r,a,l):ry(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(m.toMutation(h._key,Cn.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=su(n,this._firestore);return this._mutations=this._mutations.concat(new jf(r._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function su(i,n){if((i=(0,vt.m9)(i)).firestore!==n)throw new ve(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class oc extends xb{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ur(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ft(this.firestore,null,r)}}function Nb(i,n,r){i=wt(i,Ft);const a=wt(i.firestore,En),l=e0(i.converter,n,r);return yp(a,[ey(ic(a),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Cn.none())])}function mS(i,n,r,...a){i=wt(i,Ft);const l=wt(i.firestore,En),h=ic(l);let m;return m="string"==typeof(n=(0,vt.m9)(n))||n instanceof ru?zE(h,"updateDoc",i._key,n,r,a):ry(h,"updateDoc",i._key,n),yp(l,[m.toMutation(i._key,Cn.exists(!0))])}function yS(i,...n){var r,a,l;i=(0,vt.m9)(i);let h={includeMetadataChanges:!1},m=0;"object"!=typeof n[m]||Ym(n[m])||(h=n[m],m++);const E={includeMetadataChanges:h.includeMetadataChanges};if(Ym(n[m])){const M=n[m];n[m]=null===(r=M.next)||void 0===r?void 0:r.bind(M),n[m+1]=null===(a=M.error)||void 0===a?void 0:a.bind(M),n[m+2]=null===(l=M.complete)||void 0===l?void 0:l.bind(M)}let D,S,N;if(i instanceof Ft)S=wt(i.firestore,En),N=Ol(i._key.path),D={next:M=>{n[m]&&n[m](t0(S,i,M))},error:n[m+1],complete:n[m+2]};else{const M=wt(i,en);S=wt(M.firestore,En),N=M._query;const B=new oc(S);D={next:G=>{n[m]&&n[m](new Ho(S,B,M,G))},error:n[m+1],complete:n[m+2]},XE(i._query)}return function(M,B,G,ce){const Ie=new Hm(ce),Oe=new pE(B,Ie,G);return M.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return rp(yield Kd(M),Oe)})),()=>{Ie.Xo(),M.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return GI(yield Kd(M),Oe)}))}}(Un(S),N,E,D)}function yp(i,n){return function(r,a){const l=new lr;return r.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(i,n,r){return vE.apply(this,arguments)}(yield FE(r),a,l)})),l.promise}(Un(i),n)}function t0(i,n,r){const a=r.docs.get(n._key),l=new oc(i);return new $o(i,l,n._key,a,new iu(r.hasPendingWrites,r.fromCache),n.converter)}class n0 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ic(n)}get(n){const r=su(n,this._firestore),a=new hN(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return He();const h=l[0];if(h.isFoundDocument())return new Yd(this._firestore,a,h.key,h,r.converter);if(h.isNoDocument())return new Yd(this._firestore,a,r._key,null,r.converter);throw He()})}set(n,r,a){const l=su(n,this._firestore),h=e0(l.converter,r,a),m=ey(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,a);return this._transaction.set(l._key,m),this}update(n,r,a,...l){const h=su(n,this._firestore);let m;return m="string"==typeof(r=(0,vt.m9)(r))||r instanceof ru?zE(this._dataReader,"Transaction.update",h._key,r,a,l):ry(this._dataReader,"Transaction.update",h._key,r),this._transaction.update(h._key,m),this}delete(n){const r=su(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=su(n,this._firestore),a=new oc(this._firestore);return super.get(n).then(l=>new $o(this._firestore,a,r._key,l._document,new iu(!1,!1),r.converter))}}function Xd(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new ve("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function s0(){if("undefined"==typeof Uint8Array)throw new ve("unimplemented","Uint8Arrays are not available in this environment.")}function CS(){if("undefined"==typeof atob)throw new ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){Id=i})(Qi.SDK_VERSION),(0,Qi._registerComponent)(new Ng.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new En(r,new IC(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,Qi.registerVersion)("@firebase/firestore","3.1.0",void 0);class iy{constructor(n){this._delegate=n}static fromBase64String(n){return CS(),new iy(Ur.fromBase64String(n))}static fromUint8Array(n){return s0(),new iy(Ur.fromUint8Array(n))}toBase64(){return CS(),this._delegate.toBase64()}toUint8Array(){return s0(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kb(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class vN{enableIndexedDbPersistence(n,r){return function(i,n){bb(i=wt(i,En));const r=Un(i),a=i._freezeSettings(),l=new $m;return vb(r,l,new rb(l,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){bb(i=wt(i,En));const n=Un(i),r=i._freezeSettings(),a=new $m;return vb(n,a,new ib(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new ve(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new lr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(r=(0,de.Z)(function*(a){if(!xi.bt())return Promise.resolve();const l=a+"main";yield xi.delete(l)}),function(a){return r.apply(this,arguments)})(Zv(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class _p{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof nc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&nm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var l;const h=(i=wt(i,jo))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==n&&nm("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let m,E;if("string"==typeof a.mockUserToken)m=a.mockUserToken,E=ur.MOCK_USER;else{m=(0,vt.Sg)(a.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new ve(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ur(D)}i._credentials=new MT(new RT(m,E))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const n=yield PE(i),r=yield Wm(i);return n.setNetworkEnabled(!0),function(a){const l=Ae(a);return l.Kr.delete(0),Jf(l)}(r)}))}(Un(i=wt(i,En)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const n=yield PE(i),r=yield Wm(i);return n.setNetworkEnabled(!1),(a=(0,de.Z)(function*(l){const h=Ae(l);h.Kr.add(0),yield Fo(h),h.Wr.set("Offline")}),function(l){return a.apply(this,arguments)})(r);var a}))}(Un(i=wt(i,En)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,pb("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new lr;return n.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(i,n){return ec.apply(this,arguments)}(yield FE(n),r)})),r.promise}(Un(i=wt(i,En)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new Hm(n);return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return a=yield Kd(i),l=r,Ae(a).Zr.add(l),void l.next();var a,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return a=yield Kd(i),l=r,void Ae(a).Zr.delete(l);var a,l}))}}(Un(i=wt(i,En)),Ym(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Zs(this,cp(this._delegate,n))}catch(r){throw ri(r,"collection()","Firestore.collection()")}}doc(n){try{return new ss(this,Km(this._delegate,n))}catch(r){throw ri(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ii(this,function(i,n){if(i=wt(i,jo),UE("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new ve(ne.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new en(i,null,(r=n,new $s(At.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw ri(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new lr;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const a=yield(l=i,qm(l).then(h=>h.datastore));var l;new sb(i.asyncQueue,a,n,r).run()})),r.promise}(Un(i),r=>n(new n0(i,r)))}(this._delegate,r=>n(new bS(this,r)))}batch(){return Un(this._delegate),new oy(new hS(this._delegate,n=>yp(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Un(i=wt(i,En)),a=new jE;return function(i,n,r,a){const l=function(h,m){let E;return E="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,S){if(D instanceof Uint8Array)return ME(D,S);if(D instanceof ArrayBuffer)return ME(new Uint8Array(D),S);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(E),new VA(D,m);var D}(r,qd(n));i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function(i,n,r){const a=Ae(i);var l;(l=(0,de.Z)(function*(h,m,E){try{const D=yield m.getMetadata();if(yield function(B,G){const ce=Ae(B),Ie=Pe(G.createTime);return ce.persistence.runTransaction("hasNewerBundle","readonly",Oe=>ce.Je.getBundleMetadata(Oe,G.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(Ie)>=0)}(h.localStore,D))return yield m.close(),void E._completeWith((B=D,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));E._updateProgress(bA(D));const S=new Jx(D,h.localStore,m.N);let N=yield m.Qo();for(;N;){const B=yield S.fo(N);B&&E._updateProgress(B),N=yield m.Qo()}const M=yield S.complete();yield Bo(h,M.Tn,void 0),yield function(B,G){const ce=Ae(B);return ce.persistence.runTransaction("Save bundle","readwrite",Ie=>ce.Je.saveBundleMetadata(Ie,G))}(h.localStore,D),E._completeWith(M.progress)}catch(D){nm("SyncEngine",`Loading bundle failed with ${D}`),E._failWith(D)}var B}),function(h,m,E){return l.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield FE(i),l,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,de.Z)(function*(){return function(r,a){const l=Ae(r);return l.persistence.runTransaction("Get named query","readonly",h=>l.Je.getNamedQuery(h,a))}(yield kE(i),n)}))}(Un(i=wt(i,En)),n).then(r=>r?new en(i,null,r.query):null)}(this._delegate,n).then(r=>r?new ii(this,r):null)}}class sy extends xb{constructor(n){super(),this.firestore=n}convertBytes(n){return new iy(new Ur(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return ss.forKey(r,this.firestore,null)}}class bS{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new sy(n)}get(n){const r=uc(n);return this._delegate.get(r).then(a=>new eh(this._firestore,new $o(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const l=uc(n);return a?(Xd("Transaction.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const h=uc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(n){const r=uc(n);return this._delegate.delete(r),this}}class oy{constructor(n){this._delegate=n}set(n,r,a){const l=uc(n);return a?(Xd("WriteBatch.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const h=uc(n);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,a,...l),this}delete(n){const r=uc(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class ac{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new mp(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new vp(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=ac.INSTANCES;let l=a.get(n);l||(l=new WeakMap,a.set(n,l));let h=l.get(r);return h||(h=new ac(n,new sy(n),r),l.set(r,h)),h}}ac.INSTANCES=new WeakMap;class ss{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new sy(n)}static forPath(n,r,a){if(n.length%2!=0)throw new ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ss(r,new Ft(r._delegate,a,new Ue(n)))}static forKey(n,r,a){return new ss(r,new Ft(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Zs(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Zs(this.firestore,cp(this._delegate,n))}catch(r){throw ri(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,vt.m9)(n))instanceof Ft&&ZA(this._delegate,n)}set(n,r){r=Xd("DocumentReference.set",r);try{return r?Nb(this._delegate,n,r):Nb(this._delegate,n)}catch(a){throw ri(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?mS(this._delegate,n):mS(this._delegate,n,r,...a)}catch(l){throw ri(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return yp(wt(i.firestore,En),[new jf(i._key,Cn.none())])}(this._delegate)}onSnapshot(...n){const r=Fb(n),a=DS(n,l=>new eh(this.firestore,new $o(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return yS(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=wt(i,Ft);const n=wt(i.firestore,En),r=Un(n),a=new oc(n);return function(i,n){const r=new lr;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(a=(0,de.Z)(function*(l,h,m){try{const E=yield function(D,S){const N=Ae(D);return N.persistence.runTransaction("read document","readonly",M=>N.Qn.An(M,S))}(l,h);E.isFoundDocument()?m.resolve(E):E.isNoDocument()?m.resolve(null):m.reject(new ve(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(E){const D=Uo(E,`Failed to get document '${h} from cache`);m.reject(D)}}),function(l,h,m){return a.apply(this,arguments)})(yield kE(i),n,r);var a})),r.promise}(r,i._key).then(l=>new $o(n,a,i._key,l,new iu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=wt(i,Ft);const n=wt(i.firestore,En);return lb(Un(n),i._key,{source:"server"}).then(r=>t0(n,i,r))}(this._delegate):function(i){i=wt(i,Ft);const n=wt(i.firestore,En);return lb(Un(n),i._key).then(r=>t0(n,i,r))}(this._delegate),r.then(a=>new eh(this.firestore,new $o(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new ss(this.firestore,this._delegate.withConverter(n?ac.getInstance(this.firestore,n):null))}}function ri(i,n,r){return i.message=i.message.replace(n,r),i}function Fb(i){for(const n of i)if("object"==typeof n&&!kb(n))return n;return{}}function DS(i,n){var r,a;let l;return l=kb(i[0])?i[0]:kb(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(n(h))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(a=l.complete)||void 0===a?void 0:a.bind(l)}}class eh{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new ss(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return JE(this._delegate,n._delegate)}}class vp extends eh{data(n){const r=this._delegate.data(n);return function(i,n){i||He()}(void 0!==r),r}}class ii{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new sy(n)}where(n,r,a){try{return new ii(this.firestore,Go(this._delegate,function(i,n,r){const a=n,l=gp("where",i);return new nS(l,a,r)}(n,r,a)))}catch(l){throw ri(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new ii(this.firestore,Go(this._delegate,function(i,n="asc"){const r=n,a=gp("orderBy",i);return new iS(a,r)}(n,r)))}catch(a){throw ri(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ii(this.firestore,Go(this._delegate,function(i){return yb("limit",i),new sS("limit",i,"F")}(n)))}catch(r){throw ri(r,"limit()","Query.limit()")}}limitToLast(n){try{return new ii(this.firestore,Go(this._delegate,function(i){return yb("limitToLast",i),new sS("limitToLast",i,"L")}(n)))}catch(r){throw ri(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ii(this.firestore,Go(this._delegate,function(...i){return new oS("startAt",i,!0)}(...n)))}catch(r){throw ri(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ii(this.firestore,Go(this._delegate,function(...i){return new oS("startAfter",i,!1)}(...n)))}catch(r){throw ri(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ii(this.firestore,Go(this._delegate,function(...i){return new aS("endBefore",i,!0)}(...n)))}catch(r){throw ri(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ii(this.firestore,Go(this._delegate,function(...i){return new aS("endAt",i,!1)}(...n)))}catch(r){throw ri(r,"endAt()","Query.endAt()")}}isEqual(n){return Zm(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=wt(i,en);const n=wt(i.firestore,En),r=Un(n),a=new oc(n);return function(i,n){const r=new lr;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(a=(0,de.Z)(function*(l,h,m){try{const E=yield Sm(l,h,!0),D=new KI(h,E.Gn),S=D.Io(E.documents),N=D.applyChanges(S,!1);m.resolve(N.snapshot)}catch(E){const D=Uo(E,`Failed to execute query '${h} against cache`);m.reject(D)}}),function(l,h,m){return a.apply(this,arguments)})(yield kE(i),n,r);var a})),r.promise}(r,i._query).then(l=>new Ho(n,a,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=wt(i,en);const n=wt(i.firestore,En),r=Un(n),a=new oc(n);return cb(r,i._query,{source:"server"}).then(l=>new Ho(n,a,i,l))}(this._delegate):function(i){i=wt(i,en);const n=wt(i.firestore,En),r=Un(n),a=new oc(n);return XE(i._query),cb(r,i._query).then(l=>new Ho(n,a,i,l))}(this._delegate),r.then(a=>new o0(this.firestore,new Ho(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=Fb(n),a=DS(n,l=>new o0(this.firestore,new Ho(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return yS(this._delegate,r,a)}withConverter(n){return new ii(this.firestore,this._delegate.withConverter(n?ac.getInstance(this.firestore,n):null))}}class wN{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new vp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class o0{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new ii(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new vp(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new wN(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new vp(this._firestore,a))})}isEqual(n){return JE(this._delegate,n._delegate)}}class Zs extends ii{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ss(this.firestore,n):null}doc(n){try{return new ss(this.firestore,void 0===n?Km(this._delegate):Km(this._delegate,n))}catch(r){throw ri(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=wt(i.firestore,En),a=Km(i),l=e0(i.converter,n);return yp(r,[ey(ic(i.firestore),"addDoc",a._key,l,null!==i.converter,{}).toMutation(a._key,Cn.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new ss(this.firestore,r))}isEqual(n){return ZA(this._delegate,n._delegate)}withConverter(n){return new Zs(this.firestore,this._delegate.withConverter(n?ac.getInstance(this.firestore,n):null))}}function uc(i){return wt(i,Ft)}class a0{constructor(...n){this._delegate=new ru(...n)}static documentId(){return new a0(cr.keyField().canonicalString())}isEqual(n){return(n=(0,vt.m9)(n))instanceof ru&&this._delegate._internalPath.isEqual(n._internalPath)}}class lc{constructor(n){this._delegate=n}static serverTimestamp(){const n=new ty("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new lc(n)}static delete(){const n=new sc("deleteField");return n._methodName="FieldValue.delete",new lc(n)}static arrayUnion(...n){const r=function(...i){return new ny("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new lc(r)}static arrayRemove(...n){const r=function(...i){return new WE("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new lc(r)}static increment(n){const r=function(i){return new sN("increment",i)}(n);return r._methodName="FieldValue.increment",new lc(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const u0={Firestore:_p,GeoPoint:Qm,Timestamp:zn,Blob:iy,Transaction:bS,WriteBatch:oy,DocumentReference:ss,DocumentSnapshot:eh,Query:ii,QueryDocumentSnapshot:vp,QuerySnapshot:o0,CollectionReference:Zs,FieldPath:a0,FieldValue:lc,setLogLevel:function(i){!function(i){Tl.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new Ng.wA("firestore-compat",r=>((n,r)=>new _p(n,r,new vN))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},u0)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(JD.Z);var AS=k(6682),cc=k(309),SS=k(7771),xS=k(8858);class l0 extends Er.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new Lb(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=a.length;let m;if(this.closed)throw new Pc.N;if(this.isStopped||this.hasError?m=$h.w.EMPTY:(this.observers.push(n),m=new xS.W(this,n)),l&&n.add(n=new cc.ht(n,l)),r)for(let E=0;E<h&&!n.closed;E++)n.next(a[E]);else for(let E=0;E<h&&!n.closed;E++)n.next(a[E].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),m}_getNow(){return(this.scheduler||SS.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,l=this._events,h=l.length;let m=0;for(;m<h&&!(n-l[m].time<a);)m++;return h>r&&(m=Math.max(m,h-r)),m>0&&l.splice(0,m),l}}class Lb{constructor(n,r){this.time=n,this.value=r}}function c0(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let l,m,h=0,E=!1,D=!1;return function(N){let M;h++,!l||E?(E=!1,l=new l0(i,n,a),M=l.subscribe(this),m=N.subscribe({next(B){l.next(B)},error(B){E=!0,l.error(B)},complete(){D=!0,m=void 0,l.complete()}}),D&&(m=void 0)):M=l.subscribe(this),this.add(()=>{h--,M.unsubscribe(),M=void 0,m&&!D&&r&&0===h&&(m.unsubscribe(),m=void 0,l=void 0)})}}(a))}function d0(i,n){return n?on(()=>i,n):on(()=>i)}var ay=k(3101),RS=k(7841);const uy=new v.OlP("angularfire2.auth.use-emulator"),h0=new v.OlP("angularfire2.auth.settings"),f0=new v.OlP("angularfire2.auth.tenant-id"),ly=new v.OlP("angularfire2.auth.langugage-code"),Vb=new v.OlP("angularfire2.auth.use-device-language"),Mi=new v.OlP("angularfire.auth.persistence"),Ub=(i,n,r,a,l,h,m,E)=>(0,ir.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const D=n.runOutsideAngular(()=>i.auth());if(r&&D.useEmulator(...r),a&&(D.tenantId=a),D.languageCode=l,h&&D.useDeviceLanguage(),m)for(const[S,N]of Object.entries(m))D.settings[S]=N;return E&&D.setPersistence(E),D},[r,a,l,h,m,E]);let OS=(()=>{class i{constructor(r,a,l,h,m,E,D,S,N,M,B){const G=new Er.xQ,ce=(0,ze.of)(void 0).pipe((0,cc.QV)(m.outsideAngular),on(()=>h.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,670)))),(0,nt.U)(()=>(0,Pn.on)(r,h,a)),(0,nt.U)(Ie=>Ub(Ie,h,E,S,N,M,D,B)),c0({bufferSize:1,refCount:!1}));if(mu(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ze.of)(null);else{ce.pipe(fo()).subscribe();const Oe=ce.pipe(on(ct=>ct.getRedirectResult().then(St=>St,()=>null)),ir.iC,c0({bufferSize:1,refCount:!1})),ht=ce.pipe(on(ct=>new qr.y(St=>({unsubscribe:h.runOutsideAngular(()=>ct.onAuthStateChanged(Qn=>St.next(Qn),Qn=>St.error(Qn),()=>St.complete()))})))),gt=ce.pipe(on(ct=>new qr.y(St=>({unsubscribe:h.runOutsideAngular(()=>ct.onIdTokenChanged(Qn=>St.next(Qn),Qn=>St.error(Qn),()=>St.complete()))}))));this.authState=Oe.pipe(d0(ht),(0,ay.R)(m.outsideAngular),(0,cc.QV)(m.insideAngular)),this.user=Oe.pipe(d0(gt),(0,ay.R)(m.outsideAngular),(0,cc.QV)(m.insideAngular)),this.idToken=this.user.pipe(on(ct=>ct?(0,$t.D)(ct.getIdToken()):(0,ze.of)(null))),this.idTokenResult=this.user.pipe(on(ct=>ct?(0,$t.D)(ct.getIdTokenResult()):(0,ze.of)(null))),this.credential=(0,AS.T)(Oe,G,this.authState.pipe(fi(ct=>!ct))).pipe((0,nt.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,ay.R)(m.outsideAngular),(0,cc.QV)(m.insideAngular))}return(0,Pn.pX)(this,ce,h,{spy:{apply:(Ie,Oe,ht)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&ht.then(gt=>G.next(gt))}}})}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Pn.Dh),v.LFG(Pn.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ir.HU),v.LFG(uy,8),v.LFG(h0,8),v.LFG(f0,8),v.LFG(ly,8),v.LFG(Vb,8),v.LFG(Mi,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Bb(i,n){return function(i,n=Tw.z){return new qr.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function p0(i,n){return Bb(i,n).pipe((0,nt.U)(r=>({payload:r,type:"query"})))}function g0(i,n){return p0(i,n).pipe(Uu(void 0),I_(),(0,nt.U)(([r,a])=>{const l=a.payload.docChanges(),h=l.map(m=>({type:m.type,payload:m}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((m,E)=>{const D=l.find(N=>N.doc.ref.isEqual(m.ref)),S=null==r?void 0:r.payload.docs.find(N=>N.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:E,newIndex:E,type:"modified",doc:m}})}),h}))}function jb(i,n,r){return g0(i,r).pipe(fa((a,l)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return m0(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return m0(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return m0(i,n.oldIndex,1)}return i}(i,a))}),i}(a,l.map(h=>h.payload),n),[]),r=>r.lift(new Sw(void 0,void 0)),(0,nt.U)(a=>a.map(l=>({type:l.type,payload:l}))))}function m0(i,n,r,...a){const l=i.slice();return l.splice(n,r,...a),l}function y0(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Hb{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=g0(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,nt.U)(a=>a.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(Uu(void 0),I_(),fi(([a,l])=>l.length>0||!a),(0,nt.U)(([a,l])=>l),ir.iC)}auditTrail(n){return this.stateChanges(n).pipe(fa((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=y0(n);return jb(this.query,r,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(n={}){return p0(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),ir.iC)}get(n){return(0,$t.D)(this.query.get(n)).pipe(ir.iC)}add(n){return this.ref.add(n)}doc(n){return new FS(this.ref.doc(n),this.afs)}}class FS{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:l,query:h}=th(a,r);return new Hb(l,h,this.afs)}snapshotChanges(){return function(i,n){return Bb(i,n).pipe(Uu(void 0),I_(),(0,nt.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,$t.D)(this.ref.get(n)).pipe(ir.iC)}}class Gb{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?g0(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),fi(r=>r.length>0),ir.iC):g0(this.query,this.afs.schedulers.outsideAngular).pipe(ir.iC)}auditTrail(n){return this.stateChanges(n).pipe(fa((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=y0(n);return jb(this.query,r,this.afs.schedulers.outsideAngular).pipe(ir.iC)}valueChanges(n={}){return p0(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(a=>a.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),ir.iC)}get(n){return(0,$t.D)(this.query.get(n)).pipe(ir.iC)}}const _0=new v.OlP("angularfire2.enableFirestorePersistence"),qb=new v.OlP("angularfire2.firestore.persistenceSettings"),LS=new v.OlP("angularfire2.firestore.settings"),Wb=new v.OlP("angularfire2.firestore.use-emulator");function th(i,n=(r=>r)){return{query:n(i),ref:i}}let Ep=(()=>{class i{constructor(r,a,l,h,m,E,D,S,N,M,B,G,ce,Ie,Oe,ht){this.schedulers=D;const gt=(0,Pn.on)(r,E,a),ct=N;M&&Ub(gt,E,B,ce,Ie,Oe,G,ht),[this.firestore,this.persistenceEnabled$]=(0,ir.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const St=E.runOutsideAngular(()=>gt.firestore());if(h&&St.settings(h),ct&&St.useEmulator(...ct),l&&!mu(m)){const Qn=()=>{try{return(0,$t.D)(St.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(xD){return"undefined"!=typeof console&&console.warn(xD),(0,ze.of)(!1)}};return[St,E.runOutsideAngular(Qn)]}return[St,(0,ze.of)(!1)]},[h,ct,l])}collection(r,a){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:m}=th(l,a),E=this.schedulers.ngZone.run(()=>h);return new Hb(E,m,this)}collectionGroup(r,a){const l=a||(m=>m),h=this.firestore.collectionGroup(r);return new Gb(l(h),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>a);return new FS(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Pn.Dh),v.LFG(Pn.xv,8),v.LFG(_0,8),v.LFG(LS,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(ir.HU),v.LFG(qb,8),v.LFG(Wb,8),v.LFG(OS,8),v.LFG(uy,8),v.LFG(h0,8),v.LFG(f0,8),v.LFG(ly,8),v.LFG(Vb,8),v.LFG(Mi,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),zb=(()=>{class i{constructor(){RS.Z.registerVersion("angularfire",ir.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:_0,useValue:!0},{provide:qb,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[Ep]}),i})(),VS=(()=>{class i{constructor(r){this.bd=r,this.rutaDeLaColeccion="/peliculas",this.referenciaAlaColeccion=r.collection(this.rutaDeLaColeccion)}AltaPelicula(r){return this.referenciaAlaColeccion.add(Object.assign({},r))}ListarPeliculas(){return this.referenciaAlaColeccion.valueChanges()}}return i.\u0275fac=function(r){return new(r||i)(v.LFG(Ep))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function US(i,n){if(1&i&&(v.TgZ(0,"div"),v.TgZ(1,"h1"),v._uU(2),v.qZA(),v.qZA()),2&i){const r=n.$implicit;v.xp6(2),v.Oqu(r.nombre)}}let BS=(()=>{class i{constructor(r){this.peliculasService=r,this.peliculas=this.peliculasService.ListarPeliculas()}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)(v.Y36(VS))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-listado"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(r,a){1&r&&(v.TgZ(0,"p"),v._uU(1,"listado works!"),v.qZA(),v.YNc(2,US,3,1,"div",0)),2&r&&(v.xp6(2),v.Q6J("ngForOf",a.peliculas))},directives:[ki],styles:[""]}),i})();const bN=[{path:"busqueda",component:zD},{path:"peliculas/alta",component:KD},{path:"actor/alta",component:ZD},{path:"actor/listado",component:BS},{path:"pelicula/listado",component:BS},{path:"",component:WD}];let DN=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[[Iw.forRoot(bN)],Iw]}),i})(),Kb=(()=>{class i{constructor(){this.title="primer-parcial"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){1&r&&v._UZ(0,"router-outlet")},directives:[bg],styles:[""]}),i})();k(1555);let yD=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({}),i})(),d=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[[yD]]}),i})(),f=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[d]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=v.oAB({type:i,bootstrap:[Kb]}),i.\u0275inj=v.cJS({providers:[Ep],imports:[[Ru,DN,Pn.hO.initializeApp(Lh_firebaseConfig),zb,f]]}),i})();(0,v.G48)(),Py().bootstrapModule(A).catch(i=>console.error(i))},4762:(Be,pe,k)=>{"use strict";function le(J,ee){var ie={};for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&ee.indexOf(te)<0&&(ie[te]=J[te]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for(te=Object.getOwnPropertySymbols(J);re<te.length;re++)ee.indexOf(te[re])<0&&Object.prototype.propertyIsEnumerable.call(J,te[re])&&(ie[te[re]]=J[te[re]])}return ie}function oe(J,ee,ie,te){return new(ie||(ie=Promise))(function(z,we){function je(st){try{qe(te.next(st))}catch(Lt){we(Lt)}}function dt(st){try{qe(te.throw(st))}catch(Lt){we(Lt)}}function qe(st){st.done?z(st.value):function(z){return z instanceof ie?z:new ie(function(we){we(z)})}(st.value).then(je,dt)}qe((te=te.apply(J,ee||[])).next())})}function $(J,ee){var te,re,z,we,ie={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return we={next:je(0),throw:je(1),return:je(2)},"function"==typeof Symbol&&(we[Symbol.iterator]=function(){return this}),we;function je(qe){return function(st){return function(qe){if(te)throw new TypeError("Generator is already executing.");for(;ie;)try{if(te=1,re&&(z=2&qe[0]?re.return:qe[0]?re.throw||((z=re.return)&&z.call(re),0):re.next)&&!(z=z.call(re,qe[1])).done)return z;switch(re=0,z&&(qe=[2&qe[0],z.value]),qe[0]){case 0:case 1:z=qe;break;case 4:return ie.label++,{value:qe[1],done:!1};case 5:ie.label++,re=qe[1],qe=[0];continue;case 7:qe=ie.ops.pop(),ie.trys.pop();continue;default:if(!(z=(z=ie.trys).length>0&&z[z.length-1])&&(6===qe[0]||2===qe[0])){ie=0;continue}if(3===qe[0]&&(!z||qe[1]>z[0]&&qe[1]<z[3])){ie.label=qe[1];break}if(6===qe[0]&&ie.label<z[1]){ie.label=z[1],z=qe;break}if(z&&ie.label<z[2]){ie.label=z[2],ie.ops.push(qe);break}z[2]&&ie.ops.pop(),ie.trys.pop();continue}qe=ee.call(J,ie)}catch(st){qe=[6,st],re=0}finally{te=z=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([qe,st])}}}function q(J){var ee="function"==typeof Symbol&&Symbol.iterator,ie=ee&&J[ee],te=0;if(ie)return ie.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&te>=J.length&&(J=void 0),{value:J&&J[te++],done:!J}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(J,ee){var ie="function"==typeof Symbol&&J[Symbol.iterator];if(!ie)return J;var re,we,te=ie.call(J),z=[];try{for(;(void 0===ee||ee-- >0)&&!(re=te.next()).done;)z.push(re.value)}catch(je){we={error:je}}finally{try{re&&!re.done&&(ie=te.return)&&ie.call(te)}finally{if(we)throw we.error}}return z}function Y(J,ee,ie){if(ie||2===arguments.length)for(var z,te=0,re=ee.length;te<re;te++)(z||!(te in ee))&&(z||(z=Array.prototype.slice.call(ee,0,te)),z[te]=ee[te]);return J.concat(z||Array.prototype.slice.call(ee))}k.d(pe,{_T:()=>le,mG:()=>oe,Jh:()=>$,XA:()=>q,CR:()=>H,ev:()=>Y})},8239:(Be,pe,k)=>{"use strict";function v(F,le,ue,X,he,oe,$){try{var O=F[oe]($),P=O.value}catch(q){return void ue(q)}O.done?le(P):Promise.resolve(P).then(X,he)}function Z(F){return function(){var le=this,ue=arguments;return new Promise(function(X,he){var oe=F.apply(le,ue);function $(P){v(oe,X,he,$,O,"next",P)}function O(P){v(oe,X,he,$,O,"throw",P)}$(void 0)})}}k.d(pe,{Z:()=>Z})}},Be=>{Be(Be.s=2857)}]);